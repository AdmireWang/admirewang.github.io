"use strict";(self["webpackJsonp_aiassistant"]=self["webpackJsonp_aiassistant"]||[]).push([[331],{50386:function(e,a,t){t.r(a),t.d(a,{default:function(){return Pe}});var n=t(26436),i=t(15167),l=t(17126),s=t(26840),u=t(42153),r=t(75805),o=(t(44114),t(26099),t(87959)),c={class:"market-header"};function d(e,a){return(0,n.uX)(),(0,n.CE)("div",c,a[0]||(a[0]=[(0,n.Lk)("div",{class:"market-header-title"},"智能体",-1),(0,n.Lk)("div",{class:"market-header-note"},"探索智能体的无限可能",-1)]))}var v=t(55932);const p={},f=(0,v.A)(p,[["render",d],["__scopeId","data-v-5c05dcd1"]]);var m=f,k=t(48397),h=(t(90192),t(5873)),g=(t(52675),t(89463),t(62062),t(62010),t(79432),t(81454),t(87019)),C=t(75610),b=t(41045),_=t(22081),y=t(59433),w={class:"form-wrap"},L={class:"btn-wrap"},A=(0,n.pM)({__name:"Drawer",emits:["refresh"],setup:function(e,a){var t=a.expose,s=a.emit,c=(0,C.rd)(),d=(0,i.KR)(!1),v=(0,i.KR)("创建AI助手"),p=(0,i.KR)("创建"),f=(0,i.KR)(),m=(0,i.KR)(),k=(0,i.Kh)({name:"",description:"",prompts:""}),A=(0,i.KR)(void 0),F=(0,i.KR)(""),E=(0,i.KR)(""),R=s,x={name:[{required:!0,message:"请输入助手名称"}],description:[{required:!0,message:"请输入助手简介"}],prompts:[{required:!0,message:"请输入助手设定"}]},K=function(){var e;d.value=!1,null===(e=m.value)||void 0===e||e.resetFields(),Object.keys(k).map((function(e){k[e]=""})),v.value="创建AI助手",p.value="创建",F.value="",E.value=""},X=function(){var e=(0,r.A)((0,u.A)().mark((function e(){var a,t,n,i,l,s;return(0,u.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,null===(a=m.value)||void 0===a?void 0:a.validateFields();case 3:n=e.sent,i=null===(t=f.value)||void 0===t?void 0:t.getAvatarData(),l="创建"===p.value?y.B7:y.Xu,s="创建"===p.value?void 0:A.value,l((0,h.A)((0,h.A)((0,h.A)({},n),i),{},{code:s})).then((function(e){if(1e4===e.code){var a;if(b.Ay.success("".concat(p.value,"成功")),"创建"===p.value)c.push({path:"/chat/new",query:{agent:null===(a=e.data)||void 0===a?void 0:a.code}});else R("refresh");K()}})),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),console.log(e.t0,"<=== error ===>");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=(0,r.A)((0,u.A)().mark((function e(a){var t;return(0,u.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(d.value=!0,!a){e.next=13;break}return v.value="编辑AI助手",p.value="保存",e.next=6,(0,y.UU)(a);case 6:t=e.sent,k.name=t.data.name,k.description=t.data.description,k.prompts=t.data.prompts,F.value=t.data.icon,E.value=t.data.iconBackground,A.value=a;case 13:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return t({show:B}),function(e,a){var t=(0,n.g2)("a-input"),s=(0,n.g2)("a-form-item"),u=(0,n.g2)("a-textarea"),r=(0,n.g2)("a-form"),c=(0,n.g2)("a-button"),h=(0,n.g2)("a-drawer");return(0,n.uX)(),(0,n.Wv)(h,{title:v.value,visible:d.value,width:480,getContainer:(0,i.R1)(l.My),onClose:K},{footer:(0,n.k6)((function(){return[(0,n.Lk)("div",L,[(0,n.bF)(c,{onClick:K},{default:(0,n.k6)((function(){return a[4]||(a[4]=[(0,n.eW)("取消")])})),_:1}),(0,n.bF)(c,{class:"btn",type:"primary",onClick:X},{default:(0,n.k6)((function(){return[(0,n.eW)((0,o.v_)(p.value),1)]})),_:1})])]})),default:(0,n.k6)((function(){return[(0,n.Lk)("div",w,[(0,n.bF)(_.A,{ref_key:"avatarRef",ref:f,avatar:F.value,avatarBg:E.value},null,8,["avatar","avatarBg"]),a[3]||(a[3]=(0,n.Lk)("div",{class:"tips"},[(0,n.Lk)("img",{src:g}),(0,n.Lk)("div",null,"共同探索安全合规的大模型服务")],-1))]),(0,n.bF)(r,{ref_key:"formRef",ref:m,layout:"vertical",model:k,rules:x},{default:(0,n.k6)((function(){return[(0,n.bF)(s,{label:"助手名称",name:"name"},{default:(0,n.k6)((function(){return[(0,n.bF)(t,{value:k.name,"onUpdate:value":a[0]||(a[0]=function(e){return k.name=e}),placeholder:"请输入名称","show-count":"",maxlength:30},null,8,["value"])]})),_:1}),(0,n.bF)(s,{label:"助手简介",name:"description"},{default:(0,n.k6)((function(){return[(0,n.bF)(u,{value:k.description,"onUpdate:value":a[1]||(a[1]=function(e){return k.description=e}),placeholder:"AI助手的简单介绍，仅用于展示","show-count":"",maxlength:100,rows:4},null,8,["value"])]})),_:1}),(0,n.bF)(s,{label:"助手设定",name:"prompts"},{default:(0,n.k6)((function(){return[(0,n.bF)(u,{value:k.prompts,"onUpdate:value":a[2]||(a[2]=function(e){return k.prompts=e}),placeholder:"描述助手的设定信息（提示词），示例：你是专业的市场营销顾问，拥有丰富的行业经验和敏锐的市场洞察力。能够精准分析市场趋势，为我提供创新且有效的营销策略","show-count":"",maxlength:1e3,rows:7},null,8,["value"])]})),_:1})]})),_:1},8,["model"])]})),_:1},8,["title","visible","getContainer"])}}});const F=(0,v.A)(A,[["__scopeId","data-v-792ff67f"]]);var E=F,R=t(19790),x=(0,n.pM)({__name:"index",setup:function(e,a){var t=a.expose,l=(0,i.KR)(),s=function(e){var a;null===(a=l.value)||void 0===a||a.show(e)},o=(0,i.KR)(!1);return(0,n.sV)((0,r.A)((0,u.A)().mark((function e(){return(0,u.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:(0,R.Y)().then((function(e){var a;o.value=null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.withinPurview}));case 1:case"end":return e.stop()}}),e)})))),t({show:s}),function(e,a){var t=(0,n.g2)("a-button");return(0,n.uX)(),(0,n.CE)(n.FK,null,[o.value?((0,n.uX)(),(0,n.Wv)(t,{key:0,type:"primary",onClick:a[0]||(a[0]=function(e){return s()})},{icon:(0,n.k6)((function(){return a[2]||(a[2]=[(0,n.Lk)("h-icon-plus",null,null,-1)])})),default:(0,n.k6)((function(){return[a[3]||(a[3]=(0,n.eW)(" 创建智能体 "))]})),_:1})):(0,n.Q3)("",!0),(0,n.bF)(E,{ref_key:"drawerRef",ref:l,onRefresh:a[1]||(a[1]=function(a){return e.$emit("refresh")})},null,512)],64)}}});const K=x;var X=K,B=t(55542),H=(t(2892),(0,n.pM)({name:"SegmentedItem",props:{value:{type:[String,Number]},label:{type:[String,Number]},tooltip:{type:String,default:""},disabled:{type:Boolean,default:!1},actived:{type:Boolean,default:!1}},emits:["choose","active"],setup:function(e,a){var t=a.emit,i=function(){e.disabled||t("choose",e.value)};return function(){var a=e.label,t=e.value,l=e.tooltip;return(0,n.bF)("div",{class:["segmented-item",e.disabled&&"segmented-item-disabled",e.actived&&"segmented-item-active"],onClick:i},[(0,n.bF)(n.FK,null,[l?(0,n.bF)((0,n.g2)("a-tooltip"),{title:l},{default:function(){return[a||t]}}):a||t])])}}})),M=(0,n.pM)({name:"Segmented",props:{value:{type:[String,Number]},disabled:{type:Boolean,default:!1},options:{type:Array,default:function(){return[]}}},emits:["change","update:value"],setup:function(e,a){var t=a.emit,i=function(a){e.disabled||null!==a&&void 0!==a&&a.disabled||(t("update:value",a.value),t("change",a.value,a))};return function(){var a=e||{},t=a.value,l=a.disabled,s=a.options;return(0,n.bF)("div",{class:["segmented",l&&"segmented-disabled"]},[s.map((function(e){return(0,n.bF)(H,(0,n.v6)(e,{actived:(null===e||void 0===e?void 0:e.value)===t,disabled:l||(null===e||void 0===e?void 0:e.disabled),onChoose:function(){return i(e)}}),null)}))])}}}),W={width:"12.000000",height:"12.000000",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"};function I(e,a){return(0,n.uX)(),(0,n.CE)("svg",W,a[0]||(a[0]=[(0,n.Fv)('<desc>Created with Pixso.</desc><defs><clipPath id="clip907_12053"><rect id="svg" width="12.000000" height="12.000000" fill="white" fill-opacity="0"></rect></clipPath></defs><g clip-path="url(#clip907_12053)"><path id="path" d="M5.71 10.59C7.62 10.59 9.18 9.08 9.18 7.15C9.18 6.67 9.16 6.16 8.89 5.37C8.63 4.58 8.58 4.48 8.3 3.99C8.18 4.99 7.54 5.4 7.38 5.53C7.38 5.4 6.99 3.97 6.41 3.11C5.84 2.27 5.06 1.72 4.6 1.35C4.6 2.05 4.4 3.11 4.11 3.65C3.83 4.19 3.77 4.2 3.42 4.6C3.06 5.01 2.9 5.13 2.6 5.61C2.3 6.1 2.25 6.75 2.25 7.22C2.25 9.16 3.81 10.59 5.71 10.59Z" fill="#F53F3F" fill-opacity="1.000000" fill-rule="nonzero"></path><path id="path" d="M9.18 7.15C9.18 6.67 9.16 6.16 8.89 5.37C8.63 4.58 8.58 4.48 8.3 3.99C8.18 4.99 7.54 5.4 7.38 5.53C7.38 5.4 6.99 3.97 6.41 3.11C5.84 2.27 5.06 1.72 4.6 1.35C4.6 2.05 4.4 3.11 4.11 3.65C3.83 4.19 3.77 4.2 3.42 4.6C3.06 5.01 2.9 5.13 2.6 5.61C2.3 6.1 2.25 6.75 2.25 7.22C2.25 9.16 3.81 10.59 5.71 10.59C7.62 10.59 9.18 9.08 9.18 7.15Z" stroke="#F53F3F" stroke-opacity="1.000000" stroke-width="1.000000" stroke-linejoin="round"></path></g>',3)]))}const S={},D=(0,v.A)(S,[["render",I]]);var U=D,T=(t(34782),t(91469)),N={class:"assistant-prompts"},q=["onClick"],P={class:"assistant-prompt-item-text"},Q=(0,n.pM)({__name:"index",props:{prompts:Array,useHandle:Function},setup:function(e){var a=e,t=(0,n.EW)((function(){return(a.prompts||[]).slice(0,3)}));return function(a,i){var l=(0,n.g2)("a-tooltip");return(0,n.uX)(),(0,n.CE)("div",N,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(t.value,(function(a,i){return(0,n.uX)(),(0,n.CE)("div",{class:(0,o.C4)(["assistant-prompt-item","assistant-prompt-item-".concat(t.value.length)]),key:i,onClick:(0,T.D$)((function(){return e.useHandle(a)}),["stop"])},[(0,n.bF)(l,{title:a},{default:(0,n.k6)((function(){return[(0,n.Lk)("div",P,(0,o.v_)(a),1)]})),_:2},1032,["title"])],10,q)})),128))])}}});const Z=(0,v.A)(Q,[["__scopeId","data-v-01836aff"]]);var J=Z,V=t(70001),j=t(81017),z={class:"ai-assistans-card-header"},$={class:"ai-assistans-card-avatar"},O={class:"ai-assistans-card-header-content"},G={class:"ai-assistans-card-header-title"},Y={class:"ai-assistans-card-header-note"},ee={class:"ai-assistans-card-tips"},ae={class:"ai-assistans-card-actions"},te={key:0,class:"ai-assistans-card-number"},ne={class:"ai-assistans-card-action-item-number"},ie={class:"ai-assistans-card-action-item-number"},le={class:"ai-assistans-card-action-hot-item"},se={class:"ai-assistans-card-action-item-number"},ue={key:1},re={class:"ai-assistans-card-source"},oe=(0,n.pM)({__name:"index",props:{assistant:Object},setup:function(e){var a,t,l,s,c,d=(0,C.rd)(),v=e,p=(0,i.KR)((null===(a=v.assistant)||void 0===a?void 0:a.thumbsUp)||0),f=(0,i.KR)((null===(t=v.assistant)||void 0===t?void 0:t.favorites)||0),m=(0,i.KR)((null===(l=v.assistant)||void 0===l?void 0:l.heat)||0),k=(0,i.KR)((null===(s=v.assistant)||void 0===s?void 0:s.userFavorites)||!1),h=(0,i.KR)((null===(c=v.assistant)||void 0===c?void 0:c.userThumbsUp)||!1),g=function(e){var a;e.stopPropagation(),A.value.userUsable&&(h.value=!h.value,p.value+=h.value?1:-1,(0,y.aG)(null===(a=v.assistant)||void 0===a?void 0:a.id,h.value))},_=function(e){var a;e.stopPropagation(),A.value.userUsable&&(k.value=!k.value,f.value+=k.value?1:-1,(0,y.Q9)(null===(a=v.assistant)||void 0===a?void 0:a.id,k.value))},w=function(){var e=(0,r.A)((0,u.A)().mark((function e(a){var t,n,i,l,s,r;return(0,u.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(A.value.userUsable){e.next=3;break}return b.Ay.error("当前助手无权限，无法正常使用。可联系所属领域管理员添加权限后再使用。"),e.abrupt("return");case 3:(0,y.J3)(null===(t=v.assistant)||void 0===t?void 0:t.id),a?((0,V.bJ)(a),(0,V.Dl)(null===(n=v.assistant)||void 0===n?void 0:n.agentName,null===(i=v.assistant)||void 0===i?void 0:i.agentCode,null===(l=v.assistant)||void 0===l?void 0:l.agentIcon,null===(s=v.assistant)||void 0===s?void 0:s.iconBackground,a)):d.push({path:"/chat/new",query:{agent:null===(r=v.assistant)||void 0===r?void 0:r.agentCode}});case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),L=function(e){return e>999?"999+":e},A=(0,n.EW)((function(){return v.assistant}));return function(e,a){var t=(0,n.g2)("a-tooltip");return(0,n.uX)(),(0,n.CE)("div",{class:(0,o.C4)(["ai-assistans-card",!A.value.userUsable&&"ai-assistans-card-disabled"]),onClick:a[2]||(a[2]=function(){return w()})},[(0,n.Lk)("div",z,[(0,n.Lk)("div",$,[(0,n.bF)(j.A,{icon:A.value.agentIcon,iconBackground:A.value.iconBackground},null,8,["icon","iconBackground"])]),(0,n.Lk)("div",O,[(0,n.Lk)("div",G,[(0,n.bF)(t,{title:A.value.agentName},{default:(0,n.k6)((function(){return[(0,n.eW)((0,o.v_)(A.value.agentName),1)]})),_:1},8,["title"])]),(0,n.bF)(t,{title:A.value.agentDesc},{default:(0,n.k6)((function(){return[(0,n.Lk)("div",Y,(0,o.v_)(A.value.agentDesc),1)]})),_:1},8,["title"])])]),(0,n.Lk)("div",ee,[(0,n.bF)(J,{prompts:A.value.prompts,useHandle:w},null,8,["prompts"])]),(0,n.Lk)("div",ae,["personal"!==A.value.agentType?((0,n.uX)(),(0,n.CE)("div",te,[(0,n.Lk)("div",{class:(0,o.C4)(["ai-assistans-card-action-item",h.value&&"ai-assistans-card-action-item-blue"]),onClick:a[0]||(a[0]=function(e){return g(e)})},[a[3]||(a[3]=(0,n.Lk)("div",{class:"ai-assistans-card-action-item-icon"},null,-1)),(0,n.Lk)("span",ne,(0,o.v_)(L(p.value)),1)],2),"super"!==A.value.agentCode?((0,n.uX)(),(0,n.CE)("div",{key:0,class:(0,o.C4)(["ai-assistans-card-action-item",k.value&&"ai-assistans-card-action-item-blue"]),onClick:a[1]||(a[1]=function(e){return _(e)})},[a[4]||(a[4]=(0,n.Lk)("div",{class:"ai-assistans-card-action-item-icon favorite"},null,-1)),(0,n.Lk)("span",ie,(0,o.v_)(L(f.value)),1)],2)):(0,n.Q3)("",!0),(0,n.Lk)("div",le,[(0,n.bF)(U),(0,n.Lk)("span",se,(0,o.v_)(L(m.value)),1)])])):((0,n.uX)(),(0,n.CE)("div",ue)),(0,n.Lk)("div",re," 来源："+(0,o.v_)("personal"!==A.value.agentType?A.value.domainName:"个人助手"),1)])],2)}}});const ce=(0,v.A)(oe,[["__scopeId","data-v-7a43de22"]]);var de=ce,ve=t(16232),pe=(t(26910),{width:"16.000000",height:"16.000000",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}),fe=["fill"],me=["fill"],ke=(0,n.pM)({__name:"sort",props:{changeHandle:Function,sort:{type:String,default:"HEAT_DESC"}},setup:function(e){var a=e,t=(0,i.KR)(a.sort||"HEAT_ASC"),l=function(){t.value="HEAT_DESC"===t.value?"HEAT_ASC":"HEAT_DESC"};return(0,n.wB)((function(){return t.value}),(function(){a.changeHandle&&a.changeHandle(t.value)})),function(e,a){return(0,n.uX)(),(0,n.CE)("div",{class:"assistant-market-sort",onClick:l},[((0,n.uX)(),(0,n.CE)("svg",pe,[a[0]||(a[0]=(0,n.Fv)('<defs data-v-26963738></defs><g opacity="0.000000" data-v-26963738><rect id="矩形" width="16.000000" height="16.000000" fill="#EBEEF5" fill-opacity="1.000000" data-v-26963738></rect><rect id="矩形" x="0.500000" y="0.500000" width="15.000000" height="15.000000" stroke="#979797" stroke-opacity="0" stroke-width="1.000000" data-v-26963738></rect></g><mask id="mask_350_13606" fill="white" data-v-26963738><path id="形状结合" d="M6.5 5.75L6.5 2.5022C6.5 2.35754 6.43701 2.21985 6.32715 2.12488C6.11768 1.94373 5.80029 1.9657 5.61816 2.17407L2.12354 6.17163C2.04395 6.2627 2 6.37915 2 6.49976C2 6.77588 2.2251 6.99976 2.50244 6.99976L5 6.99976L5 13.25C5 13.6642 5.33594 14 5.75 14C6.16406 14 6.5 13.6642 6.5 13.25L6.5 5.75Z" clip-rule="evenodd" fill="" fill-opacity="1.000000" fill-rule="evenodd" data-v-26963738></path></mask>',3)),(0,n.Lk)("path",{id:"形状结合",d:"M6.5 5.75L6.5 2.5022C6.5 2.35754 6.43701 2.21985 6.32715 2.12488C6.11768 1.94373 5.80029 1.9657 5.61816 2.17407L2.12354 6.17163C2.04395 6.2627 2 6.37915 2 6.49976C2 6.77588 2.2251 6.99976 2.50244 6.99976L5 6.99976L5 13.25C5 13.6642 5.33594 14 5.75 14C6.16406 14 6.5 13.6642 6.5 13.25L6.5 5.75Z","clip-rule":"evenodd",fill:"HEAT_DESC"===t.value?"#979797":"#165DFF","fill-opacity":"1.000000","fill-rule":"evenodd",mask:"url(#mask_350_13606)"},null,8,fe),a[1]||(a[1]=(0,n.Lk)("path",{id:"形状结合",d:"","clip-rule":"evenodd",fill:"#979797","fill-opacity":"0.000000","fill-rule":"evenodd"},null,-1)),a[2]||(a[2]=(0,n.Lk)("mask",{id:"mask_350_13609",fill:"white"},[(0,n.Lk)("path",{id:"形状结合",d:"M9.5 10.252L9.5 13.4998C9.5 13.6444 9.56299 13.7821 9.67285 13.8771C9.88232 14.0582 10.1997 14.0363 10.3818 13.8279L13.8765 9.83032C13.9561 9.73926 14 9.6228 14 9.5022C14 9.22607 13.7749 9.0022 13.4976 9.0022L11 9.0022L11 2.75195C11 2.33777 10.6641 2.00195 10.25 2.00195C9.83594 2.00195 9.5 2.33777 9.5 2.75195L9.5 10.252Z","clip-rule":"evenodd",fill:"","fill-opacity":"1.000000","fill-rule":"evenodd"})],-1)),(0,n.Lk)("path",{id:"形状结合",d:"M9.5 10.252L9.5 13.4998C9.5 13.6444 9.56299 13.7821 9.67285 13.8771C9.88232 14.0582 10.1997 14.0363 10.3818 13.8279L13.8765 9.83032C13.9561 9.73926 14 9.6228 14 9.5022C14 9.22607 13.7749 9.0022 13.4976 9.0022L11 9.0022L11 2.75195C11 2.33777 10.6641 2.00195 10.25 2.00195C9.83594 2.00195 9.5 2.33777 9.5 2.75195L9.5 10.252Z","clip-rule":"evenodd",fill:"HEAT_DESC"===t.value?"#165DFF":"#86909C","fill-opacity":"1.000000","fill-rule":"evenodd",mask:"url(#mask_350_13609)"},null,8,me),a[3]||(a[3]=(0,n.Lk)("path",{id:"形状结合",d:"","clip-rule":"evenodd",fill:"#979797","fill-opacity":"0.000000","fill-rule":"evenodd"},null,-1))])),a[4]||(a[4]=(0,n.eW)(" 最热 "))])}}});const he=(0,v.A)(ke,[["__scopeId","data-v-26963738"]]);var ge=he,Ce=(0,n.pM)({__name:"index",props:{sort:{type:String,default:"HEAT_DESC"},changeHandle:Function},setup:function(e){var a=e,t=function(e){a.changeHandle&&a.changeHandle(e)};return function(a,i){return(0,n.uX)(),(0,n.Wv)(ge,{changeHandle:t,sort:e.sort},null,8,["sort"])}}});const be=Ce;var _e=be,ye=(t(27495),t(90906),[{label:"我的使用",value:"我的使用"},{label:"我的收藏",value:"我的收藏"},{label:"个人助手",value:"个人助手"}]),we=t(96581),Le={class:"market-wrapper"},Ae={class:"market-search-wrapper"},Fe={class:"assistant-market-assistants"},Ee={key:0,class:"assistant-market-recent-use"},Re={class:"assistant-market-recent-use-items"},xe=["onClick"],Ke={class:"assistant-name-text"},Xe={class:"assistant-market-filter"},Be={key:0,class:"assistant-market-subtitle"},He={key:2},Me={key:1,class:"assistant-market-empty-data"},We=["src"],Ie=(0,n.pM)({__name:"index",setup:function(e){var a=(0,i.KR)(""),t=(0,i.KR)("我的使用"),l=(0,i.KR)([]),s=(0,i.KR)([]),c=(0,i.KR)("HEAT_DESC"),d=(0,i.KR)(!0),v=(0,i.KR)(12),p=(0,i.KR)(),f=(0,i.KR)(),h=(0,i.KR)([]),g=(0,C.rd)();(0,n.sV)((function(){(0,y.tv)().then((function(e){h.value=e.data})),p.value&&(p.value.getBoundingClientRect().width<730?v.value=12:v.value=8)}));var _=function(e){l.value="all"===e?[]:[e]},w=function(){var e=(0,r.A)((0,u.A)().mark((function e(a){return(0,u.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a.userUsable){e.next=3;break}return b.Ay.error("当前助手无权限，无法正常使用。可联系所属领域管理员添加权限后再使用。"),e.abrupt("return");case 3:(0,y.J3)(a.id),g.push({path:"/chat/new",query:{agent:a.agentCode}});case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),L=function(e){c.value=e},A=function(e){var a;null===(a=f.value)||void 0===a||a.show(e)},F=function(){t.value="个人助手",l.value=["my"]},E=(0,n.EW)((function(){return!(!Array.isArray(l.value)||!l.value.length)&&"my"===l.value[0]})),R=(0,n.EW)((function(){return"个人助手"===t.value&&"my"===l.value[0]}));return(0,n.wB)((function(){return[l.value,a.value,t.value,c.value]}),(function(){d.value=!0,(0,y.$c)({pageNumber:1,pageSize:50,domainList:l.value,agentName:a.value,type:t.value,orderBy:c.value}).then((function(e){s.value=e.data.items})).finally((function(){d.value=!1}))}),{immediate:!0,deep:!0}),function(e,u){var r=(0,n.g2)("a-tooltip"),g=(0,n.g2)("a-col"),C=(0,n.g2)("a-row"),b=(0,n.g2)("a-spin");return(0,n.uX)(),(0,n.CE)("div",Le,[(0,n.bF)(m),(0,n.Lk)("div",Ae,[(0,n.bF)(k.A,{modelValue:a.value,"onUpdate:modelValue":u[0]||(u[0]=function(e){return a.value=e})},null,8,["modelValue"]),(0,n.bF)(X,{ref_key:"createRef",ref:f,onRefresh:F},null,512)]),(0,n.bF)(B.A,{"change-handle":_}),(0,n.Lk)("div",Fe,[!l.value.length&&h.value.length?((0,n.uX)(),(0,n.CE)("div",Ee,[u[2]||(u[2]=(0,n.Lk)("div",{class:"assistant-market-subtitle"},"最近使用",-1)),(0,n.Lk)("div",Re,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(h.value,(function(e){return(0,n.uX)(),(0,n.Wv)(r,{key:e.agentCode,title:e.agentDesc},{default:(0,n.k6)((function(){return[(0,n.Lk)("div",{class:"assistant-market-recent-use-items-item",onClick:function(){return w(e)}},[(0,n.bF)(j.A,{icon:e.agentIcon,iconBackground:e.iconBackground,size:"large"},null,8,["icon","iconBackground"]),(0,n.Lk)("div",Ke,(0,o.v_)(e.agentName),1)],8,xe)]})),_:2},1032,["title"])})),128))])])):(0,n.Q3)("",!0),(0,n.Lk)("div",Xe,[l.value.length?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("div",Be," 全部助手 ")),E.value?((0,n.uX)(),(0,n.Wv)((0,i.R1)(M),{key:1,options:(0,i.R1)(ye),value:t.value,"onUpdate:value":u[1]||(u[1]=function(e){return t.value=e})},null,8,["options","value"])):((0,n.uX)(),(0,n.CE)("div",He)),R.value?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.Wv)(_e,{key:3,sort:c.value,changeHandle:L},null,8,["sort"]))]),(0,n.Lk)("div",{class:"assistant-market-default-assistants",ref_key:"assistantsRef",ref:p},[(0,n.bF)(b,{spinning:d.value},{default:(0,n.k6)((function(){return[s.value.length?((0,n.uX)(),(0,n.Wv)(C,{key:0,gutter:[12,12]},{default:(0,n.k6)((function(){return[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(s.value,(function(e){return(0,n.uX)(),(0,n.Wv)(g,{span:v.value,key:e.id},{default:(0,n.k6)((function(){return[R.value?((0,n.uX)(),(0,n.Wv)(ve.A,{key:0,assistant:e,onDelete:F,onEdit:A},null,8,["assistant"])):((0,n.uX)(),(0,n.Wv)(de,{key:1,assistant:e},null,8,["assistant"]))]})),_:2},1032,["span"])})),128))]})),_:1})):((0,n.uX)(),(0,n.CE)("div",Me,[(0,n.Lk)("img",{src:(0,i.R1)(we)},null,8,We),u[3]||(u[3]=(0,n.Lk)("span",null,"暂无数据",-1))]))]})),_:1},8,["spinning"])],512)])])}}});const Se=(0,v.A)(Ie,[["__scopeId","data-v-4a2a4b8f"]]);var De=Se,Ue=(0,n.pM)({name:"AssistantMarket",setup:function(){return function(){return(0,l.Cr)()?(0,n.bF)(s.A,null,null):(0,n.bF)(De,null,null)}}}),Te={class:"assistant-matket-page"},Ne=(0,n.pM)({__name:"Market",setup:function(e){return function(e,a){return(0,n.uX)(),(0,n.CE)("div",Te,[(0,n.bF)((0,i.R1)(Ue))])}}});const qe=(0,v.A)(Ne,[["__scopeId","data-v-ed9455fa"]]);var Pe=qe}}]);
//# sourceMappingURL=market-legacy.80fbc335.js.map