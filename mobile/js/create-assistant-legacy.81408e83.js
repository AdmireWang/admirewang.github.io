"use strict";(self["webpackJsonp_aiassistant"]=self["webpackJsonp_aiassistant"]||[]).push([[456],{39496:function(e,a,t){t.d(a,{A:function(){return g}});var n=t(5873),u=(t(44114),t(26436)),r=t(87959),i=t(45047),l=t(75610),o=t(15052),c={class:"header-title"},s={class:"header-right"},v=(0,u.pM)({__name:"MobileHeader",props:{bottomBorder:{type:Boolean},showIOSHeader:{type:Boolean}},setup:function(e){var a=(0,l.rd)(),t=(0,l.lq)(),v=function(){var e,u=null===(e=t.query)||void 0===e?void 0:e.redirect;if(u){var r,i,l=decodeURIComponent(u),c=null===(r=l.split("?"))||void 0===r?void 0:r[0],s=o.A.parse(null===(i=l.split("?"))||void 0===i?void 0:i[1]);s.viewPrompt&&delete s.viewPrompt,s.sendPrompt&&delete s.sendPrompt,c&&a.push({path:c,query:(0,n.A)((0,n.A)({},s),{},{tab:"chat"})})}else a.go(-1)};return function(e,a){var t=(0,u.g2)("a-layout-header");return(0,u.uX)(),(0,u.Wv)(t,{class:(0,r.C4)(["header-mobile",{"header-bottom-boder":e.bottomBorder}])},{default:(0,u.k6)((function(){return[(0,u.Lk)("div",{class:"header-back",onClick:v},a[0]||(a[0]=[(0,u.Lk)("img",{src:i,alt:"返回"},null,-1)])),(0,u.Lk)("div",c,[(0,u.RG)(e.$slots,"title")]),(0,u.Lk)("span",s,[(0,u.RG)(e.$slots,"right")])]})),_:3},8,["class"])}}}),d=t(55932);const M=(0,d.A)(v,[["__scopeId","data-v-710889e5"]]);var g=M},98169:function(e,a,t){t.r(a),t.d(a,{default:function(){return E}});var n=t(42153),u=t(5873),r=t(75805),i=(t(52675),t(89463),t(50113),t(44114),t(62010),t(79432),t(26099),t(98992),t(72577),t(26436)),l=t(87959),o=t(15167),c=t(87019),s=t(75610),v=t(41045),d=t(95468),M=(t(23594),t(62778)),g=t(17126),k={class:"avatar-container"},f=["src"],p=["onClick"],I=["src"],y={class:"color-list"},A=["onClick"],D={key:0,src:d},L=(0,i.pM)({__name:"Avatar",props:{avatar:{},avatarBg:{}},setup:function(e,a){var n=a.expose,u=e,r=(0,o.KR)(""),c=(0,o.KR)(M.TR[0]),s=(0,o.KR)(t(8356)),v=(0,o.KR)(M.TR[0]),d=(0,o.KR)(!1),L=function(e){return e===r.value?{background:c.value}:{}},N=function(){return{icon:s.value,iconBackground:v.value}},m=function(){d.value=!1},j=function(){s.value=r.value,v.value=c.value,d.value=!1},x=function(){var e,a;v.value=u.avatarBg||M.TR[0],c.value=u.avatarBg||M.TR[0],r.value=u.avatar||(null===(e=M.kD.value[0])||void 0===e?void 0:e.url),s.value=u.avatar||(null===(a=M.kD.value[0])||void 0===a?void 0:a.url)};return(0,i.wB)((function(){return M.kD.value}),(function(e){e.length&&x()})),(0,i.wB)((function(){return u.avatar}),(function(){x()})),(0,i.sV)((function(){(0,M.wk)()})),n({getAvatarData:N}),function(e,a){var t=(0,i.g2)("a-button"),n=(0,i.g2)("a-drawer");return(0,i.uX)(),(0,i.CE)("div",k,[(0,i.Lk)("div",{class:"avatar-img",style:(0,l.Tr)({background:v.value}),onClick:a[0]||(a[0]=function(e){return d.value=!0})},[(0,i.Lk)("img",{src:s.value,width:32,height:32},null,8,f),a[1]||(a[1]=(0,i.Lk)("div",{class:"edit-btn"},[(0,i.Lk)("h-icon-edit",{class:"edit-icon"})],-1))],4),(0,i.bF)(n,{title:"修改头像",placement:"bottom",visible:d.value,height:(0,o.R1)(g.OF)()?414:372,class:"avatar-drawer",onClose:m},{closeIcon:(0,i.k6)((function(){return a[2]||(a[2]=[(0,i.Lk)("h-icon-close",{class:"close-icon"},null,-1)])})),footer:(0,i.k6)((function(){return[(0,i.Lk)("div",{class:(0,l.C4)(["btn-wrap",(0,o.R1)(g.OF)()?"isiOS":""])},[(0,i.bF)(t,{type:"primary",size:"large",class:"btn",onClick:j},{default:(0,i.k6)((function(){return a[3]||(a[3]=[(0,i.eW)(" 确定 ")])})),_:1})],2)]})),default:(0,i.k6)((function(){return[(0,i.Lk)("div",null,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)((0,o.R1)(M.kD),(function(e){return(0,i.uX)(),(0,i.CE)("div",{key:e.url,class:"avatar-edit-item",style:(0,l.Tr)(L(e.url)),onClick:function(a){return r.value=e.url}},[(0,i.Lk)("img",{src:e.url,alt:"头像",width:28,height:28},null,8,I)],12,p)})),128))]),(0,i.Lk)("div",y,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)((0,o.R1)(M.TR),(function(e){return(0,i.uX)(),(0,i.CE)("div",{key:e,class:"color-item",style:(0,l.Tr)({borderColor:c.value===e?e:"#fff"}),onClick:function(a){return c.value=e}},[(0,i.Lk)("div",{class:"color-item-inner",style:(0,l.Tr)({background:e})},[c.value===e?((0,i.uX)(),(0,i.CE)("img",D)):(0,i.Q3)("",!0)],4)],12,A)})),128))])]})),_:1},8,["visible","height"])])}}}),N=t(55932);const m=(0,N.A)(L,[["__scopeId","data-v-95837c20"]]);var j=m,x=t(39496),h=t(59433),b={class:"btn-wrap",style:{"margin-right":"32px"}},w={class:"btn-wrap"},C=(0,i.pM)({__name:"index",setup:function(e){var a=(0,s.lq)(),t=(0,s.rd)(),d=(0,o.KR)("创建AI助手"),M=(0,o.KR)("创建"),k=(0,o.KR)(),f=(0,o.KR)(""),p=(0,o.KR)(""),I=(0,o.Kh)({name:"",description:"",prompts:""}),y={name:"请输入助手名称",description:"请输入助手简介",prompts:"请输入助手设定"},A=function(){t.go(-1)},D=function(){var e=(0,r.A)((0,n.A)().mark((function e(){var r,i,l,o,c,s,d,g,f,p;return(0,n.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=Object.keys(y).find((function(e){if(!I[e])return v.Ay.error(y[e]),!0})),!r)try{s=null===(i=a.query)||void 0===i?void 0:i.agentCode,d=null===(l=a.query)||void 0===l?void 0:l.back,g=null===(o=a.query)||void 0===o?void 0:o.redirect,f=null===(c=k.value)||void 0===c?void 0:c.getAvatarData(),p="创建"===M.value?h.B7:h.Xu,p((0,u.A)((0,u.A)((0,u.A)({},I),f),{},{code:s})).then((function(e){var a;1e4===e.code&&(v.Ay.success("".concat(M.value,"成功")),"创建"===M.value?t.push({path:"/chat/new",query:{agent:null===(a=e.data)||void 0===a?void 0:a.code}}):"skill"===d?t.push({path:"/skill/".concat(s),query:{redirect:g}}):t.push({path:"/market",query:{type:"个人助手"}}))}))}catch(n){console.log(n,"<=== error ===>")}case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,i.sV)((0,r.A)((0,n.A)().mark((function e(){var t,u,r;return(0,n.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(u=null===(t=a.query)||void 0===t?void 0:t.agentCode,!u){e.next=12;break}return d.value="编辑AI助手",M.value="保存",e.next=6,(0,h.UU)(u);case 6:r=e.sent,I.name=r.data.name,I.description=r.data.description,I.prompts=r.data.prompts,f.value=r.data.icon,p.value=r.data.iconBackground;case 12:case"end":return e.stop()}}),e)})))),function(e,a){var t=(0,i.g2)("a-form-item"),n=(0,i.g2)("a-input"),u=(0,i.g2)("a-textarea"),r=(0,i.g2)("a-form"),s=(0,i.g2)("a-layout-content"),v=(0,i.g2)("a-button"),y=(0,i.g2)("a-layout-footer"),L=(0,i.g2)("a-layout");return(0,i.uX)(),(0,i.Wv)(L,{class:"layout"},{default:(0,i.k6)((function(){return[(0,i.bF)(x.A,{"bottom-border":!0},{title:(0,i.k6)((function(){return[(0,i.Lk)("div",null,(0,l.v_)(d.value),1)]})),_:1}),(0,i.bF)(s,{class:"content"},{default:(0,i.k6)((function(){return[(0,i.bF)(r,{layout:"vertical",model:I},{default:(0,i.k6)((function(){return[(0,i.bF)(t,{label:"助手头像",required:!0},{default:(0,i.k6)((function(){return[(0,i.bF)(j,{ref_key:"avatarRef",ref:k,avatar:f.value,avatarBg:p.value},null,8,["avatar","avatarBg"]),a[3]||(a[3]=(0,i.Lk)("div",{class:"tips"},[(0,i.Lk)("img",{src:c}),(0,i.Lk)("div",null,"共同探索安全合规的大模型服务")],-1))]})),_:1}),(0,i.bF)(t,{label:"助手名称",required:!0},{default:(0,i.k6)((function(){return[(0,i.bF)(n,{value:I.name,"onUpdate:value":a[0]||(a[0]=function(e){return I.name=e}),placeholder:"请输入名称",maxlength:30},null,8,["value"])]})),_:1}),(0,i.bF)(t,{label:"助手简介",required:!0},{default:(0,i.k6)((function(){return[(0,i.bF)(u,{value:I.description,"onUpdate:value":a[1]||(a[1]=function(e){return I.description=e}),placeholder:"AI助手的简单介绍，仅用于展示","show-count":"",maxlength:100,rows:3},null,8,["value"])]})),_:1}),(0,i.bF)(t,{label:"助手设定",required:!0},{default:(0,i.k6)((function(){return[(0,i.bF)(u,{value:I.prompts,"onUpdate:value":a[2]||(a[2]=function(e){return I.prompts=e}),placeholder:"描述助手的设定信息（提示词），示例：你是专业的市场营销顾问，拥有丰富的行业经验和敏锐的市场洞察力。能够精准分析市场趋势，为我提供创新且有效的营销策略。","show-count":"",maxlength:1e3,rows:6},null,8,["value"])]})),_:1})]})),_:1},8,["model"])]})),_:1}),(0,i.bF)(y,{class:(0,l.C4)(["footer",{"footer-ios":(0,o.R1)(g.OF)()}])},{default:(0,i.k6)((function(){return[(0,i.Lk)("div",b,[(0,i.bF)(v,{size:"large",class:"btn",onClick:A},{default:(0,i.k6)((function(){return a[4]||(a[4]=[(0,i.eW)(" 取消 ")])})),_:1})]),(0,i.Lk)("div",w,[(0,i.bF)(v,{size:"large",class:"btn",type:"primary",onClick:D},{default:(0,i.k6)((function(){return[(0,i.eW)((0,l.v_)(M.value),1)]})),_:1})])]})),_:1},8,["class"])]})),_:1})}}});const T=(0,N.A)(C,[["__scopeId","data-v-8dcf8886"]]);var E=T},80107:function(e,a,t){t.r(a),t.d(a,{default:function(){return y}});var n=t(42153),u=t(75805),r=t(26436),i=t(87959),l=t(15167),o=t(39496),c=t(1946),s=t(24544),v=t(73738),d=t(75610),M=t(59433),g=t(17126),k=["src"],f=(0,r.pM)({__name:"SkillMap",setup:function(e){var a=(0,d.lq)(),t=(0,l.KR)(),f=(0,l.KR)(!1),p=(0,l.KR)();function I(e){return y.apply(this,arguments)}function y(){return y=(0,u.A)((0,n.A)().mark((function e(a){var u;return(0,n.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,M.WU)(a);case 2:u=e.sent,t.value=u.data,f.value=!!u.data.userFavorites;case 5:case"end":return e.stop()}}),e)}))),y.apply(this,arguments)}var A=function(){var e;f.value=!f.value,null===(e=p.value)||void 0===e||e.favoriteHandle(f.value)};return(0,r.sV)((function(){var e,t=null===(e=a.params)||void 0===e?void 0:e.code;I(t)})),function(e,a){var n=(0,r.g2)("a-layout-content"),u=(0,r.g2)("a-layout");return(0,r.uX)(),(0,r.Wv)(u,{class:(0,i.C4)(["layout",(0,l.R1)(g.OF)()?"isiOS":""])},{default:(0,r.k6)((function(){return[(0,r.bF)(o.A,{"show-i-o-s-header":!0},{title:(0,r.k6)((function(){return a[0]||(a[0]=[(0,r.Lk)("div",null,"助手详情",-1)])})),right:(0,r.k6)((function(){var e,a;return["super"!==(null===(e=t.value)||void 0===e?void 0:e.agentCode)&&"personal"!==(null===(a=t.value)||void 0===a?void 0:a.agentType)?((0,r.uX)(),(0,r.CE)("div",{key:0,class:"skill-card-operate",onClick:A},[(0,r.Lk)("img",{width:"20",height:"20",src:f.value?(0,l.R1)(v):(0,l.R1)(s)},null,8,k)])):(0,r.Q3)("",!0)]})),_:1}),t.value?((0,r.uX)(),(0,r.Wv)(n,{key:0,class:"content"},{default:(0,r.k6)((function(){return[(0,r.bF)(c.A,{ref_key:"skillRef",ref:p,agent:t.value},null,8,["agent"])]})),_:1})):(0,r.Q3)("",!0)]})),_:1},8,["class"])}}}),p=t(55932);const I=(0,p.A)(f,[["__scopeId","data-v-4f03c2eb"]]);var y=I},45047:function(e){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAuMDAwMDAwIiBoZWlnaHQ9IjIwLjAwMDAwMCIgdmlld0JveD0iMCAwIDIwIDIwIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4KCTxkZXNjPgoJCQlDcmVhdGVkIHdpdGggUGl4c28uCgk8L2Rlc2M+Cgk8ZGVmcy8+Cgk8cGF0aCBpZD0i5ZCI5bm2IiBkPSJNMTMuNDUgMy4zMkMxMy43OCAyLjk5IDEzLjc4IDIuNjYgMTMuNDUgMi4zM0MxMy4xMiAyIDEyLjc5IDIgMTIuNDYgMi4zM0w1Ljg3IDguOTJDNS41NiA5LjIyIDUuNDEgOS41OSA1LjQxIDEwLjAyQzUuNDEgMTAuNDQgNS41NiAxMC44MSA1Ljg3IDExLjExTDEyLjQ2IDE3LjdDMTIuNiAxNy44NCAxMi43NiAxNy45MSAxMi45NiAxNy45MUMxMy4xNSAxNy45MSAxMy4zMSAxNy44NCAxMy40NSAxNy43QzEzLjU5IDE3LjU3IDEzLjY2IDE3LjQgMTMuNjYgMTcuMjFDMTMuNjYgMTcuMDIgMTMuNTkgMTYuODUgMTMuNDUgMTYuNzJMNi44NiAxMC4xMkM2LjgyIDEwLjA4IDYuOCAxMC4wNSA2LjggMTAuMDJDNi44IDkuOTggNi44MiA5Ljk1IDYuODYgOS45MUwxMy40NSAzLjMyTDEzLjQ1IDMuMzJaIiBmaWxsPSIjNEU1OTY5IiBmaWxsLW9wYWNpdHk9IjEuMDAwMDAwIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz4KCTxwYXRoIGlkPSLlkIjlubYiIGQ9Ik0xMy40NSAyLjMzQzEzLjEyIDIgMTIuNzkgMiAxMi40NiAyLjMzTDUuODcgOC45MkM1LjU2IDkuMjIgNS40MSA5LjU5IDUuNDEgMTAuMDJDNS40MSAxMC40NCA1LjU2IDEwLjgxIDUuODcgMTEuMTFMMTIuNDYgMTcuN0MxMi42IDE3Ljg0IDEyLjc2IDE3LjkxIDEyLjk2IDE3LjkxQzEzLjE1IDE3LjkxIDEzLjMxIDE3Ljg0IDEzLjQ1IDE3LjdDMTMuNTkgMTcuNTcgMTMuNjYgMTcuNCAxMy42NiAxNy4yMUMxMy42NiAxNy4wMiAxMy41OSAxNi44NSAxMy40NSAxNi43Mkw2Ljg2IDEwLjEyQzYuODIgMTAuMDggNi44IDEwLjA1IDYuOCAxMC4wMkM2LjggOS45OCA2LjgyIDkuOTUgNi44NiA5LjkxTDEzLjQ1IDMuMzJMMTMuNDUgMy4zMkMxMy43OCAyLjk5IDEzLjc4IDIuNjYgMTMuNDUgMi4zM1oiIHN0cm9rZT0iIzRFNTk2OSIgc3Ryb2tlLW9wYWNpdHk9IjEuMDAwMDAwIiBzdHJva2Utd2lkdGg9IjAuMTAwMDAwIi8+Cjwvc3ZnPgo="}}]);
//# sourceMappingURL=create-assistant-legacy.81408e83.js.map