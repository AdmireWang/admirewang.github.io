"use strict";(self["webpackJsonp_aiassistant"]=self["webpackJsonp_aiassistant"]||[]).push([[456],{39496:function(a,e,l){l.d(e,{A:function(){return g}});var t=l(5873),u=(l(44114),l(26436)),i=l(87959),o=l(45047),r=l(75610),s=l(15052);const n={class:"header-title"},c={class:"header-right"};var d=(0,u.pM)({__name:"MobileHeader",props:{bottomBorder:{type:Boolean},showIOSHeader:{type:Boolean}},setup(a){const e=(0,r.rd)(),l=(0,r.lq)(),d=()=>{var a;const u=null===(a=l.query)||void 0===a?void 0:a.redirect;if(u){var i,o;const a=decodeURIComponent(u),l=null===(i=a.split("?"))||void 0===i?void 0:i[0],r=s.A.parse(null===(o=a.split("?"))||void 0===o?void 0:o[1]);r.viewPrompt&&delete r.viewPrompt,r.sendPrompt&&delete r.sendPrompt,l&&e.push({path:l,query:(0,t.A)((0,t.A)({},r),{},{tab:"chat"})})}else e.go(-1)};return(a,e)=>{const l=(0,u.g2)("a-layout-header");return(0,u.uX)(),(0,u.Wv)(l,{class:(0,i.C4)(["header-mobile",{"header-bottom-boder":a.bottomBorder}])},{default:(0,u.k6)((()=>[(0,u.Lk)("div",{class:"header-back",onClick:d},e[0]||(e[0]=[(0,u.Lk)("img",{src:o,alt:"返回"},null,-1)])),(0,u.Lk)("div",n,[(0,u.RG)(a.$slots,"title")]),(0,u.Lk)("span",c,[(0,u.RG)(a.$slots,"right")])])),_:3},8,["class"])}}}),v=l(55932);const M=(0,v.A)(d,[["__scopeId","data-v-710889e5"]]);var g=M},98169:function(a,e,l){l.r(e),l.d(e,{default:function(){return T}});var t=l(5873),u=(l(89463),l(44114),l(98992),l(72577),l(26436)),i=l(87959),o=l(15167),r=l(87019),s=l(75610),n=l(41045),c=l(95468),d=(l(23594),l(62778)),v=l(17126);const M={class:"avatar-container"},g=["src"],k=["onClick"],I=["src"],y={class:"color-list"},p=["onClick"],D={key:0,src:c};var A=(0,u.pM)({__name:"Avatar",props:{avatar:{},avatarBg:{}},setup(a,{expose:e}){const t=a,r=(0,o.KR)(""),s=(0,o.KR)(d.TR[0]),n=(0,o.KR)(l(8356)),c=(0,o.KR)(d.TR[0]),A=(0,o.KR)(!1),L=a=>a===r.value?{background:s.value}:{},N=()=>({icon:n.value,iconBackground:c.value}),j=()=>{A.value=!1},m=()=>{n.value=r.value,c.value=s.value,A.value=!1},b=()=>{var a,e;c.value=t.avatarBg||d.TR[0],s.value=t.avatarBg||d.TR[0],r.value=t.avatar||(null===(a=d.kD.value[0])||void 0===a?void 0:a.url),n.value=t.avatar||(null===(e=d.kD.value[0])||void 0===e?void 0:e.url)};return(0,u.wB)((()=>d.kD.value),(a=>{a.length&&b()})),(0,u.wB)((()=>t.avatar),(()=>{b()})),(0,u.sV)((()=>{(0,d.wk)()})),e({getAvatarData:N}),(a,e)=>{const l=(0,u.g2)("a-button"),t=(0,u.g2)("a-drawer");return(0,u.uX)(),(0,u.CE)("div",M,[(0,u.Lk)("div",{class:"avatar-img",style:(0,i.Tr)({background:c.value}),onClick:e[0]||(e[0]=a=>A.value=!0)},[(0,u.Lk)("img",{src:n.value,width:32,height:32},null,8,g),e[1]||(e[1]=(0,u.Lk)("div",{class:"edit-btn"},[(0,u.Lk)("h-icon-edit",{class:"edit-icon"})],-1))],4),(0,u.bF)(t,{title:"修改头像",placement:"bottom",visible:A.value,height:(0,o.R1)(v.OF)()?414:372,class:"avatar-drawer",onClose:j},{closeIcon:(0,u.k6)((()=>e[2]||(e[2]=[(0,u.Lk)("h-icon-close",{class:"close-icon"},null,-1)]))),footer:(0,u.k6)((()=>[(0,u.Lk)("div",{class:(0,i.C4)(["btn-wrap",(0,o.R1)(v.OF)()?"isiOS":""])},[(0,u.bF)(l,{type:"primary",size:"large",class:"btn",onClick:m},{default:(0,u.k6)((()=>e[3]||(e[3]=[(0,u.eW)(" 确定 ")]))),_:1})],2)])),default:(0,u.k6)((()=>[(0,u.Lk)("div",null,[((0,u.uX)(!0),(0,u.CE)(u.FK,null,(0,u.pI)((0,o.R1)(d.kD),(a=>((0,u.uX)(),(0,u.CE)("div",{key:a.url,class:"avatar-edit-item",style:(0,i.Tr)(L(a.url)),onClick:e=>r.value=a.url},[(0,u.Lk)("img",{src:a.url,alt:"头像",width:28,height:28},null,8,I)],12,k)))),128))]),(0,u.Lk)("div",y,[((0,u.uX)(!0),(0,u.CE)(u.FK,null,(0,u.pI)((0,o.R1)(d.TR),(a=>((0,u.uX)(),(0,u.CE)("div",{key:a,class:"color-item",style:(0,i.Tr)({borderColor:s.value===a?a:"#fff"}),onClick:e=>s.value=a},[(0,u.Lk)("div",{class:"color-item-inner",style:(0,i.Tr)({background:a})},[s.value===a?((0,u.uX)(),(0,u.CE)("img",D)):(0,u.Q3)("",!0)],4)],12,p)))),128))])])),_:1},8,["visible","height"])])}}}),L=l(55932);const N=(0,L.A)(A,[["__scopeId","data-v-95837c20"]]);var j=N,m=l(39496),b=l(59433);const x={class:"btn-wrap",style:{"margin-right":"32px"}},h={class:"btn-wrap"};var w=(0,u.pM)({__name:"index",setup(a){const e=(0,s.lq)(),l=(0,s.rd)(),c=(0,o.KR)("创建AI助手"),d=(0,o.KR)("创建"),M=(0,o.KR)(),g=(0,o.KR)(""),k=(0,o.KR)(""),I=(0,o.Kh)({name:"",description:"",prompts:""}),y={name:"请输入助手名称",description:"请输入助手简介",prompts:"请输入助手设定"},p=()=>{l.go(-1)},D=async()=>{const a=Object.keys(y).find((a=>{if(!I[a])return n.Ay.error(y[a]),!0}));if(!a)try{var u,i,o,r;const a=null===(u=e.query)||void 0===u?void 0:u.agentCode,s=null===(i=e.query)||void 0===i?void 0:i.back,c=null===(o=e.query)||void 0===o?void 0:o.redirect,v=null===(r=M.value)||void 0===r?void 0:r.getAvatarData(),g="创建"===d.value?b.B7:b.Xu;g((0,t.A)((0,t.A)((0,t.A)({},I),v),{},{code:a})).then((e=>{var t;1e4===e.code&&(n.Ay.success(`${d.value}成功`),"创建"===d.value?l.push({path:"/chat/new",query:{agent:null===(t=e.data)||void 0===t?void 0:t.code}}):"skill"===s?l.push({path:`/skill/${a}`,query:{redirect:c}}):l.push({path:"/market",query:{type:"个人助手"}}))}))}catch(s){console.log(s,"<=== error ===>")}};return(0,u.sV)((async()=>{var a;const l=null===(a=e.query)||void 0===a?void 0:a.agentCode;if(l){c.value="编辑AI助手",d.value="保存";const a=await(0,b.UU)(l);I.name=a.data.name,I.description=a.data.description,I.prompts=a.data.prompts,g.value=a.data.icon,k.value=a.data.iconBackground}})),(a,e)=>{const l=(0,u.g2)("a-form-item"),t=(0,u.g2)("a-input"),s=(0,u.g2)("a-textarea"),n=(0,u.g2)("a-form"),y=(0,u.g2)("a-layout-content"),A=(0,u.g2)("a-button"),L=(0,u.g2)("a-layout-footer"),N=(0,u.g2)("a-layout");return(0,u.uX)(),(0,u.Wv)(N,{class:"layout"},{default:(0,u.k6)((()=>[(0,u.bF)(m.A,{"bottom-border":!0},{title:(0,u.k6)((()=>[(0,u.Lk)("div",null,(0,i.v_)(c.value),1)])),_:1}),(0,u.bF)(y,{class:"content"},{default:(0,u.k6)((()=>[(0,u.bF)(n,{layout:"vertical",model:I},{default:(0,u.k6)((()=>[(0,u.bF)(l,{label:"助手头像",required:!0},{default:(0,u.k6)((()=>[(0,u.bF)(j,{ref_key:"avatarRef",ref:M,avatar:g.value,avatarBg:k.value},null,8,["avatar","avatarBg"]),e[3]||(e[3]=(0,u.Lk)("div",{class:"tips"},[(0,u.Lk)("img",{src:r}),(0,u.Lk)("div",null,"共同探索安全合规的大模型服务")],-1))])),_:1}),(0,u.bF)(l,{label:"助手名称",required:!0},{default:(0,u.k6)((()=>[(0,u.bF)(t,{value:I.name,"onUpdate:value":e[0]||(e[0]=a=>I.name=a),placeholder:"请输入名称",maxlength:30},null,8,["value"])])),_:1}),(0,u.bF)(l,{label:"助手简介",required:!0},{default:(0,u.k6)((()=>[(0,u.bF)(s,{value:I.description,"onUpdate:value":e[1]||(e[1]=a=>I.description=a),placeholder:"AI助手的简单介绍，仅用于展示","show-count":"",maxlength:100,rows:3},null,8,["value"])])),_:1}),(0,u.bF)(l,{label:"助手设定",required:!0},{default:(0,u.k6)((()=>[(0,u.bF)(s,{value:I.prompts,"onUpdate:value":e[2]||(e[2]=a=>I.prompts=a),placeholder:"描述助手的设定信息（提示词），示例：你是专业的市场营销顾问，拥有丰富的行业经验和敏锐的市场洞察力。能够精准分析市场趋势，为我提供创新且有效的营销策略。","show-count":"",maxlength:1e3,rows:6},null,8,["value"])])),_:1})])),_:1},8,["model"])])),_:1}),(0,u.bF)(L,{class:(0,i.C4)(["footer",{"footer-ios":(0,o.R1)(v.OF)()}])},{default:(0,u.k6)((()=>[(0,u.Lk)("div",x,[(0,u.bF)(A,{size:"large",class:"btn",onClick:p},{default:(0,u.k6)((()=>e[4]||(e[4]=[(0,u.eW)(" 取消 ")]))),_:1})]),(0,u.Lk)("div",h,[(0,u.bF)(A,{size:"large",class:"btn",type:"primary",onClick:D},{default:(0,u.k6)((()=>[(0,u.eW)((0,i.v_)(d.value),1)])),_:1})])])),_:1},8,["class"])])),_:1})}}});const C=(0,L.A)(w,[["__scopeId","data-v-8dcf8886"]]);var T=C},80107:function(a,e,l){l.r(e),l.d(e,{default:function(){return y}});var t=l(26436),u=l(87959),i=l(15167),o=l(39496),r=l(1946),s=l(24544),n=l(73738),c=l(75610),d=l(59433),v=l(17126);const M=["src"];var g=(0,t.pM)({__name:"SkillMap",setup(a){const e=(0,c.lq)(),l=(0,i.KR)(),g=(0,i.KR)(!1),k=(0,i.KR)();async function I(a){const e=await(0,d.WU)(a);l.value=e.data,g.value=!!e.data.userFavorites}const y=()=>{var a;g.value=!g.value,null===(a=k.value)||void 0===a||a.favoriteHandle(g.value)};return(0,t.sV)((()=>{var a;const l=null===(a=e.params)||void 0===a?void 0:a.code;I(l)})),(a,e)=>{const c=(0,t.g2)("a-layout-content"),d=(0,t.g2)("a-layout");return(0,t.uX)(),(0,t.Wv)(d,{class:(0,u.C4)(["layout",(0,i.R1)(v.OF)()?"isiOS":""])},{default:(0,t.k6)((()=>[(0,t.bF)(o.A,{"show-i-o-s-header":!0},{title:(0,t.k6)((()=>e[0]||(e[0]=[(0,t.Lk)("div",null,"助手详情",-1)]))),right:(0,t.k6)((()=>{var a,e;return["super"!==(null===(a=l.value)||void 0===a?void 0:a.agentCode)&&"personal"!==(null===(e=l.value)||void 0===e?void 0:e.agentType)?((0,t.uX)(),(0,t.CE)("div",{key:0,class:"skill-card-operate",onClick:y},[(0,t.Lk)("img",{width:"20",height:"20",src:g.value?(0,i.R1)(n):(0,i.R1)(s)},null,8,M)])):(0,t.Q3)("",!0)]})),_:1}),l.value?((0,t.uX)(),(0,t.Wv)(c,{key:0,class:"content"},{default:(0,t.k6)((()=>[(0,t.bF)(r.A,{ref_key:"skillRef",ref:k,agent:l.value},null,8,["agent"])])),_:1})):(0,t.Q3)("",!0)])),_:1},8,["class"])}}}),k=l(55932);const I=(0,k.A)(g,[["__scopeId","data-v-4f03c2eb"]]);var y=I},45047:function(a){a.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAuMDAwMDAwIiBoZWlnaHQ9IjIwLjAwMDAwMCIgdmlld0JveD0iMCAwIDIwIDIwIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4KCTxkZXNjPgoJCQlDcmVhdGVkIHdpdGggUGl4c28uCgk8L2Rlc2M+Cgk8ZGVmcy8+Cgk8cGF0aCBpZD0i5ZCI5bm2IiBkPSJNMTMuNDUgMy4zMkMxMy43OCAyLjk5IDEzLjc4IDIuNjYgMTMuNDUgMi4zM0MxMy4xMiAyIDEyLjc5IDIgMTIuNDYgMi4zM0w1Ljg3IDguOTJDNS41NiA5LjIyIDUuNDEgOS41OSA1LjQxIDEwLjAyQzUuNDEgMTAuNDQgNS41NiAxMC44MSA1Ljg3IDExLjExTDEyLjQ2IDE3LjdDMTIuNiAxNy44NCAxMi43NiAxNy45MSAxMi45NiAxNy45MUMxMy4xNSAxNy45MSAxMy4zMSAxNy44NCAxMy40NSAxNy43QzEzLjU5IDE3LjU3IDEzLjY2IDE3LjQgMTMuNjYgMTcuMjFDMTMuNjYgMTcuMDIgMTMuNTkgMTYuODUgMTMuNDUgMTYuNzJMNi44NiAxMC4xMkM2LjgyIDEwLjA4IDYuOCAxMC4wNSA2LjggMTAuMDJDNi44IDkuOTggNi44MiA5Ljk1IDYuODYgOS45MUwxMy40NSAzLjMyTDEzLjQ1IDMuMzJaIiBmaWxsPSIjNEU1OTY5IiBmaWxsLW9wYWNpdHk9IjEuMDAwMDAwIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz4KCTxwYXRoIGlkPSLlkIjlubYiIGQ9Ik0xMy40NSAyLjMzQzEzLjEyIDIgMTIuNzkgMiAxMi40NiAyLjMzTDUuODcgOC45MkM1LjU2IDkuMjIgNS40MSA5LjU5IDUuNDEgMTAuMDJDNS40MSAxMC40NCA1LjU2IDEwLjgxIDUuODcgMTEuMTFMMTIuNDYgMTcuN0MxMi42IDE3Ljg0IDEyLjc2IDE3LjkxIDEyLjk2IDE3LjkxQzEzLjE1IDE3LjkxIDEzLjMxIDE3Ljg0IDEzLjQ1IDE3LjdDMTMuNTkgMTcuNTcgMTMuNjYgMTcuNCAxMy42NiAxNy4yMUMxMy42NiAxNy4wMiAxMy41OSAxNi44NSAxMy40NSAxNi43Mkw2Ljg2IDEwLjEyQzYuODIgMTAuMDggNi44IDEwLjA1IDYuOCAxMC4wMkM2LjggOS45OCA2LjgyIDkuOTUgNi44NiA5LjkxTDEzLjQ1IDMuMzJMMTMuNDUgMy4zMkMxMy43OCAyLjk5IDEzLjc4IDIuNjYgMTMuNDUgMi4zM1oiIHN0cm9rZT0iIzRFNTk2OSIgc3Ryb2tlLW9wYWNpdHk9IjEuMDAwMDAwIiBzdHJva2Utd2lkdGg9IjAuMTAwMDAwIi8+Cjwvc3ZnPgo="}}]);
//# sourceMappingURL=create-assistant.b93473c0.js.map