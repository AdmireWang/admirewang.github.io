"use strict";(self["webpackJsonp_aiassistant"]=self["webpackJsonp_aiassistant"]||[]).push([[513],{8084:function(e,t,n){n.d(t,{t:function(){return i}});var o=n(65477);function i(e){return(0,o.A)({url:"/api/agent-manager/v1/agent/market/skills",params:{agentCode:e}})}},6070:function(e,t,n){var o=n(38566);const i="h-icon-heart-fill";class l extends o.A{constructor(){super(),this.cssClassName="h-icon-heart-fill"}getSvgContent(){return'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14.0312 14" width="1em" height="1em" focusable="false" fill="currentColor" aria-hidden="true"><path d="M12.8717 8.03448L12.799 8.11029C11.3367 9.59561 9.89545 11.1041 8.42133 12.5767C7.63104 13.3662 6.34772 13.3298 5.57062 12.5273C4.12946 11.0392 2.65399 9.58615 1.20099 8.11029C1.20099 8.11029 1.17676 8.08502 1.12823 8.03448C-0.399963 6.4028 -0.375732 3.8215 1.20099 2.21994C2.80237 0.593353 5.39862 0.593353 7 2.21994C8.60132 0.593353 11.1976 0.593353 12.799 2.21994C14.3757 3.8215 14.4 6.4028 12.8717 8.03448L12.8717 8.03448Z" fill-rule="evenodd"/></svg>'}}window.customElements.get(i)||window.customElements.define(i,l)},68906:function(e,t,n){var o=n(38566);const i="h-icon-heart";class l extends o.A{constructor(){super(),this.cssClassName="h-icon-heart"}getSvgContent(){return'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14" width="1em" height="1em" focusable="false" fill="currentColor" aria-hidden="true"><path d="M12.799 8.11029C11.3367 9.59561 9.89548 11.1041 8.42136 12.5767C7.63107 13.3662 6.34769 13.3298 5.57059 12.5273C4.12946 11.0392 2.65399 9.58615 1.20102 8.11029L1.12823 8.03448C-0.399963 6.4028 -0.375702 3.82147 1.20102 2.21994C2.80234 0.593353 5.39865 0.593353 7 2.21994C8.60132 0.593353 11.1976 0.593353 12.799 2.21994C14.3757 3.82147 14.4 6.4028 12.8717 8.03448L12.799 8.11029ZM12.5786 4.02625C12.7216 4.37833 12.7953 4.74615 12.7997 5.12979C12.8042 5.51312 12.7391 5.88248 12.6045 6.23788C12.467 6.60107 12.2656 6.9249 12.0004 7.20929L11.9332 7.2793C11.5571 7.66129 10.9888 8.24304 10.2283 9.0246C9.05234 10.2332 8.1673 11.1343 7.57321 11.7278C7.42084 11.88 7.23508 11.9538 7.01587 11.9492C6.78818 11.9445 6.59375 11.859 6.43259 11.6925C5.84732 11.0882 4.96301 10.1923 3.7796 9.00485C3.01151 8.23416 2.43701 7.65533 2.05609 7.26843L1.99377 7.20337C1.73318 6.92502 1.53369 6.60321 1.39539 6.23788C1.2608 5.88248 1.19574 5.51312 1.20016 5.12979C1.20459 4.74615 1.27832 4.37833 1.42133 4.02625C1.56866 3.66348 1.78024 3.34201 2.05609 3.0618C2.33487 2.77866 2.65433 2.5629 3.01447 2.41455C3.36169 2.27151 3.72369 2.20001 4.10046 2.20001C4.4772 2.20001 4.8392 2.27151 5.18643 2.41455C5.54657 2.5629 5.86603 2.77866 6.14481 3.0618L6.99994 3.93042L7.85507 3.0618C8.13385 2.77866 8.45331 2.5629 8.81345 2.41455C9.16068 2.27151 9.52267 2.20001 9.89944 2.20001C10.2762 2.20001 10.6382 2.27151 10.9854 2.41455C11.3456 2.5629 11.665 2.77866 11.9438 3.06183C12.2197 3.34201 12.4313 3.66351 12.5786 4.02625Z" clip-rule="evenodd" fill-rule="evenodd"/></svg>'}}window.customElements.get(i)||window.customElements.define(i,l)},17708:function(){},67484:function(){},27265:function(){},40269:function(){},64371:function(){},16647:function(){},54223:function(e,t,n){n.d(t,{A:function(){return Gt}});var o=n(5873),i=(n(81454),n(26436)),l=n(15167),a=n(17126),r=(n(89463),n(87959)),s=n(87019),c=(n(92524),n(59433)),u=n(22081),d=n(23123),p=n(41045),g=n(96581),v="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAuMDAwMDAwIiBoZWlnaHQ9IjQwLjAwMDAwMCIgdmlld0JveD0iMCAwIDQwIDQwIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4KCTxkZXNjPgoJCQlDcmVhdGVkIHdpdGggUGl4c28uCgk8L2Rlc2M+Cgk8ZGVmcz4KCQk8bGluZWFyR3JhZGllbnQgeDE9IjE5LjAwMDAwMCIgeTE9IjE4LjQxNTAzOSIgeDI9IjMwLjUwMDAzNCIgeTI9IjMyLjUwMDAwMCIgaWQ9InBhaW50X2xpbmVhcl8zMDVfMTA2MTRfMCIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgoJCQk8c3RvcCBzdG9wLWNvbG9yPSIjRkZGRkZGIi8+CgkJCTxzdG9wIG9mZnNldD0iMS4wMDAwMDAiIHN0b3AtY29sb3I9IiNGRkZGRkYiIHN0b3Atb3BhY2l0eT0iMC4yMDAwMDAiLz4KCQk8L2xpbmVhckdyYWRpZW50PgoJPC9kZWZzPgoJPHBhdGggaWQ9IuefqeW9ouWkh+S7vSA2MSIgZD0iTTEwLjMgMi4xNUMxNi42OCAwLjczIDIzLjMxIDAuNzMgMjkuNjkgMi4xNUMzMy43NiAzLjA1IDM2Ljk0IDYuMjMgMzcuODQgMTAuM0MzOS4yNiAxNi42OCAzOS4yNiAyMy4zMSAzNy44NCAyOS42OUMzNi45NCAzMy43NiAzMy43NiAzNi45NCAyOS42OSAzNy44NEMyMy4zMSAzOS4yNiAxNi42OCAzOS4yNiAxMC4zIDM3Ljg0QzYuMjMgMzYuOTQgMy4wNSAzMy43NiAyLjE1IDI5LjY5QzAuNzMgMjMuMzEgMC43MyAxNi42OCAyLjE1IDEwLjNDMy4wNSA2LjIzIDYuMjMgMy4wNSAxMC4zIDIuMTVaIiBmaWxsPSIjRkZDMTAwIiBmaWxsLW9wYWNpdHk9IjEuMDAwMDAwIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz4KCTxwYXRoIGlkPSLnn6nlvaLlpIfku70gNjEiIGQ9IiIgZmlsbD0iIzk3OTc5NyIgZmlsbC1vcGFjaXR5PSIwIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz4KCTxwYXRoIGlkPSLnn6nlvaIgMjIiIGQ9Ik0xNCAxMEwyNiAxMEMyNy42NSAxMCAyOSAxMS4zNCAyOSAxM0wyOSAyN0MyOSAyOC42NSAyNy42NSAzMCAyNiAzMEwxNCAzMEMxMi4zNCAzMCAxMSAyOC42NSAxMSAyN0wxMSAxM0MxMSAxMS4zNCAxMi4zNCAxMCAxNCAxMFoiIGZpbGw9InVybCgjcGFpbnRfbGluZWFyXzMwNV8xMDYxNF8wKSIgZmlsbC1vcGFjaXR5PSIxLjAwMDAwMCIgZmlsbC1ydWxlPSJldmVub2RkIi8+Cgk8cmVjdCBpZD0i55+p5b2iIDE5MSIgeD0iMTUuMDAwMDAwIiB5PSIxOS4wMDAwMDAiIHJ4PSIxLjAwMDAwMCIgd2lkdGg9IjEwLjAwMDAwMCIgaGVpZ2h0PSIyLjAwMDAwMCIgZmlsbD0iI0ZGQzEwMCIgZmlsbC1vcGFjaXR5PSIxLjAwMDAwMCIvPgoJPHJlY3QgaWQ9IuefqeW9oiAyMjIiIHg9IjE1LjAwMDAwMCIgeT0iMTUuMDAwMDAwIiByeD0iMS4wMDAwMDAiIHdpZHRoPSIxMC4wMDAwMDAiIGhlaWdodD0iMi4wMDAwMDAiIGZpbGw9IiNGRkMxMDAiIGZpbGwtb3BhY2l0eT0iMS4wMDAwMDAiLz4KCTxyZWN0IGlkPSLnn6nlvaIgMTkyIiB4PSIxNS4wMDAwMDAiIHk9IjIzLjAwMDAwMCIgcng9IjEuMDAwMDAwIiB3aWR0aD0iNS4wMDAwMDAiIGhlaWdodD0iMi4wMDAwMDAiIGZpbGw9IiNGRkMxMDAiIGZpbGwtb3BhY2l0eT0iMS4wMDAwMDAiLz4KPC9zdmc+Cg==",m="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYuMDAwMDAwIiBoZWlnaHQ9IjE2LjAwMDAwMCIgdmlld0JveD0iMCAwIDE2IDE2IiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4KCTxkZXNjPgoJCQlDcmVhdGVkIHdpdGggUGl4c28uCgk8L2Rlc2M+Cgk8ZGVmcz4KCQk8bGluZWFyR3JhZGllbnQgeDE9IjE1LjUwMDAwMCIgeTE9IjE1Ljk5OTk5OSIgeDI9IjAuMDAwMDAyIiB5Mj0iLTAuMDAwMDA5IiBpZD0icGFpbnRfbGluZWFyXzM1NF8xMzA5M18wIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CgkJCTxzdG9wIHN0b3AtY29sb3I9IiNCOTdDRkYiLz4KCQkJPHN0b3Agb2Zmc2V0PSIwLjg4ODQ1NSIgc3RvcC1jb2xvcj0iIzQzOUNGRiIvPgoJCTwvbGluZWFyR3JhZGllbnQ+Cgk8L2RlZnM+Cgk8cmVjdCBpZD0i55+p5b2i5aSH5Lu9IDQiIHJ4PSI0LjAwMDAwMCIgd2lkdGg9IjE2LjAwMDAwMCIgaGVpZ2h0PSIxNi4wMDAwMDAiIGZpbGw9InVybCgjcGFpbnRfbGluZWFyXzM1NF8xMzA5M18wKSIgZmlsbC1vcGFjaXR5PSIxLjAwMDAwMCIvPgoJPHBhdGggaWQ9InBhdGgiIGQ9Ik0xMiA3QzEyIDguNyAxMC45MyAxMC4xNSA5LjQzIDEwLjczTDggMTAuNzNMNi41NiAxMC43M0M1LjA2IDEwLjE1IDQgOC43IDQgN0M0IDQuNzkgNS43OSAzIDggM0MxMC4yIDMgMTIgNC43OSAxMiA3WiIgZmlsbD0iI0ZGRkZGRiIgZmlsbC1vcGFjaXR5PSIxLjAwMDAwMCIgZmlsbC1ydWxlPSJub256ZXJvIi8+Cgk8cGF0aCBpZD0icGF0aCIgZD0iTTkuNDMgMTAuNzNMOCAxMC43M0w2LjU2IDEwLjczQzUuMDYgMTAuMTUgNCA4LjcgNCA3QzQgNC43OSA1Ljc5IDMgOCAzQzEwLjIgMyAxMiA0Ljc5IDEyIDdDMTIgOC43IDEwLjkzIDEwLjE1IDkuNDMgMTAuNzNaIiBzdHJva2U9IiNGRkZGRkYiIHN0cm9rZS1vcGFjaXR5PSIxLjAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIyLjAwMDAwMCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgoJPHBhdGggaWQ9InBhdGgiIGQ9Ik04LjQ2IDEwLjY3TDguNDQgMTAuNjVDOC40OCAxMC4wOSA4Ljk2IDkuNjkgOS41MiA5LjczQzEwLjA4IDkuNzggMTAuNDggMTAuMjUgMTAuNDMgMTAuODFMMTAuNDEgMTAuODNMOC40NiAxMC42N1pNNS41OCAxMC44M0w1LjU2IDEwLjgxQzUuNTEgMTAuMjUgNS45MSA5Ljc4IDYuNDcgOS43M0M3LjAzIDkuNjkgNy41MSAxMC4wOSA3LjU1IDEwLjY1TDcuNTMgMTAuNjdMNS41OCAxMC44M1oiIGZpbGw9IiMwMDAwMDAiIGZpbGwtb3BhY2l0eT0iMCIgZmlsbC1ydWxlPSJub256ZXJvIi8+Cgk8cGF0aCBpZD0icGF0aCIgZD0iTTkuNDMgMTAuNzNMOS4yNiAxMi43N0M5LjI1IDEyLjkgOS4xNCAxMyA5LjAyIDEzTDYuOTcgMTNDNi44NSAxMyA2Ljc0IDEyLjkgNi43MyAxMi43N0w2LjU2IDEwLjczIiBzdHJva2U9IiNGRkZGRkYiIHN0cm9rZS1vcGFjaXR5PSIxLjAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIyLjAwMDAwMCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8+Cgk8cGF0aCBpZD0icGF0aCIgZD0iTTYuMDIgNi4yN0w2IDYuMjVDNiA1Ljk2IDYuMjIgNS43NSA2LjUgNS43NUM2Ljc3IDUuNzUgNyA1Ljk2IDcgNi4yNUw2Ljk3IDYuMjdMNi4wMiA2LjI3Wk05LjAyIDYuMjdMOSA2LjI1QzkgNS45NiA5LjIyIDUuNzUgOS41IDUuNzVDOS43NyA1Ljc1IDEwIDUuOTYgMTAgNi4yNUw5Ljk3IDYuMjdMOS4wMiA2LjI3WiIgZmlsbD0iIzAwMDAwMCIgZmlsbC1vcGFjaXR5PSIwIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz4KCTxwYXRoIGlkPSJwYXRoIiBkPSJNNi41IDYuMjVMNi41IDcuNzVMOCA3TDkuNSA3Ljc1TDkuNSA2LjI1IiBzdHJva2U9IiM1Rjk0RkYiIHN0cm9rZS1vcGFjaXR5PSIxLjAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIxLjAwMDAwMCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8+Cjwvc3ZnPgo=";const f=["src"],k=["src"];var y=(0,i.pM)({__name:"SkillAvarat",props:{iconBackground:String,icon:String,disabled:Boolean},setup(e){return(t,n)=>e.iconBackground?((0,i.uX)(),(0,i.CE)("div",{key:1,class:"has-background-icon",style:(0,r.Tr)({background:e.disabled?"rgb(143, 149, 158)":e.iconBackground})},[(0,i.Lk)("img",{src:e.icon},null,8,k)],4)):((0,i.uX)(),(0,i.CE)("img",{key:0,src:e.icon,class:"not-background-icon"},null,8,f))}}),b=n(55932);const C=(0,b.A)(y,[["__scopeId","data-v-416a1c8c"]]);var w=C,h=n(70001);const I={key:0,class:"skill-card"},M=["src","width","height"],A={class:"skill-card-title"},L={class:"skill-card-desc"},x={key:0,style:{width:"100%"}},S={class:"skill-card-menu"},D={class:"skill-card-menu-container"},j={key:0,class:"skill-card-menu-list"},N={class:"skill-card-menu-item"},B={class:"ai-assistant-skill-detail"},E={class:"ai-assistant-skill-detail-items"},F={class:"ai-assistant-skill-detail-item-conetnt"},z={class:"ai-assistant-skill-detail-item-conetnt-title"},R={class:"ai-assistant-skill-detail-item-conetnt-text"},T={class:"skill-card-menu-item-name"},O={class:"skill-card-menu-list"},G={class:"skill-card-menu-item"},P={class:"skill-card-menu-item-icon-disabled"},X=["src"],W={class:"skill-card-menu-item-name"},Z={key:2,class:"skill-empty-data"},Q=["src"],V={key:0,class:"skill-card-menu-container"},Y={class:"prompts-card-menu-list"},$=["src"],K={class:"prompts-card-menu-list-item-content"},_=["onClick"],U=["onClick"],H={key:1,class:"assistant-detail-card"},J={class:"assistant-detail-card-content"},q={class:"assistant-detail-footer"},ee={key:1,class:"assistant-edit-wrap"},te={class:"assistant-form-wrap"},ne={class:"assistant-edit-footer"};var oe=(0,i.pM)({__name:"SkillMap",props:{skillList:{},disabledSkillList:{},agent:{}},emits:["favorite","prompt-click","close"],setup(e,{emit:t}){const n=e,a=t,f=(0,i.WQ)("updateAgent",(()=>{})),k=(0,l.KR)(),y=(0,i.WQ)("setAgentStatus",(()=>{})),b=(0,i.WQ)("setMessage",(()=>{})),C=(0,i.WQ)("send-prompt",(()=>{})),oe=(0,l.KR)(!1),ie=(0,l.KR)("detail"),le=(0,l.KR)(),ae=(0,l.KR)(),re=(0,l.Kh)({name:"",description:"",prompts:""}),se={name:[{required:!0,message:"请输入助手名称"}],description:[{required:!0,message:"请输入助手简介"}],prompts:[{required:!0,message:"请输入助手设定"}]},ce=(0,l.KR)(!1),ue=e=>{const t=document.getElementById("hwork-assistant-app");if(t){var n;const o=document.createElement("span");o.innerText=e,o.style.fontSize="14px",t.appendChild(o);const i=o.getBoundingClientRect().width;return null===(n=o.parentNode)||void 0===n||n.removeChild(o),i+38}return 0},de=e=>`${ue(e)}px`,pe=()=>{ie.value="edit"},ge=()=>{d.A.confirm({zIndex:1001,closable:!1,content:"助手删除后无法使用该助手，且删除后不可恢复，是否确认删除？",onOk:()=>{(0,c.Y)(n.agent.agentCode).then((()=>{a("close"),y("deleted")}))}})},ve=()=>{var e,t,o;re.name=null===(e=n.agent)||void 0===e?void 0:e.agentName,re.description=null===(t=n.agent)||void 0===t?void 0:t.agentDesc,re.prompts=(null===(o=n.agent)||void 0===o?void 0:o.agentPrompts)||"",ie.value="detail"},me=()=>{ae.value.validateFields().then((e=>{var t;const i=null===(t=le.value)||void 0===t?void 0:t.getAvatarData();oe.value=!0,(0,c.Xu)((0,o.A)((0,o.A)((0,o.A)({},e),i),{},{code:n.agent.agentCode})).then((t=>{1e4===t.code?(p.Ay.success("更新成功"),ie.value="detail",f({agentDesc:e.description,agentIcon:i.icon,iconBackground:i.iconBackground,agentName:e.name,agentPrompts:e.prompts}),(0,h.gL)()):p.Ay.error(t.msg)})).finally((()=>{oe.value=!1}))}))},fe=e=>{b(e),a("close")},ke=(0,i.WQ)("chatRunning"),ye=e=>{ke.value?p.Ay.info("正在生成中，请先停止回答"):(C(e),a("close"))},be=(0,i.EW)((()=>n.agent.prompts||[]));return(0,i.wB)((()=>n.agent),(()=>{var e;n.agent&&(ce.value=!!n.agent.userFavorites,re.name=n.agent.agentName,re.description=n.agent.agentDesc,re.prompts=(null===(e=n.agent)||void 0===e?void 0:e.agentPrompts)||"")}),{immediate:!0}),(e,t)=>{var n,o,a,c,d,p,f,y,b;const C=(0,i.g2)("a-typography-paragraph"),h=(0,i.g2)("a-tooltip"),oe=(0,i.g2)("a-popover"),ce=(0,i.g2)("a-button"),ke=(0,i.g2)("a-space"),Ce=(0,i.g2)("a-input"),we=(0,i.g2)("a-form-item"),he=(0,i.g2)("a-textarea"),Ie=(0,i.g2)("a-form");return(0,i.uX)(),(0,i.CE)("div",{ref_key:"skillMapRef",ref:k,class:"skill-map"},["detail"===ie.value?((0,i.uX)(),(0,i.CE)("div",I,[(0,i.Lk)("div",{class:"skill-card-icon",style:(0,r.Tr)({backgroundColor:null===(n=e.agent)||void 0===n?void 0:n.iconBackground})},[null!==(o=e.agent)&&void 0!==o&&o.agentIcon?((0,i.uX)(),(0,i.CE)("img",{key:0,src:null===(a=e.agent)||void 0===a?void 0:a.agentIcon,width:null!==(c=e.agent)&&void 0!==c&&c.iconBackground?28:48,height:null!==(d=e.agent)&&void 0!==d&&d.iconBackground?28:48,alt:""},null,8,M)):(0,i.Q3)("",!0)],4),(0,i.Lk)("div",A,(0,r.v_)(null===(p=e.agent)||void 0===p?void 0:p.agentName),1),(0,i.Lk)("div",L,[(0,i.bF)(C,{ellipsis:{rows:2,tooltip:null===(f=e.agent)||void 0===f?void 0:f.agentDesc,expandable:!0,symbol:"更多"},content:null===(y=e.agent)||void 0===y?void 0:y.agentDesc},null,8,["ellipsis","content"])]),e.agent&&"personal"!==e.agent.agentType?((0,i.uX)(),(0,i.CE)("div",x,[(0,i.Lk)("div",S,[(0,i.Lk)("div",D,[t[6]||(t[6]=(0,i.Lk)("div",{class:"skill-card-menu-title"},"已拥有技能",-1)),e.skillList.length?((0,i.uX)(),(0,i.CE)("div",j,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.skillList,(n=>((0,i.uX)(),(0,i.Wv)(h,{key:n.id,title:n.name},{default:(0,i.k6)((()=>[(0,i.Lk)("div",N,["super"!==e.agent.agentCode?((0,i.uX)(),(0,i.Wv)(w,{key:0,icon:n.icon,iconBackground:n.iconBackground},null,8,["icon","iconBackground"])):((0,i.uX)(),(0,i.Wv)(oe,{key:1,placement:"bottom",trigger:"click"},{content:(0,i.k6)((()=>[(0,i.Lk)("div",B,[t[3]||(t[3]=(0,i.Lk)("div",{class:"ai-assistant-skill-detail-title"}," 详情 ",-1)),(0,i.Lk)("div",E,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(n.children,(e=>((0,i.uX)(),(0,i.CE)("div",{class:"ai-assistant-skill-detail-item",key:e.id},[(0,i.bF)(w,{icon:e.icon,iconBackground:e.iconBackground,disabled:!1===e.enabled},null,8,["icon","iconBackground","disabled"]),(0,i.Lk)("div",F,[(0,i.Lk)("div",z,(0,r.v_)(e.name),1),(0,i.bF)(h,{title:e.description},{default:(0,i.k6)((()=>[(0,i.Lk)("div",R,(0,r.v_)(e.description),1)])),_:2},1032,["title"])])])))),128))])])])),default:(0,i.k6)((()=>[(0,i.bF)(w,{icon:n.icon,iconBackground:n.iconBackground},null,8,["icon","iconBackground"])])),_:2},1024)),(0,i.Lk)("span",T,(0,r.v_)(n.name),1)])])),_:2},1032,["title"])))),128))])):(0,i.Q3)("",!0),e.disabledSkillList.length?((0,i.uX)(),(0,i.CE)(i.FK,{key:1},[t[4]||(t[4]=(0,i.Lk)("div",{class:"skill-card-menu-title",style:{"margin-top":"16px"}}," 未获取技能 ",-1)),(0,i.Lk)("div",O,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.disabledSkillList,(e=>((0,i.uX)(),(0,i.Wv)(h,{key:e.id,title:`${e.name}领域技能暂未授权，您目前无法使用该技能`},{default:(0,i.k6)((()=>[(0,i.Lk)("div",G,[(0,i.Lk)("div",P,[(0,i.Lk)("img",{class:"skill-card-menu-item-icon",src:e.icon||(0,l.R1)(v),alt:""},null,8,X)]),(0,i.Lk)("span",W,(0,r.v_)(e.name),1)])])),_:2},1032,["title"])))),128))])],64)):(0,i.Q3)("",!0),e.disabledSkillList.length||e.skillList.length?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("div",Z,[(0,i.Lk)("img",{src:(0,l.R1)(g),width:"60"},null,8,Q),t[5]||(t[5]=(0,i.Lk)("span",{class:"text"},"暂无数据",-1))]))])]),be.value.length?((0,i.uX)(),(0,i.CE)("div",V,[t[7]||(t[7]=(0,i.Lk)("div",{class:"prompts-card-menu-title"},"推荐指令",-1)),(0,i.Lk)("div",Y,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(be.value,((e,t)=>((0,i.uX)(),(0,i.CE)("div",{key:t,class:(0,r.C4)(["prompts-card-menu-list-item",ue(e)<=400?"prompts-card-menu-list-item-one-line":""]),style:(0,r.Tr)({width:de(e)})},[(0,i.Lk)("img",{src:(0,l.R1)(m)},null,8,$),(0,i.Lk)("div",K,[(0,i.bF)(h,{title:e},{default:(0,i.k6)((()=>[(0,i.Lk)("span",{class:"prompts-card-menu-list-item-content-text",onClick:()=>fe(e)},(0,r.v_)(e),9,_)])),_:2},1032,["title"]),(0,i.Lk)("span",{class:"prompts-card-menu-list-item-icon",onClick:()=>ye(e)},null,8,U)])],6)))),128))])])):(0,i.Q3)("",!0)])):(0,i.Q3)("",!0),e.agent&&"personal"===e.agent.agentType?((0,i.uX)(),(0,i.CE)("div",H,[t[10]||(t[10]=(0,i.Lk)("div",{class:"assistant-detail-card-title"},"助手设定",-1)),(0,i.Lk)("div",J,[(0,i.Lk)("pre",null,(0,r.v_)((null===(b=e.agent)||void 0===b?void 0:b.agentPrompts)||"-"),1)]),(0,i.Lk)("div",q,[(0,i.bF)(ke,{size:12},{default:(0,i.k6)((()=>[(0,i.bF)(ce,{danger:"",onClick:ge},{default:(0,i.k6)((()=>t[8]||(t[8]=[(0,i.eW)("删除")]))),_:1}),(0,i.bF)(ce,{type:"primary",onClick:pe},{default:(0,i.k6)((()=>t[9]||(t[9]=[(0,i.eW)(" 编辑 ")]))),_:1})])),_:1})])])):(0,i.Q3)("",!0)])):((0,i.uX)(),(0,i.CE)("div",ee,[(0,i.Lk)("div",te,[(0,i.bF)(u.A,{ref_key:"avatarRef",ref:le,avatar:e.agent.agentIcon,avatarBg:e.agent.iconBackground},null,8,["avatar","avatarBg"]),t[11]||(t[11]=(0,i.Lk)("div",{class:"tips"},[(0,i.Lk)("img",{src:s}),(0,i.Lk)("div",null,"共同探索安全合规的大模型服务")],-1))]),(0,i.bF)(Ie,{ref_key:"formRef",ref:ae,layout:"vertical",model:re,rules:se},{default:(0,i.k6)((()=>[(0,i.bF)(we,{label:"助手名称",name:"name"},{default:(0,i.k6)((()=>[(0,i.bF)(Ce,{value:re.name,"onUpdate:value":t[0]||(t[0]=e=>re.name=e),placeholder:"请输入名称","show-count":"",maxlength:30},null,8,["value"])])),_:1}),(0,i.bF)(we,{label:"助手简介",name:"description"},{default:(0,i.k6)((()=>[(0,i.bF)(he,{value:re.description,"onUpdate:value":t[1]||(t[1]=e=>re.description=e),placeholder:"AI助手的简单介绍，仅用于展示","show-count":"",maxlength:100,rows:4},null,8,["value"])])),_:1}),(0,i.bF)(we,{label:"助手设定",name:"prompts"},{default:(0,i.k6)((()=>[(0,i.bF)(he,{value:re.prompts,"onUpdate:value":t[2]||(t[2]=e=>re.prompts=e),placeholder:"描述助手的设定信息（提示词），示例：你是专业的市场营销顾问，拥有丰富的行业经验和敏锐的市场洞察力。能够精准分析市场趋势，为我提供创新且有效的营销策略","show-count":"",maxlength:1e3,rows:7},null,8,["value"])])),_:1})])),_:1},8,["model"]),(0,i.Lk)("div",ne,[(0,i.bF)(ke,{size:12},{default:(0,i.k6)((()=>[(0,i.bF)(ce,{onClick:ve},{default:(0,i.k6)((()=>t[12]||(t[12]=[(0,i.eW)("取消")]))),_:1}),(0,i.bF)(ce,{type:"primary",onClick:me},{default:(0,i.k6)((()=>t[13]||(t[13]=[(0,i.eW)(" 保存 ")]))),_:1})])),_:1})])]))],512)}}});const ie=(0,b.A)(oe,[["__scopeId","data-v-6c51c8a8"]]);var le=ie,ae=(n(44114),n(23594),n(38566));const re="h-icon-left";class se extends ae.A{constructor(){super(),this.cssClassName="h-icon-left"}getSvgContent(){return'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14" width="1em" height="1em" focusable="false" fill="currentColor" aria-hidden="true"><path d="M8.57587 3.32593C8.81348 3.08826 9.18683 3.08826 9.42441 3.32593C9.66199 3.56348 9.66199 3.93689 9.42441 4.17444L6.34866 7.25012L9.42441 10.3259C9.66199 10.5635 9.66199 10.9369 9.42441 11.1744C9.18683 11.412 8.81348 11.412 8.57587 11.1744L5.07587 7.67444C4.95871 7.55725 4.90015 7.41589 4.90015 7.25012C4.90015 7.08447 4.95871 6.94299 5.07587 6.82593L5.07587 6.82593L8.57587 3.32593L8.57587 3.32593Z" fill-rule="evenodd"/></svg>'}}window.customElements.get(re)||window.customElements.define(re,se);n(68906),n(6070),n(52748);var ce=n(84241),ue=n(5558),de=(n(62953),n(91469)),pe=n(48525),ge=n(45149),ve=n(34290),me=n(95273),fe=n(94104),ke=n(72417),ye=n(92156),be=n(94139),Ce=(n(74423),n(21699),n(83111)),we=n(6547),he=n(65520),Ie=n(39347);const[Me,Ae]=(0,pe.YX)("button"),Le=(0,ce.X$)({},we.aI,{tag:(0,ge.Ts)("button"),text:String,icon:String,type:(0,ge.Ts)("default"),size:(0,ge.Ts)("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:(0,ge.Ts)("button"),loadingSize:ge.VQ,loadingText:String,loadingType:String,iconPosition:(0,ge.Ts)("left")});var xe=(0,i.pM)({name:Me,props:Le,emits:["click"],setup(e,{emit:t,slots:n}){const o=(0,we.lq)(),l=()=>n.loading?n.loading():(0,i.bF)(Ie.Rh,{size:e.loadingSize,type:e.loadingType,class:Ae("loading")},null),a=()=>e.loading?l():n.icon?(0,i.bF)("div",{class:Ae("icon")},[n.icon()]):e.icon?(0,i.bF)(he.In,{name:e.icon,class:Ae("icon"),classPrefix:e.iconPrefix},null):void 0,r=()=>{let t;if(t=e.loading?e.loadingText:n.default?n.default():e.text,t)return(0,i.bF)("span",{class:Ae("text")},[t])},s=()=>{const{color:t,plain:n}=e;if(t){const e={color:n?t:"white"};return n||(e.background=t),t.includes("gradient")?e.border=0:e.borderColor=t,e}},c=n=>{e.loading?(0,Ce.wo)(n):e.disabled||(t("click",n),o())};return()=>{const{tag:t,type:n,size:o,block:l,round:u,plain:d,square:p,loading:g,disabled:v,hairline:m,nativeType:f,iconPosition:k}=e,y=[Ae([n,o,{plain:d,block:l,round:u,square:p,loading:g,disabled:v,hairline:m}]),{[me.kw]:m}];return(0,i.bF)(t,{type:f,class:y,style:s(),disabled:v,onClick:c},{default:()=>[(0,i.bF)("div",{class:Ae("content")},["left"===k&&a(),r(),"right"===k&&a()])]})}}});const Se=(0,be.G)(xe);var De=n(46370),je=n(63958);const Ne=(e,t)=>{const n=(0,l.KR)(),o=()=>{n.value=(0,De.yD)(e).height};return(0,i.sV)((()=>{if((0,i.dY)(o),t)for(let e=1;e<=3;e++)setTimeout(o,100*e)})),(0,je.V)((()=>(0,i.dY)(o))),(0,i.wB)([Ce.Xw,Ce.C7],o),n};function Be(e,t){const n=Ne(e,!0);return e=>(0,i.bF)("div",{class:t("placeholder"),style:{height:n.value?`${n.value}px`:void 0}},[e()])}const[Ee,Fe]=(0,pe.YX)("action-bar"),ze=Symbol(Ee),Re={placeholder:Boolean,safeAreaInsetBottom:ge.Rd};var Te=(0,i.pM)({name:Ee,props:Re,setup(e,{slots:t}){const n=(0,l.KR)(),o=Be(n,Fe),{linkChildren:a}=(0,De.Py)(ze);a();const r=()=>{var o;return(0,i.bF)("div",{ref:n,class:[Fe(),{"van-safe-area-bottom":e.safeAreaInsetBottom}]},[null==(o=t.default)?void 0:o.call(t)])};return()=>e.placeholder?o(r):r()}});const Oe=(0,be.G)(Te);var Ge=n(53816);const[Pe,Xe]=(0,pe.YX)("action-bar-button"),We=(0,ce.X$)({},we.aI,{type:String,text:String,icon:String,color:String,loading:Boolean,disabled:Boolean});var Ze=(0,i.pM)({name:Pe,props:We,setup(e,{slots:t}){const n=(0,we.lq)(),{parent:o,index:l}=(0,De.cJ)(ze),a=(0,i.EW)((()=>{if(o){const e=o.children[l.value-1];return!(e&&"isButton"in e)}})),r=(0,i.EW)((()=>{if(o){const e=o.children[l.value+1];return!(e&&"isButton"in e)}}));return(0,Ge.c)({isButton:!0}),()=>{const{type:o,icon:l,text:s,color:c,loading:u,disabled:d}=e;return(0,i.bF)(Se,{class:Xe([o,{last:r.value,first:a.value}]),size:"large",type:o,icon:l,color:c,loading:u,disabled:d,onClick:n},{default:()=>[t.default?t.default():s]})}}});const Qe=(0,be.G)(Ze);const[Ve,Ye,$e]=(0,pe.YX)("dialog"),Ke=(0,ce.X$)({},ke.C,{title:String,theme:String,width:ge.VQ,message:[String,Function],callback:Function,allowHtml:Boolean,className:ge.E9,transition:(0,ge.Ts)("van-dialog-bounce"),messageAlign:String,closeOnPopstate:ge.Rd,showCancelButton:Boolean,cancelButtonText:String,cancelButtonColor:String,cancelButtonDisabled:Boolean,confirmButtonText:String,confirmButtonColor:String,confirmButtonDisabled:Boolean,showConfirmButton:ge.Rd,closeOnClickOverlay:Boolean,keyboardEnabled:ge.Rd}),_e=[...ke.r,"transition","closeOnPopstate"];var Ue=(0,i.pM)({name:Ve,props:Ke,emits:["confirm","cancel","keydown","update:show"],setup(e,{emit:t,slots:n}){const o=(0,l.KR)(),a=(0,l.Kh)({confirm:!1,cancel:!1}),r=e=>t("update:show",e),s=t=>{var n;r(!1),null==(n=e.callback)||n.call(e,t)},c=n=>()=>{e.show&&(t(n),e.beforeClose?(a[n]=!0,(0,ve.m)(e.beforeClose,{args:[n],done(){s(n),a[n]=!1},canceled(){a[n]=!1}})):s(n))},u=c("cancel"),d=c("confirm"),p=(0,de.jR)((n=>{var i,l;if(!e.keyboardEnabled)return;if(n.target!==(null==(l=null==(i=o.value)?void 0:i.popupRef)?void 0:l.value))return;const a={Enter:e.showConfirmButton?d:ce.lQ,Escape:e.showCancelButton?u:ce.lQ};a[n.key](),t("keydown",n)}),["enter","esc"]),g=()=>{const t=n.title?n.title():e.title;if(t)return(0,i.bF)("div",{class:Ye("header",{isolated:!e.message&&!n.default})},[t])},v=t=>{const{message:n,allowHtml:o,messageAlign:l}=e,a=Ye("message",{"has-title":t,[l]:l}),r=(0,ce.Tn)(n)?n():n;return o&&"string"===typeof r?(0,i.bF)("div",{class:a,innerHTML:r},null):(0,i.bF)("div",{class:a},[r])},m=()=>{if(n.default)return(0,i.bF)("div",{class:Ye("content")},[n.default()]);const{title:t,message:o,allowHtml:l}=e;if(o){const e=!(!t&&!n.title);return(0,i.bF)("div",{key:l?1:0,class:Ye("content",{isolated:!e})},[v(e)])}},f=()=>(0,i.bF)("div",{class:[me.Bn,Ye("footer")]},[e.showCancelButton&&(0,i.bF)(Se,{size:"large",text:e.cancelButtonText||$e("cancel"),class:Ye("cancel"),style:{color:e.cancelButtonColor},loading:a.cancel,disabled:e.cancelButtonDisabled,onClick:u},null),e.showConfirmButton&&(0,i.bF)(Se,{size:"large",text:e.confirmButtonText||$e("confirm"),class:[Ye("confirm"),{[me.TL]:e.showCancelButton}],style:{color:e.confirmButtonColor},loading:a.confirm,disabled:e.confirmButtonDisabled,onClick:d},null)]),k=()=>(0,i.bF)(Oe,{class:Ye("footer")},{default:()=>[e.showCancelButton&&(0,i.bF)(Qe,{type:"warning",text:e.cancelButtonText||$e("cancel"),class:Ye("cancel"),color:e.cancelButtonColor,loading:a.cancel,disabled:e.cancelButtonDisabled,onClick:u},null),e.showConfirmButton&&(0,i.bF)(Qe,{type:"danger",text:e.confirmButtonText||$e("confirm"),class:Ye("confirm"),color:e.confirmButtonColor,loading:a.confirm,disabled:e.confirmButtonDisabled,onClick:d},null)]}),y=()=>n.footer?n.footer():"round-button"===e.theme?k():f();return()=>{const{width:t,title:n,theme:l,message:a,className:s}=e;return(0,i.bF)(ye.zD,(0,i.v6)({ref:o,role:"dialog",class:[Ye([l]),s],style:{width:(0,fe._V)(t)},tabindex:0,"aria-labelledby":n||a,onKeydown:p,"onUpdate:show":r},(0,ce.Up)(e,_e)),{default:()=>[g(),m(),y()]})}}});let He;const Je={title:"",width:"",theme:null,message:"",overlay:!0,callback:null,teleport:"body",className:"",allowHtml:!1,lockScroll:!0,transition:void 0,beforeClose:null,overlayClass:"",overlayStyle:void 0,messageAlign:"",cancelButtonText:"",cancelButtonColor:null,cancelButtonDisabled:!1,confirmButtonText:"",confirmButtonColor:null,confirmButtonDisabled:!1,showConfirmButton:!0,showCancelButton:!1,closeOnPopstate:!0,closeOnClickOverlay:!1};let qe=(0,ce.X$)({},Je);function et(){const e={setup(){const{state:e,toggle:t}=(0,ue.T)();return()=>(0,i.bF)(Ue,(0,i.v6)(e,{"onUpdate:show":t}),null)}};({instance:He}=(0,ue.b)(e))}function tt(e){return ce.M?new Promise(((t,n)=>{He||et(),He.open((0,ce.X$)({},qe,e,{callback:e=>{("confirm"===e?t:n)(e)}}))})):Promise.resolve(void 0)}const nt=e=>tt((0,ce.X$)({showCancelButton:!0},e));var ot=n(99673),it=n(75610),lt=n(15052);n(15543),n(16647),n(17708),n(67484),n(27265),n(40269),n(64371);const at=["src","width","height"],rt={class:"skill-card-title"},st={class:"skill-card-desc"},ct={key:0,style:{width:"100%"}},ut={key:0,class:"skill-card-menu"},dt={class:"skill-card-menu-list"},pt=["onClick"],gt={class:"skill-card-menu-item-name"},vt={class:"ai-assistant-skill-detail"},mt={class:"ai-assistant-skill-detail-items"},ft={class:"ai-assistant-skill-detail-item-conetnt"},kt={class:"ai-assistant-skill-detail-item-conetnt-title"},yt={class:"ai-assistant-skill-detail-item-conetnt-text"},bt={key:1,class:"skill-card-menu mt10"},Ct={class:"skill-card-menu-list"},wt={class:"skill-card-menu-item-icon-disabled"},ht=["src"],It={class:"skill-card-menu-item-name"},Mt={key:2,class:"skill-empty-data"},At=["src"],Lt={key:3,class:"skill-card-menu-container skill-card-menu"},xt={class:"prompts-card-menu-list"},St=["src"],Dt={class:"prompts-card-menu-list-item-content"},jt=["onClick"],Nt=["onClick"],Bt={class:"assistant-detail-card-content"};var Et=(0,i.pM)({__name:"SkillMapMobile",props:{skillList:{},disabledSkillList:{},agent:{}},emits:["favorite","prompt-click","close"],setup(e,{emit:t}){const n=e,s=(0,it.rd)(),u=(0,it.lq)(),d=(0,l.KR)(!1),p=(0,l.KR)(!1),f=(0,l.KR)([]),k=((0,i.WQ)("updateAgent",(()=>{})),(0,i.WQ)("setAgentStatus",(()=>{})),(e,t=!1)=>{var n;const i=null===(n=u.query)||void 0===n?void 0:n.redirect;if(i){var l,a;const n=decodeURIComponent(i),r=null===(l=n.split("?"))||void 0===l?void 0:l[0],c=lt.A.parse(null===(a=n.split("?"))||void 0===a?void 0:a[1]);r&&s.push({path:r,query:(0,o.A)((0,o.A)({},c),{},{viewPrompt:encodeURIComponent(e),sendPrompt:t?"true":"false"})})}else s.go(-1)}),y=(0,i.EW)((()=>"calc(100vh - 44px)")),b=(0,i.EW)((()=>n.agent.prompts||[])),C=e=>{"super"===n.agent.agentCode&&(f.value=e,p.value=!0)},h=()=>{var e;const t=null===(e=u.query)||void 0===e?void 0:e.redirect;s.push({path:"/create/assistant",query:{agentCode:n.agent.agentCode,back:"skill",redirect:t}})},I=()=>{nt({title:"删除助手",message:"助手删除后无法使用该助手，且删除后不可恢复，是否确认删除？"}).then((()=>{(0,c.Y)(n.agent.agentCode).then((()=>{s.push({path:"/chat/new",query:{agent:"super"}})}))})).catch((()=>{}))};return(0,i.wB)((()=>n.agent),(()=>{n.agent&&(d.value=!!n.agent.userFavorites)}),{immediate:!0}),(e,t)=>{var n,o,s,c,u,d,M,A;const L=(0,i.g2)("a-typography-paragraph"),x=(0,i.g2)("a-tooltip"),S=(0,i.g2)("a-button");return(0,i.uX)(),(0,i.CE)("div",{class:"skill-card",style:(0,r.Tr)({minHeight:y.value,maxHeight:y.value})},[(0,i.Lk)("div",{class:"skill-card-icon",style:(0,r.Tr)({backgroundColor:null===(n=e.agent)||void 0===n?void 0:n.iconBackground})},[null!==(o=e.agent)&&void 0!==o&&o.agentIcon?((0,i.uX)(),(0,i.CE)("img",{key:0,src:null===(s=e.agent)||void 0===s?void 0:s.agentIcon,width:null!==(c=e.agent)&&void 0!==c&&c.iconBackground?30:64,height:null!==(u=e.agent)&&void 0!==u&&u.iconBackground?30:64,alt:""},null,8,at)):(0,i.Q3)("",!0)],4),(0,i.Lk)("div",rt,[(0,i.bF)(L,{ellipsis:{rows:2},content:null===(d=e.agent)||void 0===d?void 0:d.agentName},null,8,["content"])]),(0,i.Lk)("div",st,[(0,i.bF)(L,{ellipsis:{rows:2,expandable:!0,symbol:"展开"},content:null===(M=e.agent)||void 0===M?void 0:M.agentDesc},null,8,["content"])]),e.agent&&"personal"!==e.agent.agentType?((0,i.uX)(),(0,i.CE)("div",ct,[e.skillList.length?((0,i.uX)(),(0,i.CE)("div",ut,[t[1]||(t[1]=(0,i.Lk)("div",{class:"skill-card-menu-title"},"已拥有技能",-1)),(0,i.Lk)("div",dt,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.skillList,(t=>((0,i.uX)(),(0,i.CE)("div",{class:"skill-card-menu-item",key:t.id},[(0,i.Lk)("div",{onClick:()=>{"super"===e.agent.agentCode&&C(t.children)}},[(0,i.bF)(w,{icon:t.icon,iconBackground:t.iconBackground},null,8,["icon","iconBackground"])],8,pt),(0,i.bF)(x,{title:t.name},{default:(0,i.k6)((()=>[(0,i.Lk)("span",gt,(0,r.v_)(t.name),1)])),_:2},1032,["title"])])))),128))]),(0,i.bF)((0,l.R1)(ot.Ay),{show:p.value,"onUpdate:show":t[0]||(t[0]=e=>p.value=e),title:"技能详情",closeable:!1},{default:(0,i.k6)((()=>[(0,i.Lk)("div",vt,[(0,i.Lk)("div",mt,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(f.value,(e=>((0,i.uX)(),(0,i.CE)("div",{class:"ai-assistant-skill-detail-item",key:e.id},[(0,i.bF)(w,{icon:e.icon,iconBackground:e.iconBackground,disabled:!1===e.enabled},null,8,["icon","iconBackground","disabled"]),(0,i.Lk)("div",ft,[(0,i.Lk)("div",kt,(0,r.v_)(e.name),1),(0,i.Lk)("div",yt,(0,r.v_)(e.description),1)])])))),128))])])])),_:1},8,["show"])])):(0,i.Q3)("",!0),e.disabledSkillList.length?((0,i.uX)(),(0,i.CE)("div",bt,[t[2]||(t[2]=(0,i.Lk)("div",{class:"skill-card-menu-title"},"未获取技能",-1)),(0,i.Lk)("div",Ct,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.disabledSkillList,(e=>((0,i.uX)(),(0,i.CE)("div",{class:"skill-card-menu-item",key:e.id},[(0,i.Lk)("div",wt,[(0,i.Lk)("img",{class:"skill-card-menu-item-icon",src:e.icon||(0,l.R1)(v),alt:""},null,8,ht)]),(0,i.bF)(x,{title:e.name},{default:(0,i.k6)((()=>[(0,i.Lk)("span",It,(0,r.v_)(e.name),1)])),_:2},1032,["title"])])))),128))])])):(0,i.Q3)("",!0),e.skillList.length||e.disabledSkillList.length||b.value.length?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("div",Mt,[(0,i.Lk)("img",{src:(0,l.R1)(g),width:"120"},null,8,At),t[3]||(t[3]=(0,i.Lk)("span",{class:"text"},"暂无数据",-1))])),b.value.length?((0,i.uX)(),(0,i.CE)("div",Lt,[t[4]||(t[4]=(0,i.Lk)("div",{class:"prompts-card-menu-title"},"推荐指令",-1)),(0,i.Lk)("div",xt,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(b.value,((e,t)=>((0,i.uX)(),(0,i.CE)("div",{key:t,class:"prompts-card-menu-list-item"},[(0,i.Lk)("img",{src:(0,l.R1)(m),style:{"margin-right":"6px"}},null,8,St),(0,i.Lk)("div",Dt,[(0,i.bF)(x,{title:e},{default:(0,i.k6)((()=>[(0,i.Lk)("span",{class:"prompts-card-menu-list-item-content-text",onClick:()=>k(e)},(0,r.v_)(e),9,jt)])),_:2},1032,["title"]),(0,i.Lk)("span",{class:"prompts-card-menu-list-item-icon",onClick:()=>k(e,!0)},null,8,Nt)])])))),128))])])):(0,i.Q3)("",!0)])):((0,i.uX)(),(0,i.CE)("div",{key:1,class:(0,r.C4)(["assistant-detail-card",{"assistant-detail-card-ios":(0,l.R1)(a.OF)()}])},[t[5]||(t[5]=(0,i.Lk)("div",{class:"assistant-detail-card-title"},"助手设定",-1)),(0,i.Lk)("div",Bt,[(0,i.Lk)("pre",null,(0,r.v_)((null===(A=e.agent)||void 0===A?void 0:A.agentPrompts)||"-"),1)])],2)),e.agent&&"personal"===e.agent.agentType?((0,i.uX)(),(0,i.CE)("div",{key:2,class:(0,r.C4)(["assistant-detail-footer",{"assistant-detail-footer-ios":(0,l.R1)(a.OF)()}])},[(0,i.bF)(S,{size:"large",danger:"",class:"btn",type:"primary",block:"",style:{"margin-right":"32px"},onClick:I},{default:(0,i.k6)((()=>t[6]||(t[6]=[(0,i.eW)(" 删除 ")]))),_:1}),(0,i.bF)(S,{class:"btn",size:"large",type:"primary",block:"",onClick:h},{default:(0,i.k6)((()=>t[7]||(t[7]=[(0,i.eW)(" 编辑 ")]))),_:1})],2)):(0,i.Q3)("",!0)],4)}}});const Ft=(0,b.A)(Et,[["__scopeId","data-v-95565c96"]]);var zt=Ft,Rt=n(8084),Tt=(0,i.pM)({__name:"index",props:{agent:{}},setup(e,{expose:t}){const n=(0,l.KR)(!0),r=(0,a.Cr)(),s=e,u=(0,i.EW)((()=>r?zt:le)),d=(0,l.KR)([]),p=(0,l.KR)([]),g=e=>{var t;(0,c.Q9)(null===(t=s.agent)||void 0===t?void 0:t.id,e)};return(0,i.wB)((()=>s.agent),(()=>{s.agent&&(n.value=!0,(0,Rt.t)(s.agent.agentCode).then((e=>{var t,n;d.value=((null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.ownedList)||[]).map((e=>(0,o.A)({},e))),p.value=((null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.unownedList)||[]).map((e=>(0,o.A)({},e)))})).finally((()=>n.value=!1)))}),{immediate:!0}),t({favoriteHandle:g}),(e,t)=>((0,i.uX)(),(0,i.Wv)((0,i.$y)(u.value),{agent:e.agent,skillList:d.value,disabledSkillList:p.value,onFavorite:g,onPromptClick:t[0]||(t[0]=t=>e.$emit("prompt-click",t)),onClose:t[1]||(t[1]=t=>e.$emit("close",t))},null,40,["agent","skillList","disabledSkillList"]))}});const Ot=Tt;var Gt=Ot},79978:function(e,t,n){var o=n(46518),i=n(69565),l=n(79504),a=n(67750),r=n(94901),s=n(64117),c=n(60788),u=n(655),d=n(55966),p=n(61034),g=n(2478),v=n(78227),m=n(96395),f=v("replace"),k=TypeError,y=l("".indexOf),b=l("".replace),C=l("".slice),w=Math.max;o({target:"String",proto:!0},{replaceAll:function(e,t){var n,o,l,v,h,I,M,A,L,x,S=a(this),D=0,j="";if(!s(e)){if(n=c(e),n&&(o=u(a(p(e))),!~y(o,"g")))throw new k("`.replaceAll` does not allow non-global regexes");if(l=d(e,f),l)return i(l,e,S,t);if(m&&n)return b(u(S),e,t)}v=u(S),h=u(e),I=r(t),I||(t=u(t)),M=h.length,A=w(1,M),L=y(v,h);while(-1!==L)x=I?u(t(h,L,v)):g(h,v,L,[],void 0,t),j+=C(v,D,L)+x,D=L+M,L=L+A>v.length?-1:y(v,h,L+A);return D<v.length&&(j+=C(v,D)),j}})},46370:function(e,t,n){n.d(t,{ML:function(){return C},Py:function(){return f},SA:function(){return r},TU:function(){return S},cJ:function(){return p},er:function(){return a},f$:function(){return x},kz:function(){return b},lW:function(){return w},mH:function(){return L},r7:function(){return s},yD:function(){return d}});n(89463),n(44114),n(26910),n(27495),n(90906),n(98992),n(23215),n(3949),n(81454);var o=n(15167),i=n(26436),l="undefined"!==typeof window;function a(e){return l?requestAnimationFrame(e):-1}function r(e){l&&cancelAnimationFrame(e)}function s(e){a((()=>a(e)))}var c=e=>e===window,u=(e,t)=>({top:0,left:0,right:e,bottom:t,width:e,height:t}),d=e=>{const t=(0,o.R1)(e);if(c(t)){const e=t.innerWidth,n=t.innerHeight;return u(e,n)}return(null==t?void 0:t.getBoundingClientRect)?t.getBoundingClientRect():u(0,0)};function p(e){const t=(0,i.WQ)(e,null);if(t){const e=(0,i.nI)(),{link:n,unlink:o,internalChildren:l}=t;n(e),(0,i.hi)((()=>o(e)));const a=(0,i.EW)((()=>l.indexOf(e)));return{parent:t,index:a}}return{parent:null,index:(0,o.KR)(-1)}}function g(e){const t=[],n=e=>{Array.isArray(e)&&e.forEach((e=>{var o;(0,i.vv)(e)&&(t.push(e),(null==(o=e.component)?void 0:o.subTree)&&(t.push(e.component.subTree),n(e.component.subTree.children)),e.children&&n(e.children))}))};return n(e),t}var v=(e,t)=>{const n=e.indexOf(t);return-1===n?e.findIndex((e=>void 0!==t.key&&null!==t.key&&e.type===t.type&&e.key===t.key)):n};function m(e,t,n){const o=g(e.subTree.children);n.sort(((e,t)=>v(o,e.vnode)-v(o,t.vnode)));const i=n.map((e=>e.proxy));t.sort(((e,t)=>{const n=i.indexOf(e),o=i.indexOf(t);return n-o}))}function f(e){const t=(0,o.Kh)([]),n=(0,o.Kh)([]),l=(0,i.nI)(),a=o=>{const a=e=>{e.proxy&&(n.push(e),t.push(e.proxy),m(l,t,n))},r=e=>{const o=n.indexOf(e);t.splice(o,1),n.splice(o,1)};(0,i.Gt)(e,Object.assign({link:a,unlink:r,children:t,internalChildren:n},o))};return{children:t,linkChildren:a}}var k,y;function b(e){let t;(0,i.sV)((()=>{e(),(0,i.dY)((()=>{t=!0}))})),(0,i.n)((()=>{t&&e()}))}function C(e,t,n={}){if(!l)return;const{target:a=window,passive:r=!1,capture:s=!1}=n;let c,u=!1;const d=n=>{if(u)return;const i=(0,o.R1)(n);i&&!c&&(i.addEventListener(e,t,{capture:s,passive:r}),c=!0)},p=n=>{if(u)return;const i=(0,o.R1)(n);i&&c&&(i.removeEventListener(e,t,s),c=!1)};let g;return(0,i.hi)((()=>p(a))),(0,i.Y4)((()=>p(a))),b((()=>d(a))),(0,o.i9)(a)&&(g=(0,i.wB)(a,((e,t)=>{p(t),d(e)}))),()=>{null==g||g(),p(a),u=!0}}function w(){if(!k&&(k=(0,o.KR)(0),y=(0,o.KR)(0),l)){const e=()=>{k.value=window.innerWidth,y.value=window.innerHeight};e(),window.addEventListener("resize",e,{passive:!0}),window.addEventListener("orientationchange",e,{passive:!0})}return{width:k,height:y}}var h,I=/scroll|auto|overlay/i,M=l?window:void 0;function A(e){const t=1;return"HTML"!==e.tagName&&"BODY"!==e.tagName&&e.nodeType===t}function L(e,t=M){let n=e;while(n&&n!==t&&A(n)){const{overflowY:e}=window.getComputedStyle(n);if(I.test(e))return n;n=n.parentNode}return t}function x(e,t=M){const n=(0,o.KR)();return(0,i.sV)((()=>{e.value&&(n.value=L(e.value,t))})),n}function S(){if(!h&&(h=(0,o.KR)("visible"),l)){const e=()=>{h.value=document.hidden?"hidden":"visible"};e(),window.addEventListener("visibilitychange",e)}return h}Symbol("van-field")},15052:function(e,t,n){n.d(t,{A:function(){return E}});var o={};n.r(o),n.d(o,{exclude:function(){return B},extract:function(){return L},parse:function(){return x},parseUrl:function(){return D},pick:function(){return N},stringify:function(){return S},stringifyUrl:function(){return j}});var i=n(5873);n(89463),n(16280),n(46449),n(74423),n(72712),n(26910),n(93514),n(27495),n(90906),n(38781),n(21699),n(25440),n(79978),n(90744),n(42762),n(98992),n(54520),n(81454),n(8872),n(62953),n(3296),n(27208),n(48408),n(14603),n(47566),n(98721),n(84864),n(57465),n(71761);const l="%[a-f0-9]{2}",a=new RegExp("("+l+")|([^%]+?)","gi"),r=new RegExp("("+l+")+","gi");function s(e,t){try{return[decodeURIComponent(e.join(""))]}catch(i){}if(1===e.length)return e;t=t||1;const n=e.slice(0,t),o=e.slice(t);return Array.prototype.concat.call([],s(n),s(o))}function c(e){try{return decodeURIComponent(e)}catch(t){let n=e.match(a)||[];for(let o=1;o<n.length;o++)e=s(n,o).join(""),n=e.match(a)||[];return e}}function u(e){const t={"%FE%FF":"��","%FF%FE":"��"};let n=r.exec(e);while(n){try{t[n[0]]=decodeURIComponent(n[0])}catch(i){const e=c(n[0]);e!==n[0]&&(t[n[0]]=e)}n=r.exec(e)}t["%C2"]="�";const o=Object.keys(t);for(const l of o)e=e.replace(new RegExp(l,"g"),t[l]);return e}function d(e){if("string"!==typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return decodeURIComponent(e)}catch(t){return u(e)}}n(17642),n(58004),n(33853),n(45876),n(32475),n(15024),n(31698);function p(e,t){const n={};if(Array.isArray(t))for(const o of t){const t=Object.getOwnPropertyDescriptor(e,o);null!==t&&void 0!==t&&t.enumerable&&Object.defineProperty(n,o,t)}else for(const o of Reflect.ownKeys(e)){const i=Object.getOwnPropertyDescriptor(e,o);if(i.enumerable){const l=e[o];t(o,l,e)&&Object.defineProperty(n,o,i)}}return n}function g(e,t){if("string"!==typeof e||"string"!==typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===e||""===t)return[];const n=e.indexOf(t);return-1===n?[]:[e.slice(0,n),e.slice(n+t.length)]}const v=e=>null===e||void 0===e,m=e=>encodeURIComponent(e).replaceAll(/[!'()*]/g,(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`)),f=Symbol("encodeFragmentIdentifier");function k(e){switch(e.arrayFormat){case"index":return t=>(n,o)=>{const i=n.length;return void 0===o||e.skipNull&&null===o||e.skipEmptyString&&""===o?n:null===o?[...n,[C(t,e),"[",i,"]"].join("")]:[...n,[C(t,e),"[",C(i,e),"]=",C(o,e)].join("")]};case"bracket":return t=>(n,o)=>void 0===o||e.skipNull&&null===o||e.skipEmptyString&&""===o?n:null===o?[...n,[C(t,e),"[]"].join("")]:[...n,[C(t,e),"[]=",C(o,e)].join("")];case"colon-list-separator":return t=>(n,o)=>void 0===o||e.skipNull&&null===o||e.skipEmptyString&&""===o?n:null===o?[...n,[C(t,e),":list="].join("")]:[...n,[C(t,e),":list=",C(o,e)].join("")];case"comma":case"separator":case"bracket-separator":{const t="bracket-separator"===e.arrayFormat?"[]=":"=";return n=>(o,i)=>void 0===i||e.skipNull&&null===i||e.skipEmptyString&&""===i?o:(i=null===i?"":i,0===o.length?[[C(n,e),t,C(i,e)].join("")]:[[o,C(i,e)].join(e.arrayFormatSeparator)])}default:return t=>(n,o)=>void 0===o||e.skipNull&&null===o||e.skipEmptyString&&""===o?n:null===o?[...n,C(t,e)]:[...n,[C(t,e),"=",C(o,e)].join("")]}}function y(e){let t;switch(e.arrayFormat){case"index":return(e,n,o)=>{t=/\[(\d*)]$/.exec(e),e=e.replace(/\[\d*]$/,""),t?(void 0===o[e]&&(o[e]={}),o[e][t[1]]=n):o[e]=n};case"bracket":return(e,n,o)=>{t=/(\[])$/.exec(e),e=e.replace(/\[]$/,""),t?void 0!==o[e]?o[e]=[...o[e],n]:o[e]=[n]:o[e]=n};case"colon-list-separator":return(e,n,o)=>{t=/(:list)$/.exec(e),e=e.replace(/:list$/,""),t?void 0!==o[e]?o[e]=[...o[e],n]:o[e]=[n]:o[e]=n};case"comma":case"separator":return(t,n,o)=>{const i="string"===typeof n&&n.includes(e.arrayFormatSeparator),l="string"===typeof n&&!i&&w(n,e).includes(e.arrayFormatSeparator);n=l?w(n,e):n;const a=i||l?n.split(e.arrayFormatSeparator).map((t=>w(t,e))):null===n?n:w(n,e);o[t]=a};case"bracket-separator":return(t,n,o)=>{const i=/(\[])$/.test(t);if(t=t.replace(/\[]$/,""),!i)return void(o[t]=n?w(n,e):n);const l=null===n?[]:w(n,e).split(e.arrayFormatSeparator);void 0!==o[t]?o[t]=[...o[t],...l]:o[t]=l};default:return(e,t,n)=>{void 0!==n[e]?n[e]=[...[n[e]].flat(),t]:n[e]=t}}}function b(e){if("string"!==typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function C(e,t){return t.encode?t.strict?m(e):encodeURIComponent(e):e}function w(e,t){return t.decode?d(e):e}function h(e){return Array.isArray(e)?e.sort():"object"===typeof e?h(Object.keys(e)).sort(((e,t)=>Number(e)-Number(t))).map((t=>e[t])):e}function I(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function M(e){let t="";const n=e.indexOf("#");return-1!==n&&(t=e.slice(n)),t}function A(e,t,n){return"string"===n&&"string"===typeof e?e:"function"===typeof n&&"string"===typeof e?n(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()?"number"!==n||Number.isNaN(Number(e))||"string"!==typeof e||""===e.trim()?t.parseNumbers&&!Number.isNaN(Number(e))&&"string"===typeof e&&""!==e.trim()?Number(e):e:Number(e):"true"===e.toLowerCase()}function L(e){e=I(e);const t=e.indexOf("?");return-1===t?"":e.slice(t+1)}function x(e,t){t=(0,i.A)({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1,types:Object.create(null)},t),b(t.arrayFormatSeparator);const n=y(t),o=Object.create(null);if("string"!==typeof e)return o;if(e=e.trim().replace(/^[?#&]/,""),!e)return o;for(const i of e.split("&")){if(""===i)continue;const e=t.decode?i.replaceAll("+"," "):i;let[l,a]=g(e,"=");void 0===l&&(l=e),a=void 0===a?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?a:w(a,t),n(w(l,t),a,o)}for(const[i,l]of Object.entries(o))if("object"===typeof l&&null!==l&&"string"!==t.types[i])for(const[e,n]of Object.entries(l)){const o=t.types[i]?t.types[i].replace("[]",""):void 0;l[e]=A(n,t,o)}else"object"===typeof l&&null!==l&&"string"===t.types[i]?o[i]=Object.values(l).join(t.arrayFormatSeparator):o[i]=A(l,t,t.types[i]);return!1===t.sort?o:(!0===t.sort?Object.keys(o).sort():Object.keys(o).sort(t.sort)).reduce(((e,t)=>{const n=o[t];return e[t]=Boolean(n)&&"object"===typeof n&&!Array.isArray(n)?h(n):n,e}),Object.create(null))}function S(e,t){if(!e)return"";t=(0,i.A)({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t),b(t.arrayFormatSeparator);const n=n=>t.skipNull&&v(e[n])||t.skipEmptyString&&""===e[n],o=k(t),l={};for(const[i,r]of Object.entries(e))n(i)||(l[i]=r);const a=Object.keys(l);return!1!==t.sort&&a.sort(t.sort),a.map((n=>{const i=e[n];return void 0===i?"":null===i?C(n,t):Array.isArray(i)?0===i.length&&"bracket-separator"===t.arrayFormat?C(n,t)+"[]":i.reduce(o(n),[]).join("&"):C(n,t)+"="+C(i,t)})).filter((e=>e.length>0)).join("&")}function D(e,t){var n,o;t=(0,i.A)({decode:!0},t);let[l,a]=g(e,"#");return void 0===l&&(l=e),(0,i.A)({url:null!==(n=null===(o=l)||void 0===o||null===(o=o.split("?"))||void 0===o?void 0:o[0])&&void 0!==n?n:"",query:x(L(e),t)},t&&t.parseFragmentIdentifier&&a?{fragmentIdentifier:w(a,t)}:{})}function j(e,t){t=(0,i.A)({encode:!0,strict:!0,[f]:!0},t);const n=I(e.url).split("?")[0]||"",o=L(e.url),l=(0,i.A)((0,i.A)({},x(o,{sort:!1})),e.query);let a=S(l,t);a&&(a=`?${a}`);let r=M(e.url);if("string"===typeof e.fragmentIdentifier){const o=new URL(n);o.hash=e.fragmentIdentifier,r=t[f]?o.hash:`#${e.fragmentIdentifier}`}return`${n}${a}${r}`}function N(e,t,n){n=(0,i.A)({parseFragmentIdentifier:!0,[f]:!1},n);const{url:o,query:l,fragmentIdentifier:a}=D(e,n);return j({url:o,query:p(l,t),fragmentIdentifier:a},n)}function B(e,t,n){const o=Array.isArray(t)?e=>!t.includes(e):(e,n)=>!t(e,n);return N(e,o,n)}var E=o},99673:function(e,t,n){n.d(t,{Ay:function(){return b}});var o=n(94139),i=(n(89463),n(81454),n(62953),n(26436)),l=n(48525),a=n(84241),r=n(45149),s=n(95273),c=n(65520),u=n(92156),d=n(39347),p=n(72417);const[g,v]=(0,l.YX)("action-sheet"),m=(0,a.X$)({},p.C,{title:String,round:r.Rd,actions:(0,r.zj)(),closeIcon:(0,r.Ts)("cross"),closeable:r.Rd,cancelText:String,description:String,closeOnPopstate:r.Rd,closeOnClickAction:Boolean,safeAreaInsetBottom:r.Rd}),f=[...p.r,"round","closeOnPopstate","safeAreaInsetBottom"];var k=(0,i.pM)({name:g,props:m,emits:["select","cancel","update:show"],setup(e,{slots:t,emit:n}){const o=e=>n("update:show",e),l=()=>{o(!1),n("cancel")},r=()=>{if(e.title)return(0,i.bF)("div",{class:v("header")},[e.title,e.closeable&&(0,i.bF)(c.In,{name:e.closeIcon,class:[v("close"),s.Dk],onClick:l},null)])},p=()=>{if(t.cancel||e.cancelText)return[(0,i.bF)("div",{class:v("gap")},null),(0,i.bF)("button",{type:"button",class:v("cancel"),onClick:l},[t.cancel?t.cancel():e.cancelText])]},g=e=>{if(e.icon)return(0,i.bF)(c.In,{class:v("item-icon"),name:e.icon},null)},m=(e,n)=>e.loading?(0,i.bF)(d.Rh,{class:v("loading-icon")},null):t.action?t.action({action:e,index:n}):[(0,i.bF)("span",{class:v("name")},[e.name]),e.subname&&(0,i.bF)("div",{class:v("subname")},[e.subname])],k=(t,l)=>{const{color:a,loading:r,callback:s,disabled:c,className:u}=t,d=()=>{c||r||(s&&s(t),e.closeOnClickAction&&o(!1),(0,i.dY)((()=>n("select",t,l))))};return(0,i.bF)("button",{type:"button",style:{color:a},class:[v("item",{loading:r,disabled:c}),u],onClick:d},[g(t),m(t,l)])},y=()=>{if(e.description||t.description){const n=t.description?t.description():e.description;return(0,i.bF)("div",{class:v("description")},[n])}};return()=>(0,i.bF)(u.zD,(0,i.v6)({class:v(),position:"bottom","onUpdate:show":o},(0,a.Up)(e,f)),{default:()=>{var n;return[r(),y(),(0,i.bF)("div",{class:v("content")},[e.actions.map(k),null==(n=t.default)?void 0:n.call(t)]),p()]}})}});const y=(0,o.G)(k);var b=y},15543:function(e,t,n){n(16647),n(17708),n(67484),n(27265),n(40269),n(64371)},41363:function(e,t,n){n.d(t,{Ex:function(){return g}});var o=n(94139),i=(n(27495),n(25440),n(11392),n(62953),n(26436)),l=n(48525),a=n(45149),r=n(84241),s=n(94104);const[c,u]=(0,l.YX)("badge"),d={dot:Boolean,max:a.VQ,tag:(0,a.Ts)("div"),color:String,offset:Array,content:a.VQ,showZero:a.Rd,position:(0,a.Ts)("top-right")};var p=(0,i.pM)({name:c,props:d,setup(e,{slots:t}){const n=()=>{if(t.content)return!0;const{content:n,showZero:o}=e;return(0,r.C8)(n)&&""!==n&&(o||0!==n&&"0"!==n)},o=()=>{const{dot:o,max:i,content:l}=e;if(!o&&n())return t.content?t.content():(0,r.C8)(i)&&(0,r.kf)(l)&&+l>+i?`${i}+`:l},l=e=>e.startsWith("-")?e.replace("-",""):`-${e}`,a=(0,i.EW)((()=>{const n={background:e.color};if(e.offset){const[o,i]=e.offset,{position:a}=e,[r,c]=a.split("-");t.default?(n[r]="number"===typeof i?(0,s._V)("top"===r?i:-i):"top"===r?(0,s._V)(i):l(i),n[c]="number"===typeof o?(0,s._V)("left"===c?o:-o):"left"===c?(0,s._V)(o):l(o)):(n.marginTop=(0,s._V)(i),n.marginLeft=(0,s._V)(o))}return n})),c=()=>{if(n()||e.dot)return(0,i.bF)("div",{class:u([e.position,{dot:e.dot,fixed:!!t.default}]),style:a.value},[o()])};return()=>{if(t.default){const{tag:n}=e;return(0,i.bF)(n,{class:u("wrapper")},{default:()=>[t.default(),c()]})}return c()}}});const g=(0,o.G)(p)},63958:function(e,t,n){n.d(t,{V:function(){return l},q:function(){return i}});n(89463);var o=n(26436);const i=Symbol();function l(e){const t=(0,o.WQ)(i,null);t&&(0,o.wB)(t,(t=>{t&&e()}))}},53816:function(e,t,n){n.d(t,{c:function(){return l}});var o=n(26436),i=n(84241);function l(e){const t=(0,o.nI)();t&&(0,i.X$)(t.proxy,e)}},42183:function(e,t,n){n.d(t,{S:function(){return l},v:function(){return i}});let o=2e3;const i=()=>++o,l=e=>{o=e}},6547:function(e,t,n){n.d(t,{aI:function(){return i},lq:function(){return a},wE:function(){return l}});n(27495),n(25440);var o=n(26436);const i={to:[String,Object],url:String,replace:Boolean};function l({to:e,url:t,replace:n,$router:o}){e&&o?o[n?"replace":"push"](e):t&&(n?location.replace(t):location.href=t)}function a(){const e=(0,o.nI)().proxy;return()=>l(e)}},60085:function(e,t,n){n.d(t,{P:function(){return a}});var o=n(15167),i=n(95273);function l(e,t){return e>t?"horizontal":t>e?"vertical":""}function a(){const e=(0,o.KR)(0),t=(0,o.KR)(0),n=(0,o.KR)(0),a=(0,o.KR)(0),r=(0,o.KR)(0),s=(0,o.KR)(0),c=(0,o.KR)(""),u=(0,o.KR)(!0),d=()=>"vertical"===c.value,p=()=>"horizontal"===c.value,g=()=>{n.value=0,a.value=0,r.value=0,s.value=0,c.value="",u.value=!0},v=n=>{g(),e.value=n.touches[0].clientX,t.value=n.touches[0].clientY},m=o=>{const d=o.touches[0];n.value=(d.clientX<0?0:d.clientX)-e.value,a.value=d.clientY-t.value,r.value=Math.abs(n.value),s.value=Math.abs(a.value);const p=10;(!c.value||r.value<p&&s.value<p)&&(c.value=l(r.value,s.value)),u.value&&(r.value>i.Ez||s.value>i.Ez)&&(u.value=!1)};return{move:m,start:v,reset:g,startX:e,startY:t,deltaX:n,deltaY:a,offsetX:r,offsetY:s,direction:c,isVertical:d,isHorizontal:p,isTap:u}}},65520:function(e,t,n){n.d(t,{In:function(){return I}});var o=n(94139),i=(n(74423),n(21699),n(62953),n(26436)),l=n(48525),a=n(45149),r=n(94104),s=n(41363),c=(n(89463),n(27495),n(25440),n(98992),n(3949),n(84241)),u=n(42183);const[d,p]=(0,l.YX)("config-provider"),g=Symbol(d),v={tag:(0,a.Ts)("div"),theme:(0,a.Ts)("light"),zIndex:Number,themeVars:Object,themeVarsDark:Object,themeVarsLight:Object,themeVarsScope:(0,a.Ts)("local"),iconPrefix:String};function m(e){return e.replace(/([a-zA-Z])(\d)/g,"$1-$2")}function f(e){const t={};return Object.keys(e).forEach((n=>{const o=m((0,r.kW)(n));t[`--van-${o}`]=e[n]})),t}function k(e={},t={}){Object.keys(e).forEach((n=>{e[n]!==t[n]&&document.documentElement.style.setProperty(n,e[n])})),Object.keys(t).forEach((t=>{e[t]||document.documentElement.style.removeProperty(t)}))}(0,i.pM)({name:d,props:v,setup(e,{slots:t}){const n=(0,i.EW)((()=>f((0,c.X$)({},e.themeVars,"dark"===e.theme?e.themeVarsDark:e.themeVarsLight))));if(c.M){const t=()=>{document.documentElement.classList.add(`van-theme-${e.theme}`)},o=(t=e.theme)=>{document.documentElement.classList.remove(`van-theme-${t}`)};(0,i.wB)((()=>e.theme),((e,n)=>{n&&o(n),t()}),{immediate:!0}),(0,i.n)(t),(0,i.Y4)(o),(0,i.xo)(o),(0,i.wB)(n,((t,n)=>{"global"===e.themeVarsScope&&k(t,n)})),(0,i.wB)((()=>e.themeVarsScope),((e,t)=>{"global"===t&&k({},n.value),"global"===e&&k(n.value,{})})),"global"===e.themeVarsScope&&k(n.value,{})}return(0,i.Gt)(g,e),(0,i.nT)((()=>{void 0!==e.zIndex&&(0,u.S)(e.zIndex)})),()=>(0,i.bF)(e.tag,{class:p(),style:"local"===e.themeVarsScope?n.value:void 0},{default:()=>{var e;return[null==(e=t.default)?void 0:e.call(t)]}})}});const[y,b]=(0,l.YX)("icon"),C=e=>null==e?void 0:e.includes("/"),w={dot:Boolean,tag:(0,a.Ts)("i"),name:String,size:a.VQ,badge:a.VQ,color:String,badgeProps:Object,classPrefix:String};var h=(0,i.pM)({name:y,props:w,setup(e,{slots:t}){const n=(0,i.WQ)(g,null),o=(0,i.EW)((()=>e.classPrefix||(null==n?void 0:n.iconPrefix)||b()));return()=>{const{tag:n,dot:l,name:a,size:c,badge:u,color:d}=e,p=C(a);return(0,i.bF)(s.Ex,(0,i.v6)({dot:l,tag:n,class:[o.value,p?"":`${o.value}-${a}`],style:{color:d,fontSize:(0,r._V)(c)},content:u},e.badgeProps),{default:()=>{var e;return[null==(e=t.default)?void 0:e.call(t),p&&(0,i.bF)("img",{class:b("image"),src:a},null)]}})}}});const I=(0,o.G)(h)},39347:function(e,t,n){n.d(t,{Rh:function(){return m}});var o=n(94139),i=(n(81454),n(62953),n(26436)),l=n(48525),a=n(45149),r=n(84241),s=n(94104);const[c,u]=(0,l.YX)("loading"),d=Array(12).fill(null).map(((e,t)=>(0,i.bF)("i",{class:u("line",String(t+1))},null))),p=(0,i.bF)("svg",{class:u("circular"),viewBox:"25 25 50 50"},[(0,i.bF)("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]),g={size:a.VQ,type:(0,a.Ts)("circular"),color:String,vertical:Boolean,textSize:a.VQ,textColor:String};var v=(0,i.pM)({name:c,props:g,setup(e,{slots:t}){const n=(0,i.EW)((()=>(0,r.X$)({color:e.color},(0,s.vE)(e.size)))),o=()=>{const o="spinner"===e.type?d:p;return(0,i.bF)("span",{class:u("spinner",e.type),style:n.value},[t.icon?t.icon():o])},l=()=>{var n;if(t.default)return(0,i.bF)("span",{class:u("text"),style:{fontSize:(0,s._V)(e.textSize),color:null!=(n=e.textColor)?n:e.color}},[t.default()])};return()=>{const{type:t,vertical:n}=e;return(0,i.bF)("div",{class:u([t,{vertical:n}]),"aria-live":"polite","aria-busy":!0},[o(),l()])}}});const m=(0,o.G)(v)},92156:function(e,t,n){n.d(t,{zD:function(){return z}});var o=n(94139),i=(n(62953),n(26436)),l=n(15167),a=n(91469),r=n(72417),s=n(84241),c=n(45149),u=n(48525),d=n(34290),p=n(95273),g=n(46370),v=n(53816),m=(n(58940),n(60085)),f=n(83111);let k=0;const y="van-overflow-hidden";function b(e,t){const n=(0,m.P)(),o="01",l="10",a=t=>{n.move(t);const i=n.deltaY.value>0?l:o,a=(0,g.mH)(t.target,e.value),{scrollHeight:r,offsetHeight:s,scrollTop:c}=a;let u="11";0===c?u=s>=r?"00":"01":c+s>=r&&(u="10"),"11"===u||!n.isVertical()||parseInt(u,2)&parseInt(i,2)||(0,f.wo)(t,!0)},r=()=>{document.addEventListener("touchstart",n.start),document.addEventListener("touchmove",a,{passive:!1}),k||document.body.classList.add(y),k++},s=()=>{k&&(document.removeEventListener("touchstart",n.start),document.removeEventListener("touchmove",a),k--,k||document.body.classList.remove(y))},c=()=>t()&&r(),u=()=>t()&&s();(0,g.kz)(c),(0,i.Y4)(u),(0,i.xo)(u),(0,i.wB)(t,(e=>{e?r():s()}))}function C(e){const t=(0,l.KR)(!1);return(0,i.wB)(e,(e=>{e&&(t.value=e)}),{immediate:!0}),e=>()=>t.value?e():null}var w=n(63958),h=n(42183);const I=()=>{var e;const{scopeId:t}=(null==(e=(0,i.nI)())?void 0:e.vnode)||{};return t?{[t]:""}:null};var M=n(65520),A=n(94104);const[L,x]=(0,u.YX)("overlay"),S={show:Boolean,zIndex:c.VQ,duration:c.VQ,className:c.E9,lockScroll:c.Rd,lazyRender:c.Rd,customStyle:Object,teleport:[String,Object]};var D=(0,i.pM)({name:L,props:S,setup(e,{slots:t}){const n=(0,l.KR)(),o=C((()=>e.show||!e.lazyRender)),r=t=>{e.lockScroll&&(0,f.wo)(t,!0)},c=o((()=>{var o;const l=(0,s.X$)((0,A.AO)(e.zIndex),e.customStyle);return(0,s.C8)(e.duration)&&(l.animationDuration=`${e.duration}s`),(0,i.bo)((0,i.bF)("div",{ref:n,style:l,class:[x(),e.className]},[null==(o=t.default)?void 0:o.call(t)]),[[a.aG,e.show]])}));return(0,g.ML)("touchmove",r,{target:n}),()=>{const t=(0,i.bF)(a.eB,{name:"van-fade",appear:!0},{default:c});return e.teleport?(0,i.bF)(i.Im,{to:e.teleport},{default:()=>[t]}):t}}});const j=(0,o.G)(D);const N=(0,s.X$)({},r.C,{round:Boolean,position:(0,c.Ts)("center"),closeIcon:(0,c.Ts)("cross"),closeable:Boolean,transition:String,iconPrefix:String,closeOnPopstate:Boolean,closeIconPosition:(0,c.Ts)("top-right"),destroyOnClose:Boolean,safeAreaInsetTop:Boolean,safeAreaInsetBottom:Boolean}),[B,E]=(0,u.YX)("popup");var F=(0,i.pM)({name:B,inheritAttrs:!1,props:N,emits:["open","close","opened","closed","keydown","update:show","clickOverlay","clickCloseIcon"],setup(e,{emit:t,attrs:n,slots:o}){let r,c;const u=(0,l.KR)(),m=(0,l.KR)(),f=C((()=>e.show||!e.lazyRender)),k=(0,i.EW)((()=>{const t={zIndex:u.value};if((0,s.C8)(e.duration)){const n="center"===e.position?"animationDuration":"transitionDuration";t[n]=`${e.duration}s`}return t})),y=()=>{r||(r=!0,u.value=void 0!==e.zIndex?+e.zIndex:(0,h.v)(),t("open"))},A=()=>{r&&(0,d.m)(e.beforeClose,{done(){r=!1,t("close"),t("update:show",!1)}})},L=n=>{t("clickOverlay",n),e.closeOnClickOverlay&&A()},x=()=>{if(e.overlay)return(0,i.bF)(j,(0,i.v6)({show:e.show,class:e.overlayClass,zIndex:u.value,duration:e.duration,customStyle:e.overlayStyle,role:e.closeOnClickOverlay?"button":void 0,tabindex:e.closeOnClickOverlay?0:void 0},I(),{onClick:L}),{default:o["overlay-content"]})},S=e=>{t("clickCloseIcon",e),A()},D=()=>{if(e.closeable)return(0,i.bF)(M.In,{role:"button",tabindex:0,name:e.closeIcon,class:[E("close-icon",e.closeIconPosition),p.Dk],classPrefix:e.iconPrefix,onClick:S},null)};let N;const B=()=>{N&&clearTimeout(N),N=setTimeout((()=>{t("opened")}))},F=()=>t("closed"),z=e=>t("keydown",e),R=f((()=>{var t;const{destroyOnClose:l,round:r,position:s,safeAreaInsetTop:c,safeAreaInsetBottom:u,show:d}=e;if(d||!l)return(0,i.bo)((0,i.bF)("div",(0,i.v6)({ref:m,style:k.value,role:"dialog",tabindex:0,class:[E({round:r,[s]:s}),{"van-safe-area-top":c,"van-safe-area-bottom":u}],onKeydown:z},n,I()),[null==(t=o.default)?void 0:t.call(o),D()]),[[a.aG,d]])})),T=()=>{const{position:t,transition:n,transitionAppear:o}=e,l="center"===t?"van-fade":`van-popup-slide-${t}`;return(0,i.bF)(a.eB,{name:n||l,appear:o,onAfterEnter:B,onAfterLeave:F},{default:R})};return(0,i.wB)((()=>e.show),(e=>{e&&!r&&(y(),0===n.tabindex&&(0,i.dY)((()=>{var e;null==(e=m.value)||e.focus()}))),!e&&r&&(r=!1,t("close"))})),(0,v.c)({popupRef:m}),b(m,(()=>e.show&&e.lockScroll)),(0,g.ML)("popstate",(()=>{e.closeOnPopstate&&(A(),c=!1)})),(0,i.sV)((()=>{e.show&&y()})),(0,i.n)((()=>{c&&(t("update:show",!0),c=!1)})),(0,i.Y4)((()=>{e.show&&e.teleport&&(A(),c=!0)})),(0,i.Gt)(w.q,(()=>e.show)),()=>e.teleport?(0,i.bF)(i.Im,{to:e.teleport},{default:()=>[x(),T()]}):(0,i.bF)(i.FK,null,[x(),T()])}});const z=(0,o.G)(F)},72417:function(e,t,n){n.d(t,{C:function(){return i},r:function(){return l}});var o=n(45149);const i={show:Boolean,zIndex:o.VQ,overlay:o.Rd,duration:o.VQ,teleport:[String,Object],lockScroll:o.Rd,lazyRender:o.Rd,beforeClose:Function,overlayStyle:Object,overlayClass:o.E9,transitionAppear:Boolean,closeOnClickOverlay:o.Rd},l=Object.keys(i)},84241:function(e,t,n){n.d(t,{C8:function(){return r},Gv:function(){return a},Jt:function(){return p},M:function(){return l},Tn:function(){return s},Up:function(){return g},X$:function(){return i},kf:function(){return u},lQ:function(){return o},un:function(){return d},yL:function(){return c}});n(72712),n(33110),n(27495),n(90906),n(38781),n(25440),n(98992),n(3949),n(8872);function o(){}const i=Object.assign,l="undefined"!==typeof window,a=e=>null!==e&&"object"===typeof e,r=e=>void 0!==e&&null!==e,s=e=>"function"===typeof e,c=e=>a(e)&&s(e.then)&&s(e.catch);const u=e=>"number"===typeof e||/^\d+(\.\d+)?$/.test(e),d=()=>!!l&&/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase());function p(e,t){const n=t.split(".");let o=e;return n.forEach((e=>{var t;o=a(o)&&null!=(t=o[e])?t:""})),o}function g(e,t,n){return t.reduce(((t,o)=>(n&&void 0===e[o]||(t[o]=e[o]),t)),{})}},95273:function(e,t,n){n.d(t,{Bn:function(){return i},Dk:function(){return s},Ez:function(){return c},TL:function(){return l},kw:function(){return a},pT:function(){return r}});n(89463);const o="van-hairline",i=`${o}--top`,l=`${o}--left`,a=`${o}--surround`,r=`${o}--top-bottom`,s="van-haptics-feedback",c=(Symbol("van-form"),5)},48525:function(e,t,n){n.d(t,{YX:function(){return k}});n(72712),n(98992),n(8872),n(62953);var o=n(84241),i=n(94104),l=n(15167);n(3949);const{hasOwnProperty:a}=Object.prototype;function r(e,t,n){const i=t[n];(0,o.C8)(i)&&(a.call(e,n)&&(0,o.Gv)(i)?e[n]=s(Object(e[n]),i):e[n]=i)}function s(e,t){return Object.keys(t).forEach((n=>{r(e,t,n)})),e}var c={name:"姓名",tel:"电话",save:"保存",clear:"清空",cancel:"取消",confirm:"确认",delete:"删除",loading:"加载中...",noCoupon:"暂无优惠券",nameEmpty:"请填写姓名",addContact:"添加联系人",telInvalid:"请填写正确的电话",vanCalendar:{end:"结束",start:"开始",title:"日期选择",weekdays:["日","一","二","三","四","五","六"],monthTitle:(e,t)=>`${e}年${t}月`,rangePrompt:e=>`最多选择 ${e} 天`},vanCascader:{select:"请选择"},vanPagination:{prev:"上一页",next:"下一页"},vanPullRefresh:{pulling:"下拉即可刷新...",loosing:"释放即可刷新..."},vanSubmitBar:{label:"合计:"},vanCoupon:{unlimited:"无门槛",discount:e=>`${e}折`,condition:e=>`满${e}元可用`},vanCouponCell:{title:"优惠券",count:e=>`${e}张可用`},vanCouponList:{exchange:"兑换",close:"不使用",enable:"可用",disabled:"不可用",placeholder:"输入优惠码"},vanAddressEdit:{area:"地区",areaEmpty:"请选择地区",addressEmpty:"请填写详细地址",addressDetail:"详细地址",defaultAddress:"设为默认收货地址"},vanAddressList:{add:"新增地址"}};const u=(0,l.KR)("zh-CN"),d=(0,l.Kh)({"zh-CN":c}),p={messages(){return d[u.value]},use(e,t){u.value=e,this.add({[e]:t})},add(e={}){s(d,e)}};var g=p;function v(e){const t=(0,i.PT)(e)+".";return(e,...n)=>{const i=g.messages(),l=(0,o.Jt)(i,t+e)||(0,o.Jt)(i,e);return(0,o.Tn)(l)?l(...n):l}}function m(e,t){return t?"string"===typeof t?` ${e}--${t}`:Array.isArray(t)?t.reduce(((t,n)=>t+m(e,n)),""):Object.keys(t).reduce(((n,o)=>n+(t[o]?m(e,o):"")),""):""}function f(e){return(t,n)=>(t&&"string"!==typeof t&&(n=t,t=""),t=t?`${e}__${t}`:e,`${t}${m(t,n)}`)}function k(e){const t=`van-${e}`;return[t,f(t),v(t)]}},83111:function(e,t,n){n.d(t,{C7:function(){return m},Fk:function(){return c},LR:function(){return r},Xw:function(){return v},dK:function(){return g},hY:function(){return a},mk:function(){return u},wo:function(){return p}});n(74423),n(21699);var o=n(46370),i=n(15167),l=n(84241);function a(e){const t="scrollTop"in e?e.scrollTop:e.pageYOffset;return Math.max(t,0)}function r(e,t){"scrollTop"in e?e.scrollTop=t:e.scrollTo(e.scrollX,t)}function s(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}function c(e){r(window,e),r(document.body,e)}function u(e,t){if(e===window)return 0;const n=t?a(t):s();return(0,o.yD)(e).top+n}(0,l.un)();const d=e=>e.stopPropagation();function p(e,t){("boolean"!==typeof e.cancelable||e.cancelable)&&e.preventDefault(),t&&d(e)}function g(e){const t=(0,i.R1)(e);if(!t)return!1;const n=window.getComputedStyle(t),o="none"===n.display,l=null===t.offsetParent&&"fixed"!==n.position;return o||l}const{width:v,height:m}=(0,o.lW)()},94104:function(e,t,n){n.d(t,{AO:function(){return r},PT:function(){return m},S7:function(){return g},_V:function(){return l},kW:function(){return f},qE:function(){return k},vE:function(){return a}});n(74423),n(78459),n(27495),n(21699),n(25440);var o=n(84241),i=n(83111);function l(e){if((0,o.C8)(e))return(0,o.kf)(e)?`${e}px`:String(e)}function a(e){if((0,o.C8)(e)){if(Array.isArray(e))return{width:l(e[0]),height:l(e[1])};const t=l(e);return{width:t,height:t}}}function r(e){const t={};return void 0!==e&&(t.zIndex=+e),t}let s;function c(){if(!s){const e=document.documentElement,t=e.style.fontSize||window.getComputedStyle(e).fontSize;s=parseFloat(t)}return s}function u(e){return e=e.replace(/rem/g,""),+e*c()}function d(e){return e=e.replace(/vw/g,""),+e*i.Xw.value/100}function p(e){return e=e.replace(/vh/g,""),+e*i.C7.value/100}function g(e){if("number"===typeof e)return e;if(o.M){if(e.includes("rem"))return u(e);if(e.includes("vw"))return d(e);if(e.includes("vh"))return p(e)}return parseFloat(e)}const v=/-(\w)/g,m=e=>e.replace(v,((e,t)=>t.toUpperCase())),f=e=>e.replace(/([A-Z])/g,"-$1").toLowerCase().replace(/^-/,"");const k=(e,t,n)=>Math.min(Math.max(e,t),n)},34290:function(e,t,n){n.d(t,{m:function(){return i}});var o=n(84241);function i(e,{args:t=[],done:n,canceled:i,error:l}){if(e){const a=e.apply(null,t);(0,o.yL)(a)?a.then((e=>{e?n():i&&i()})).catch(l||o.lQ):a?n():i&&i()}else n()}},5558:function(e,t,n){n.d(t,{T:function(){return r},b:function(){return s}});var o=n(15167),i=n(91469),l=n(84241),a=n(53816);function r(){const e=(0,o.Kh)({show:!1}),t=t=>{e.show=t},n=n=>{(0,l.X$)(e,n,{transitionAppear:!0}),t(!0)},i=()=>t(!1);return(0,a.c)({open:n,close:i,toggle:t}),{open:n,close:i,state:e,toggle:t}}function s(e){const t=(0,i.Ef)(e),n=document.createElement("div");return document.body.appendChild(n),{instance:t.mount(n),unmount(){t.unmount(),document.body.removeChild(n)}}}},45149:function(e,t,n){n.d(t,{$g:function(){return a},E9:function(){return o},Jh:function(){return s},Rd:function(){return l},TU:function(){return c},Ts:function(){return u},VQ:function(){return i},zj:function(){return r}});const o=null,i=[Number,String],l={type:Boolean,default:!0},a=e=>({type:e,required:!0}),r=()=>({type:Array,default:()=>[]}),s=e=>({type:Number,default:e}),c=e=>({type:i,default:e}),u=e=>({type:String,default:e})},94139:function(e,t,n){n.d(t,{G:function(){return i}});var o=n(94104);function i(e){return e.install=t=>{const{name:n}=e;n&&(t.component(n,e),t.component((0,o.PT)(`-${n}`),e))},e}}}]);
//# sourceMappingURL=513.b8c1e2ad.js.map