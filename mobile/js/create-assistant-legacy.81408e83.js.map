{"version":3,"file":"js/create-assistant-legacy.81408e83.js","mappings":"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","sources":["webpack://aiassistant-/./src/layouts/MobileHeader.vue?0e5d","webpack://aiassistant-/./src/layouts/MobileHeader.vue","webpack://aiassistant-/./src/layouts/MobileHeader.vue?596e","webpack://aiassistant-/./src/views/Mobile/CreateAssistantMobile/Avatar.vue?1544","webpack://aiassistant-/./src/views/Mobile/CreateAssistantMobile/Avatar.vue","webpack://aiassistant-/./src/views/Mobile/CreateAssistantMobile/Avatar.vue?0460","webpack://aiassistant-/./src/views/Mobile/CreateAssistantMobile/index.vue?7d0b","webpack://aiassistant-/./src/views/Mobile/CreateAssistantMobile/index.vue","webpack://aiassistant-/./src/views/Mobile/CreateAssistantMobile/index.vue?5289","webpack://aiassistant-/./src/views/Mobile/SkillMap.vue?a620","webpack://aiassistant-/./src/views/Mobile/SkillMap.vue","webpack://aiassistant-/./src/views/Mobile/SkillMap.vue?72bd"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, renderSlot as _renderSlot, resolveComponent as _resolveComponent, normalizeClass as _normalizeClass, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\nimport _imports_0 from '@/assets/icons/left.svg'\n\n\nconst _hoisted_1 = { class: \"header-title\" }\nconst _hoisted_2 = { class: \"header-right\" }\n\nimport { useRouter, useRoute } from 'vue-router';\nimport qs from 'query-string';\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'MobileHeader',\n  props: {\n    bottomBorder: { type: Boolean },\n    showIOSHeader: { type: Boolean }\n  },\n  setup(__props: any) {\n\n\n\nconst router = useRouter();\nconst route = useRoute();\nconst toBack = () => {\n    const redirect = route.query?.redirect as string;\n    if (redirect) {\n        const to = decodeURIComponent(redirect);\n        const path = to.split('?')?.[0];\n        const params = qs.parse(to.split('?')?.[1]);\n        params.viewPrompt && delete params.viewPrompt;\n        params.sendPrompt && delete params.sendPrompt;\n        if (path) {\n            router.push({\n                path,\n                query: {\n                    ...params,\n                    tab: 'chat',\n                },\n            });\n        }\n    } else {\n        router.go(-1);\n    }\n};\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_a_layout_header = _resolveComponent(\"a-layout-header\")!\n\n  return (_openBlock(), _createBlock(_component_a_layout_header, {\n    class: _normalizeClass([\"header-mobile\", { 'header-bottom-boder': _ctx.bottomBorder }])\n  }, {\n    default: _withCtx(() => [\n      _createElementVNode(\"div\", {\n        class: \"header-back\",\n        onClick: toBack\n      }, _cache[0] || (_cache[0] = [\n        _createElementVNode(\"img\", {\n          src: _imports_0,\n          alt: \"返回\"\n        }, null, -1)\n      ])),\n      _createElementVNode(\"div\", _hoisted_1, [\n        _renderSlot(_ctx.$slots, \"title\")\n      ]),\n      _createElementVNode(\"span\", _hoisted_2, [\n        _renderSlot(_ctx.$slots, \"right\")\n      ])\n    ]),\n    _: 3\n  }, 8, [\"class\"]))\n}\n}\n\n})","<template>\n    <a-layout-header\n        class=\"header-mobile\"\n        :class=\"{ 'header-bottom-boder': bottomBorder }\"\n    >\n        <div class=\"header-back\" @click=\"toBack\">\n            <img src=\"@/assets/icons/left.svg\" alt=\"返回\" />\n        </div>\n\n        <div class=\"header-title\">\n            <slot name=\"title\"></slot>\n        </div>\n        <span class=\"header-right\">\n            <slot name=\"right\"></slot>\n        </span>\n    </a-layout-header>\n</template>\n<script setup lang=\"ts\">\nimport { useRouter, useRoute } from 'vue-router';\nimport qs from 'query-string';\ndefineProps<{\n    bottomBorder?: boolean;\n    showIOSHeader?: boolean;\n}>();\n\nconst router = useRouter();\nconst route = useRoute();\nconst toBack = () => {\n    const redirect = route.query?.redirect as string;\n    if (redirect) {\n        const to = decodeURIComponent(redirect);\n        const path = to.split('?')?.[0];\n        const params = qs.parse(to.split('?')?.[1]);\n        params.viewPrompt && delete params.viewPrompt;\n        params.sendPrompt && delete params.sendPrompt;\n        if (path) {\n            router.push({\n                path,\n                query: {\n                    ...params,\n                    tab: 'chat',\n                },\n            });\n        }\n    } else {\n        router.go(-1);\n    }\n};\n</script>\n<style lang=\"less\" scoped>\n.header-mobile {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    height: 44px;\n    line-height: 44px;\n    padding: 0 11px;\n    background-color: #fff;\n    &.header-bottom-boder {\n        border-bottom: 1px solid #e0e0e0;\n    }\n    .header-back {\n        display: flex;\n        width: 40px;\n        height: 40px;\n        align-items: center;\n        color: #4e5969;\n    }\n    .header-title {\n        display: inline-flex;\n        align-items: center;\n        font-size: 18px;\n        font-weight: 600;\n        line-height: 22px;\n        margin-top: 1px;\n    }\n    .header-right {\n        display: inline-flex;\n        justify-content: center;\n        align-items: center;\n        font-size: 20px;\n        min-width: 40px;\n        color: #4e5969;\n    }\n    &.header-mobile-ios {\n        height: 48px;\n        &.header-show {\n            height: 100px;\n            line-height: 100px;\n            background-color: transparent;\n            padding: 52px 11px 0;\n        }\n    }\n}\n</style>\n","import script from \"./MobileHeader.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./MobileHeader.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./MobileHeader.vue?vue&type=style&index=0&id=710889e5&lang=less&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-710889e5\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, normalizeStyle as _normalizeStyle, unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, normalizeClass as _normalizeClass } from \"vue\"\nimport _imports_0 from '@/assets/avatars/select.svg'\n\n\nconst _hoisted_1 = { class: \"avatar-container\" }\nconst _hoisted_2 = [\"src\"]\nconst _hoisted_3 = [\"onClick\"]\nconst _hoisted_4 = [\"src\"]\nconst _hoisted_5 = { class: \"color-list\" }\nconst _hoisted_6 = [\"onClick\"]\nconst _hoisted_7 = {\n  key: 0,\n  src: _imports_0\n}\n\nimport '@hwork/icon/close';\nimport { ref, onMounted, watch } from 'vue';\nimport {\n    bgColorList,\n    avatarImgs,\n    queryAvatarImgs,\n} from '@/components/Market/pc/CreateAssistant/constants';\nimport { isiOS } from '@/utils/util';\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'Avatar',\n  props: {\n    avatar: {},\n    avatarBg: {}\n  },\n  setup(__props: any, { expose: __expose }) {\n\nconst props = __props;\nconst selectedAvatar = ref('');\nconst selectedBg = ref(bgColorList[0]);\nconst currentAvatar = ref(require(`@/assets/avatars/avatar1.svg`));\nconst currentBg = ref(bgColorList[0]);\nconst selectVisible = ref(false);\nconst getSelectStyle = (url: string) => {\n    if (url === selectedAvatar.value) {\n        return { background: selectedBg.value };\n    } else {\n        return {};\n    }\n};\nconst getAvatarData = () => {\n    return {\n        icon: currentAvatar.value,\n        iconBackground: currentBg.value,\n    };\n};\nconst onClose = () => {\n    selectVisible.value = false;\n};\nconst confirm = () => {\n    currentAvatar.value = selectedAvatar.value;\n    currentBg.value = selectedBg.value;\n    selectVisible.value = false;\n};\nconst initData = () => {\n    currentBg.value = props.avatarBg || bgColorList[0];\n    selectedBg.value = props.avatarBg || bgColorList[0];\n    selectedAvatar.value = props.avatar || avatarImgs.value[0]?.url;\n    currentAvatar.value = props.avatar || avatarImgs.value[0]?.url;\n};\nwatch(\n    () => avatarImgs.value,\n    (newVal) => {\n        if (newVal.length) {\n            initData();\n        }\n    },\n);\nwatch(\n    () => props.avatar,\n    () => {\n        initData();\n    },\n);\nonMounted(() => {\n    queryAvatarImgs();\n});\n__expose({ getAvatarData });\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_a_button = _resolveComponent(\"a-button\")!\n  const _component_a_drawer = _resolveComponent(\"a-drawer\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", {\n      class: \"avatar-img\",\n      style: _normalizeStyle({ background: currentBg.value }),\n      onClick: _cache[0] || (_cache[0] = ($event: any) => (selectVisible.value = true))\n    }, [\n      _createElementVNode(\"img\", {\n        src: currentAvatar.value,\n        width: 32,\n        height: 32\n      }, null, 8, _hoisted_2),\n      _cache[1] || (_cache[1] = _createElementVNode(\"div\", { class: \"edit-btn\" }, [\n        _createElementVNode(\"h-icon-edit\", { class: \"edit-icon\" })\n      ], -1))\n    ], 4),\n    _createVNode(_component_a_drawer, {\n      title: \"修改头像\",\n      placement: \"bottom\",\n      visible: selectVisible.value,\n      height: _unref(isiOS)() ? 414 : 372,\n      class: \"avatar-drawer\",\n      onClose: onClose\n    }, {\n      closeIcon: _withCtx(() => _cache[2] || (_cache[2] = [\n        _createElementVNode(\"h-icon-close\", { class: \"close-icon\" }, null, -1)\n      ])),\n      footer: _withCtx(() => [\n        _createElementVNode(\"div\", {\n          class: _normalizeClass([\"btn-wrap\", _unref(isiOS)() ? 'isiOS' : ''])\n        }, [\n          _createVNode(_component_a_button, {\n            type: \"primary\",\n            size: \"large\",\n            class: \"btn\",\n            onClick: confirm\n          }, {\n            default: _withCtx(() => _cache[3] || (_cache[3] = [\n              _createTextVNode(\" 确定 \")\n            ])),\n            _: 1\n          })\n        ], 2)\n      ]),\n      default: _withCtx(() => [\n        _createElementVNode(\"div\", null, [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(avatarImgs), (img) => {\n            return (_openBlock(), _createElementBlock(\"div\", {\n              key: img.url,\n              class: \"avatar-edit-item\",\n              style: _normalizeStyle(getSelectStyle(img.url)),\n              onClick: ($event: any) => (selectedAvatar.value = img.url)\n            }, [\n              _createElementVNode(\"img\", {\n                src: img.url,\n                alt: \"头像\",\n                width: 28,\n                height: 28\n              }, null, 8, _hoisted_4)\n            ], 12, _hoisted_3))\n          }), 128))\n        ]),\n        _createElementVNode(\"div\", _hoisted_5, [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(bgColorList), (color) => {\n            return (_openBlock(), _createElementBlock(\"div\", {\n              key: color,\n              class: \"color-item\",\n              style: _normalizeStyle({\n                            borderColor: selectedBg.value === color ? color : '#fff',\n                        }),\n              onClick: ($event: any) => (selectedBg.value = color)\n            }, [\n              _createElementVNode(\"div\", {\n                class: \"color-item-inner\",\n                style: _normalizeStyle({ background: color })\n              }, [\n                (selectedBg.value === color)\n                  ? (_openBlock(), _createElementBlock(\"img\", _hoisted_7))\n                  : _createCommentVNode(\"\", true)\n              ], 4)\n            ], 12, _hoisted_6))\n          }), 128))\n        ])\n      ]),\n      _: 1\n    }, 8, [\"visible\", \"height\"])\n  ]))\n}\n}\n\n})","<template>\n    <div class=\"avatar-container\">\n        <div\n            class=\"avatar-img\"\n            :style=\"{ background: currentBg }\"\n            @click=\"selectVisible = true\"\n        >\n            <img :src=\"currentAvatar\" :width=\"32\" :height=\"32\" />\n            <div class=\"edit-btn\">\n                <h-icon-edit class=\"edit-icon\" />\n            </div>\n        </div>\n        <a-drawer\n            title=\"修改头像\"\n            placement=\"bottom\"\n            :visible=\"selectVisible\"\n            :height=\"isiOS() ? 414 : 372\"\n            class=\"avatar-drawer\"\n            @close=\"onClose\"\n        >\n            <template #closeIcon>\n                <h-icon-close class=\"close-icon\" />\n            </template>\n            <div>\n                <template v-for=\"img in avatarImgs\" :key=\"img.url\">\n                    <div\n                        class=\"avatar-edit-item\"\n                        :style=\"getSelectStyle(img.url)\"\n                        @click=\"selectedAvatar = img.url\"\n                    >\n                        <img\n                            :src=\"img.url\"\n                            alt=\"头像\"\n                            :width=\"28\"\n                            :height=\"28\"\n                        />\n                    </div>\n                </template>\n            </div>\n            <div class=\"color-list\">\n                <template v-for=\"color in bgColorList\" :key=\"color\">\n                    <div\n                        class=\"color-item\"\n                        :style=\"{\n                            borderColor: selectedBg === color ? color : '#fff',\n                        }\"\n                        @click=\"selectedBg = color\"\n                    >\n                        <div\n                            class=\"color-item-inner\"\n                            :style=\"{ background: color }\"\n                        >\n                            <img\n                                v-if=\"selectedBg === color\"\n                                src=\"@/assets/avatars/select.svg\"\n                            />\n                        </div>\n                    </div>\n                </template>\n            </div>\n            <template #footer>\n                <div class=\"btn-wrap\" :class=\"isiOS() ? 'isiOS' : ''\">\n                    <a-button type=\"primary\" size=\"large\" class=\"btn\" @click=\"confirm\">\n                        确定\n                    </a-button>\n                </div>\n            </template>\n        </a-drawer>\n    </div>\n</template>\n<script setup lang=\"ts\">\nimport '@hwork/icon/close';\nimport { ref, onMounted, watch } from 'vue';\nimport {\n    bgColorList,\n    avatarImgs,\n    queryAvatarImgs,\n} from '@/components/Market/pc/CreateAssistant/constants';\nimport { isiOS } from '@/utils/util';\n\nconst props = defineProps<{ avatar: string; avatarBg: string }>();\nconst selectedAvatar = ref('');\nconst selectedBg = ref(bgColorList[0]);\nconst currentAvatar = ref(require(`@/assets/avatars/avatar1.svg`));\nconst currentBg = ref(bgColorList[0]);\nconst selectVisible = ref(false);\nconst getSelectStyle = (url: string) => {\n    if (url === selectedAvatar.value) {\n        return { background: selectedBg.value };\n    } else {\n        return {};\n    }\n};\nconst getAvatarData = () => {\n    return {\n        icon: currentAvatar.value,\n        iconBackground: currentBg.value,\n    };\n};\nconst onClose = () => {\n    selectVisible.value = false;\n};\nconst confirm = () => {\n    currentAvatar.value = selectedAvatar.value;\n    currentBg.value = selectedBg.value;\n    selectVisible.value = false;\n};\nconst initData = () => {\n    currentBg.value = props.avatarBg || bgColorList[0];\n    selectedBg.value = props.avatarBg || bgColorList[0];\n    selectedAvatar.value = props.avatar || avatarImgs.value[0]?.url;\n    currentAvatar.value = props.avatar || avatarImgs.value[0]?.url;\n};\nwatch(\n    () => avatarImgs.value,\n    (newVal) => {\n        if (newVal.length) {\n            initData();\n        }\n    },\n);\nwatch(\n    () => props.avatar,\n    () => {\n        initData();\n    },\n);\nonMounted(() => {\n    queryAvatarImgs();\n});\ndefineExpose({ getAvatarData });\n</script>\n<style lang=\"less\" scoped>\n.avatar-container {\n    position: relative;\n    width: 60px;\n    height: 60px;\n    border-radius: 12px;\n}\n.avatar-img {\n    position: relative;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    height: 100%;\n    border-radius: 12px;\n    overflow: hidden;\n    cursor: pointer;\n    .edit-btn {\n        position: absolute;\n        width: 18px;\n        height: 18px;\n        bottom: 0;\n        right: 0;\n        font-size: 12px;\n        padding: 0 3px;\n        border-radius: 8px 0 0;\n        color: #fff;\n        background: rgba(29, 33, 41, 0.5);\n    }\n}\n.close-icon {\n    font-size: 20px;\n    color: #4e5969;\n}\n.avatar-edit-item {\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n    width: 52px;\n    height: 52px;\n    border-radius: 12px;\n    background: #c9cdd4;\n    margin-bottom: 12px;\n    margin-left: calc((100% - 260px) / 4);\n    cursor: pointer;\n    &:nth-child(5n + 1) {\n        margin-left: 0;\n    }\n}\n.color-list {\n    display: flex;\n    font-size: 0;\n    margin-top: 22px;\n    .color-item {\n        box-sizing: border-box;\n        position: relative;\n        flex-shrink: 0;\n        width: 32px;\n        height: 32px;\n        border-radius: 50%;\n        border: 2px solid rgba(0, 0, 0, 0.1);\n        cursor: pointer;\n        margin-right: calc((100% - 224px) / 6);\n        &:last-child {\n            margin-right: 0;\n        }\n        .color-item-inner {\n            box-sizing: border-box;\n            position: absolute;\n            top: 50%;\n            left: 50%;\n            transform: translate(-50%, -50%);\n            width: 24px;\n            height: 24px;\n            border-radius: 50%;\n            img {\n                position: absolute;\n                top: 50%;\n                left: 50%;\n                transform: translate(-50%, -50%);\n            }\n        }\n    }\n}\n</style>\n<style lang=\"less\">\n.avatar-drawer {\n    .@{ant-prefix}-drawer-content {\n        border-radius: 24px 24px 0 0;\n    }\n    .@{ant-prefix}-drawer-header {\n        padding: 8px 13px;\n    }\n    .@{ant-prefix}-drawer-title {\n        text-align: center;\n        margin-right: -20px;\n    }\n    .@{ant-prefix}-drawer-close {\n        width: 20px;\n        margin-left: 0;\n    }\n    .@{ant-prefix}-drawer-footer {\n        padding: 5px 16px;\n        .btn-wrap {\n            overflow: hidden;\n            border-radius: 8px;\n            &.isiOS {\n                margin-bottom: 42px;\n            }\n            .btn {\n                width: 100%;\n                height: 36px;\n            }\n        }\n    }\n}\n</style>\n","import script from \"./Avatar.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./Avatar.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./Avatar.vue?vue&type=style&index=0&id=95837c20&lang=less&scoped=true\"\nimport \"./Avatar.vue?vue&type=style&index=1&id=95837c20&lang=less\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-95837c20\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, withCtx as _withCtx, createVNode as _createVNode, resolveComponent as _resolveComponent, unref as _unref, createTextVNode as _createTextVNode, normalizeClass as _normalizeClass, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\nimport _imports_0 from '@/assets/icons/icon-gpt.svg'\n\n\nconst _hoisted_1 = {\n  class: \"btn-wrap\",\n  style: {\"margin-right\":\"32px\"}\n}\nconst _hoisted_2 = { class: \"btn-wrap\" }\n\nimport { ref, reactive, onMounted } from 'vue';\nimport { useRouter, useRoute } from 'vue-router';\nimport { message } from '@hwork/ant-design-vue';\nimport Avatar from './Avatar.vue';\nimport MobileHeader from '@/layouts/MobileHeader.vue';\nimport { isiOS } from '@/utils/util';\nimport {\n    createAssistant,\n    AssistantType,\n    assistantDetail,\n    editAssistant,\n} from '@/api/market';\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'index',\n  setup(__props) {\n\nconst route = useRoute();\nconst router = useRouter();\nconst title = ref('创建AI助手');\nconst confirmText = ref('创建');\nconst avatarRef = ref<InstanceType<typeof Avatar>>();\nconst avatar = ref('');\nconst avatarBg = ref('');\nconst formState = reactive<Record<string, string>>({\n    name: '',\n    description: '',\n    prompts: '',\n});\nconst rules: Record<string, string> = {\n    name: '请输入助手名称',\n    description: '请输入助手简介',\n    prompts: '请输入助手设定',\n};\nconst toBack = () => {\n    router.go(-1);\n};\nconst onConfirm = async () => {\n    const validate = Object.keys(rules).find((key: string) => {\n        if (!formState[key]) {\n            message.error(rules[key]);\n            return true;\n        }\n    });\n\n    if (!validate) {\n        try {\n            const agentCode = route.query?.agentCode as string;\n            const backPage = route.query?.back as string;\n            const redirect = route.query?.redirect as string;\n            const avatarData = avatarRef.value?.getAvatarData();\n            const handler =\n                confirmText.value === '创建' ? createAssistant : editAssistant;\n            handler({\n                ...formState,\n                ...avatarData,\n                code: agentCode,\n            } as AssistantType).then((res) => {\n                if (res.code === 10000) {\n                    message.success(`${confirmText.value}成功`);\n                    if (confirmText.value === '创建') {\n                        router.push({\n                            path: '/chat/new',\n                            query: {\n                                agent: res.data?.code,\n                            },\n                        });\n                    } else {\n                        if (backPage === 'skill') {\n                            router.push({\n                                path: `/skill/${agentCode}`,\n                                query: {\n                                    redirect,\n                                },\n                            });\n                        } else {\n                            router.push({\n                                path: `/market`,\n                                query: {\n                                    type: '个人助手',\n                                },\n                            });\n                        }\n                    }\n                }\n            });\n        } catch (error) {\n            console.log(error, '<=== error ===>');\n        }\n    }\n};\nonMounted(async () => {\n    const agentCode = route.query?.agentCode as string;\n    if (agentCode) {\n        title.value = '编辑AI助手';\n        confirmText.value = '保存';\n        const res = await assistantDetail(agentCode);\n        formState.name = res.data.name;\n        formState.description = res.data.description;\n        formState.prompts = res.data.prompts;\n        avatar.value = res.data.icon;\n        avatarBg.value = res.data.iconBackground;\n    }\n});\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_a_form_item = _resolveComponent(\"a-form-item\")!\n  const _component_a_input = _resolveComponent(\"a-input\")!\n  const _component_a_textarea = _resolveComponent(\"a-textarea\")!\n  const _component_a_form = _resolveComponent(\"a-form\")!\n  const _component_a_layout_content = _resolveComponent(\"a-layout-content\")!\n  const _component_a_button = _resolveComponent(\"a-button\")!\n  const _component_a_layout_footer = _resolveComponent(\"a-layout-footer\")!\n  const _component_a_layout = _resolveComponent(\"a-layout\")!\n\n  return (_openBlock(), _createBlock(_component_a_layout, { class: \"layout\" }, {\n    default: _withCtx(() => [\n      _createVNode(MobileHeader, { \"bottom-border\": true }, {\n        title: _withCtx(() => [\n          _createElementVNode(\"div\", null, _toDisplayString(title.value), 1)\n        ]),\n        _: 1\n      }),\n      _createVNode(_component_a_layout_content, { class: \"content\" }, {\n        default: _withCtx(() => [\n          _createVNode(_component_a_form, {\n            layout: \"vertical\",\n            model: formState\n          }, {\n            default: _withCtx(() => [\n              _createVNode(_component_a_form_item, {\n                label: \"助手头像\",\n                required: true\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(Avatar, {\n                    ref_key: \"avatarRef\",\n                    ref: avatarRef,\n                    avatar: avatar.value,\n                    avatarBg: avatarBg.value\n                  }, null, 8, [\"avatar\", \"avatarBg\"]),\n                  _cache[3] || (_cache[3] = _createElementVNode(\"div\", { class: \"tips\" }, [\n                    _createElementVNode(\"img\", { src: _imports_0 }),\n                    _createElementVNode(\"div\", null, \"共同探索安全合规的大模型服务\")\n                  ], -1))\n                ]),\n                _: 1\n              }),\n              _createVNode(_component_a_form_item, {\n                label: \"助手名称\",\n                required: true\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_a_input, {\n                    value: formState.name,\n                    \"onUpdate:value\": _cache[0] || (_cache[0] = ($event: any) => ((formState.name) = $event)),\n                    placeholder: \"请输入名称\",\n                    maxlength: 30\n                  }, null, 8, [\"value\"])\n                ]),\n                _: 1\n              }),\n              _createVNode(_component_a_form_item, {\n                label: \"助手简介\",\n                required: true\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_a_textarea, {\n                    value: formState.description,\n                    \"onUpdate:value\": _cache[1] || (_cache[1] = ($event: any) => ((formState.description) = $event)),\n                    placeholder: \"AI助手的简单介绍，仅用于展示\",\n                    \"show-count\": \"\",\n                    maxlength: 100,\n                    rows: 3\n                  }, null, 8, [\"value\"])\n                ]),\n                _: 1\n              }),\n              _createVNode(_component_a_form_item, {\n                label: \"助手设定\",\n                required: true\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_a_textarea, {\n                    value: formState.prompts,\n                    \"onUpdate:value\": _cache[2] || (_cache[2] = ($event: any) => ((formState.prompts) = $event)),\n                    placeholder: \"描述助手的设定信息（提示词），示例：你是专业的市场营销顾问，拥有丰富的行业经验和敏锐的市场洞察力。能够精准分析市场趋势，为我提供创新且有效的营销策略。\",\n                    \"show-count\": \"\",\n                    maxlength: 1000,\n                    rows: 6\n                  }, null, 8, [\"value\"])\n                ]),\n                _: 1\n              })\n            ]),\n            _: 1\n          }, 8, [\"model\"])\n        ]),\n        _: 1\n      }),\n      _createVNode(_component_a_layout_footer, {\n        class: _normalizeClass([\"footer\", { 'footer-ios': _unref(isiOS)() }])\n      }, {\n        default: _withCtx(() => [\n          _createElementVNode(\"div\", _hoisted_1, [\n            _createVNode(_component_a_button, {\n              size: \"large\",\n              class: \"btn\",\n              onClick: toBack\n            }, {\n              default: _withCtx(() => _cache[4] || (_cache[4] = [\n                _createTextVNode(\" 取消 \")\n              ])),\n              _: 1\n            })\n          ]),\n          _createElementVNode(\"div\", _hoisted_2, [\n            _createVNode(_component_a_button, {\n              size: \"large\",\n              class: \"btn\",\n              type: \"primary\",\n              onClick: onConfirm\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(_toDisplayString(confirmText.value), 1)\n              ]),\n              _: 1\n            })\n          ])\n        ]),\n        _: 1\n      }, 8, [\"class\"])\n    ]),\n    _: 1\n  }))\n}\n}\n\n})","<template>\n    <a-layout class=\"layout\">\n        <MobileHeader :bottom-border=\"true\">\n            <template #title>\n                <div>{{ title }}</div>\n            </template>\n        </MobileHeader>\n        <a-layout-content class=\"content\">\n            <a-form layout=\"vertical\" :model=\"formState\">\n                <a-form-item label=\"助手头像\" :required=\"true\">\n                    <Avatar\n                        ref=\"avatarRef\"\n                        :avatar=\"avatar\"\n                        :avatarBg=\"avatarBg\"\n                    />\n                    <div class=\"tips\">\n                        <img src=\"@/assets/icons/icon-gpt.svg\" />\n                        <div>共同探索安全合规的大模型服务</div>\n                    </div>\n                </a-form-item>\n                <a-form-item label=\"助手名称\" :required=\"true\">\n                    <a-input\n                        v-model:value=\"formState.name\"\n                        placeholder=\"请输入名称\"\n                        :maxlength=\"30\"\n                    />\n                </a-form-item>\n                <a-form-item label=\"助手简介\" :required=\"true\">\n                    <a-textarea\n                        v-model:value=\"formState.description\"\n                        placeholder=\"AI助手的简单介绍，仅用于展示\"\n                        show-count\n                        :maxlength=\"100\"\n                        :rows=\"3\"\n                    />\n                </a-form-item>\n                <a-form-item label=\"助手设定\" :required=\"true\">\n                    <a-textarea\n                        v-model:value=\"formState.prompts\"\n                        placeholder=\"描述助手的设定信息（提示词），示例：你是专业的市场营销顾问，拥有丰富的行业经验和敏锐的市场洞察力。能够精准分析市场趋势，为我提供创新且有效的营销策略。\"\n                        show-count\n                        :maxlength=\"1000\"\n                        :rows=\"6\"\n                    />\n                </a-form-item>\n            </a-form>\n        </a-layout-content>\n        <a-layout-footer class=\"footer\" :class=\"{ 'footer-ios': isiOS() }\">\n            <div class=\"btn-wrap\" style=\"margin-right: 32px\">\n                <a-button size=\"large\" class=\"btn\" @click=\"toBack\">\n                    取消\n                </a-button>\n            </div>\n            <div class=\"btn-wrap\">\n                <a-button\n                    size=\"large\"\n                    class=\"btn\"\n                    type=\"primary\"\n                    @click=\"onConfirm\"\n                >\n                    {{ confirmText }}\n                </a-button>\n            </div>\n        </a-layout-footer>\n    </a-layout>\n</template>\n<script setup lang=\"ts\">\nimport { ref, reactive, onMounted } from 'vue';\nimport { useRouter, useRoute } from 'vue-router';\nimport { message } from '@hwork/ant-design-vue';\nimport Avatar from './Avatar.vue';\nimport MobileHeader from '@/layouts/MobileHeader.vue';\nimport { isiOS } from '@/utils/util';\nimport {\n    createAssistant,\n    AssistantType,\n    assistantDetail,\n    editAssistant,\n} from '@/api/market';\nconst route = useRoute();\nconst router = useRouter();\nconst title = ref('创建AI助手');\nconst confirmText = ref('创建');\nconst avatarRef = ref<InstanceType<typeof Avatar>>();\nconst avatar = ref('');\nconst avatarBg = ref('');\nconst formState = reactive<Record<string, string>>({\n    name: '',\n    description: '',\n    prompts: '',\n});\nconst rules: Record<string, string> = {\n    name: '请输入助手名称',\n    description: '请输入助手简介',\n    prompts: '请输入助手设定',\n};\nconst toBack = () => {\n    router.go(-1);\n};\nconst onConfirm = async () => {\n    const validate = Object.keys(rules).find((key: string) => {\n        if (!formState[key]) {\n            message.error(rules[key]);\n            return true;\n        }\n    });\n\n    if (!validate) {\n        try {\n            const agentCode = route.query?.agentCode as string;\n            const backPage = route.query?.back as string;\n            const redirect = route.query?.redirect as string;\n            const avatarData = avatarRef.value?.getAvatarData();\n            const handler =\n                confirmText.value === '创建' ? createAssistant : editAssistant;\n            handler({\n                ...formState,\n                ...avatarData,\n                code: agentCode,\n            } as AssistantType).then((res) => {\n                if (res.code === 10000) {\n                    message.success(`${confirmText.value}成功`);\n                    if (confirmText.value === '创建') {\n                        router.push({\n                            path: '/chat/new',\n                            query: {\n                                agent: res.data?.code,\n                            },\n                        });\n                    } else {\n                        if (backPage === 'skill') {\n                            router.push({\n                                path: `/skill/${agentCode}`,\n                                query: {\n                                    redirect,\n                                },\n                            });\n                        } else {\n                            router.push({\n                                path: `/market`,\n                                query: {\n                                    type: '个人助手',\n                                },\n                            });\n                        }\n                    }\n                }\n            });\n        } catch (error) {\n            console.log(error, '<=== error ===>');\n        }\n    }\n};\nonMounted(async () => {\n    const agentCode = route.query?.agentCode as string;\n    if (agentCode) {\n        title.value = '编辑AI助手';\n        confirmText.value = '保存';\n        const res = await assistantDetail(agentCode);\n        formState.name = res.data.name;\n        formState.description = res.data.description;\n        formState.prompts = res.data.prompts;\n        avatar.value = res.data.icon;\n        avatarBg.value = res.data.iconBackground;\n    }\n});\n</script>\n\n<style lang=\"less\" scoped>\n.layout {\n    background: #fff;\n    .content {\n        background: #f2f3f6;\n        max-height: calc(100vh - 102px);\n        overflow-y: auto;\n    }\n    .footer {\n        display: flex;\n        height: 54px;\n        padding: 0;\n        background: #fff;\n        padding: 8px 16px 0;\n        &.footer-ios {\n            height: 96px;\n        }\n        .btn-wrap {\n            flex: 1;\n            .btn {\n                width: 100%;\n                height: 36px;\n                border-radius: 8px;\n            }\n        }\n    }\n    :deep(.@{ant-prefix}-form-item) {\n        padding: 12px 14px 12px 16px;\n        background: #fff;\n        margin-bottom: 10px;\n    }\n    .tips {\n        display: flex;\n        justify-content: flex-start;\n        align-items: center;\n        color: #86909c;\n        font-size: 12px;\n        margin-top: 8px;\n        img {\n            margin-right: 4px;\n        }\n    }\n    :deep(.@{ant-prefix}-input) {\n        padding: 4.5px 0;\n        border: none;\n    }\n}\n</style>\n","import script from \"./index.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./index.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=8dcf8886&lang=less&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-8dcf8886\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, withCtx as _withCtx, createVNode as _createVNode, resolveComponent as _resolveComponent, createBlock as _createBlock, normalizeClass as _normalizeClass } from \"vue\"\n\nconst _hoisted_1 = [\"src\"]\n\nimport { onMounted, ref } from 'vue';\nimport MobileHeader from '@/layouts/MobileHeader.vue';\nimport SkillMap from '@/components/SkillMap/index.vue';\nimport favoriteIcon from '@/assets/icons/favorite.svg';\nimport favoriteIconFill from '@/assets/icons/favorite-fill.svg';\nimport { useRoute } from 'vue-router';\nimport { AgentType, getAgent } from '@/api/market';\nimport { isiOS } from '@/utils/util';\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'SkillMap',\n  setup(__props) {\n\nconst route = useRoute();\nconst agent = ref<AgentType>();\nconst isLiked = ref(false);\nconst skillRef = ref<InstanceType<typeof SkillMap>>();\n\nasync function queryAgent(code: string) {\n    const res = await getAgent(code);\n    agent.value = res.data;\n    isLiked.value = !!res.data.userFavorites;\n}\nconst toggleLike = () => {\n    isLiked.value = !isLiked.value;\n    skillRef.value?.favoriteHandle(isLiked.value);\n};\nonMounted(() => {\n    const code = route.params?.code as string;\n    queryAgent(code);\n});\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_a_layout_content = _resolveComponent(\"a-layout-content\")!\n  const _component_a_layout = _resolveComponent(\"a-layout\")!\n\n  return (_openBlock(), _createBlock(_component_a_layout, {\n    class: _normalizeClass([\"layout\", _unref(isiOS)() ? 'isiOS' : ''])\n  }, {\n    default: _withCtx(() => [\n      _createVNode(MobileHeader, { \"show-i-o-s-header\": true }, {\n        title: _withCtx(() => _cache[0] || (_cache[0] = [\n          _createElementVNode(\"div\", null, \"助手详情\", -1)\n        ])),\n        right: _withCtx(() => [\n          (\n                        agent.value?.agentCode !== 'super' &&\n                        agent.value?.agentType !== 'personal'\n                    )\n            ? (_openBlock(), _createElementBlock(\"div\", {\n                key: 0,\n                class: \"skill-card-operate\",\n                onClick: toggleLike\n              }, [\n                _createElementVNode(\"img\", {\n                  width: \"20\",\n                  height: \"20\",\n                  src: isLiked.value ? _unref(favoriteIconFill) : _unref(favoriteIcon)\n                }, null, 8, _hoisted_1)\n              ]))\n            : _createCommentVNode(\"\", true)\n        ]),\n        _: 1\n      }),\n      (agent.value)\n        ? (_openBlock(), _createBlock(_component_a_layout_content, {\n            key: 0,\n            class: \"content\"\n          }, {\n            default: _withCtx(() => [\n              _createVNode(SkillMap, {\n                ref_key: \"skillRef\",\n                ref: skillRef,\n                agent: (agent.value as AgentType)\n              }, null, 8, [\"agent\"])\n            ]),\n            _: 1\n          }))\n        : _createCommentVNode(\"\", true)\n    ]),\n    _: 1\n  }, 8, [\"class\"]))\n}\n}\n\n})","<template>\n    <a-layout class=\"layout\" :class=\"isiOS() ? 'isiOS' : ''\">\n        <MobileHeader :show-i-o-s-header=\"true\">\n            <template #title>\n                <div>助手详情</div>\n            </template>\n            <template #right>\n                <div\n                    v-if=\"\n                        agent?.agentCode !== 'super' &&\n                        agent?.agentType !== 'personal'\n                    \"\n                    class=\"skill-card-operate\"\n                    @click=\"toggleLike\"\n                >\n                    <img\n                        width=\"20\"\n                        height=\"20\"\n                        :src=\"isLiked ? favoriteIconFill : favoriteIcon\"\n                    />\n                </div>\n            </template>\n        </MobileHeader>\n        <a-layout-content class=\"content\" v-if=\"agent\">\n            <SkillMap ref=\"skillRef\" :agent=\"(agent as AgentType)\" />\n        </a-layout-content>\n    </a-layout>\n</template>\n<script setup lang=\"ts\">\nimport { onMounted, ref } from 'vue';\nimport MobileHeader from '@/layouts/MobileHeader.vue';\nimport SkillMap from '@/components/SkillMap/index.vue';\nimport favoriteIcon from '@/assets/icons/favorite.svg';\nimport favoriteIconFill from '@/assets/icons/favorite-fill.svg';\nimport { useRoute } from 'vue-router';\nimport { AgentType, getAgent } from '@/api/market';\nimport { isiOS } from '@/utils/util';\nconst route = useRoute();\nconst agent = ref<AgentType>();\nconst isLiked = ref(false);\nconst skillRef = ref<InstanceType<typeof SkillMap>>();\n\nasync function queryAgent(code: string) {\n    const res = await getAgent(code);\n    agent.value = res.data;\n    isLiked.value = !!res.data.userFavorites;\n}\nconst toggleLike = () => {\n    isLiked.value = !isLiked.value;\n    skillRef.value?.favoriteHandle(isLiked.value);\n};\nonMounted(() => {\n    const code = route.params?.code as string;\n    queryAgent(code);\n});\n</script>\n<style lang=\"less\" scoped>\n.layout {\n    background: #fff;\n    &.isiOS {\n        background: #eff4ff;\n    }\n}\n.content {\n}\n.skill-card-operate {\n    display: flex;\n}\n</style>\n","import script from \"./SkillMap.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./SkillMap.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./SkillMap.vue?vue&type=style&index=0&id=4f03c2eb&lang=less&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-4f03c2eb\"]])\n\nexport default __exports__"],"names":["_hoisted_1","class","_hoisted_2","_defineComponent","__name","props","bottomBorder","type","Boolean","showIOSHeader","setup","__props","router","useRouter","route","useRoute","toBack","_route$query","redirect","query","_to$split","_to$split2","to","decodeURIComponent","path","split","params","qs","parse","viewPrompt","sendPrompt","push","_objectSpread","tab","go","_ctx","_cache","_component_a_layout_header","_resolveComponent","_openBlock","_createBlock","_normalizeClass","default","_withCtx","_createElementVNode","onClick","src","_imports_0","alt","_renderSlot","$slots","_","__exports__","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","key","avatar","avatarBg","_ref","__expose","expose","selectedAvatar","ref","selectedBg","bgColorList","currentAvatar","require","currentBg","selectVisible","getSelectStyle","url","value","background","getAvatarData","icon","iconBackground","onClose","confirm","initData","_avatarImgs$value$","_avatarImgs$value$2","avatarImgs","watch","newVal","length","onMounted","queryAvatarImgs","_component_a_button","_component_a_drawer","_createElementBlock","style","_normalizeStyle","$event","width","height","_createVNode","title","placement","visible","_unref","isiOS","closeIcon","footer","size","_createTextVNode","_Fragment","_renderList","img","color","borderColor","_createCommentVNode","confirmText","avatarRef","formState","reactive","name","description","prompts","rules","onConfirm","_asyncToGenerator","_regeneratorRuntime","mark","_callee","validate","_route$query2","_route$query3","_avatarRef$value","agentCode","backPage","avatarData","handler","wrap","_context","prev","next","Object","keys","find","message","error","back","createAssistant","editAssistant","code","then","res","_res$data","success","concat","agent","data","console","log","stop","apply","arguments","_callee2","_route$query4","_context2","assistantDetail","sent","_component_a_form_item","_component_a_input","_component_a_textarea","_component_a_form","_component_a_layout_content","_component_a_layout_footer","_component_a_layout","MobileHeader","_toDisplayString","layout","model","label","required","Avatar","ref_key","placeholder","maxlength","rows","isLiked","skillRef","queryAgent","_x","_queryAgent","getAgent","userFavorites","toggleLike","_skillRef$value","favoriteHandle","_route$params","right","_agent$value","_agent$value2","agentType","favoriteIconFill","favoriteIcon","SkillMap"],"sourceRoot":""}