{"version":3,"file":"js/market-legacy.665db1f0.js","mappings":"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","sources":["webpack://aiassistant-/./src/components/Market/pc/Header/index.vue","webpack://aiassistant-/./src/components/Market/pc/Header/index.vue?b47b","webpack://aiassistant-/./src/components/Market/pc/CreateAssistant/Drawer.vue?c43f","webpack://aiassistant-/./src/components/Market/pc/CreateAssistant/Drawer.vue","webpack://aiassistant-/./src/components/Market/pc/CreateAssistant/Drawer.vue?4a88","webpack://aiassistant-/./src/components/Market/pc/CreateAssistant/index.vue?1bc5","webpack://aiassistant-/./src/components/Market/pc/CreateAssistant/index.vue","webpack://aiassistant-/./src/components/Market/pc/CreateAssistant/index.vue?d956","webpack://aiassistant-/./src/components/Segmented/SegmentedItem.tsx","webpack://aiassistant-/./src/components/Segmented/index.tsx","webpack://aiassistant-/./src/components/AssistantCard/icons/hot.vue","webpack://aiassistant-/./src/components/AssistantCard/icons/hot.vue?d8f1","webpack://aiassistant-/./src/components/Prompts/index.vue?f6d8","webpack://aiassistant-/./src/components/Prompts/index.vue","webpack://aiassistant-/./src/components/Prompts/index.vue?95f2","webpack://aiassistant-/./src/components/AssistantCard/index.vue?751f","webpack://aiassistant-/./src/components/AssistantCard/index.vue","webpack://aiassistant-/./src/components/AssistantCard/index.vue?39d1","webpack://aiassistant-/./src/components/Market/Sort/icons/sort.vue?2b84","webpack://aiassistant-/./src/components/Market/Sort/icons/sort.vue","webpack://aiassistant-/./src/components/Market/Sort/icons/sort.vue?0f54","webpack://aiassistant-/./src/components/Market/Sort/index.vue?6d20","webpack://aiassistant-/./src/components/Market/Sort/index.vue","webpack://aiassistant-/./src/components/Market/Sort/index.vue?17d2","webpack://aiassistant-/./src/components/Market/constants.ts","webpack://aiassistant-/./src/components/Market/pc/index.vue?d0bc","webpack://aiassistant-/./src/components/Market/pc/index.vue","webpack://aiassistant-/./src/components/Market/pc/index.vue?d3ff","webpack://aiassistant-/./src/components/Market/index.tsx","webpack://aiassistant-/./src/views/Market.vue?e2b0","webpack://aiassistant-/./src/views/Market.vue"],"sourcesContent":["<template>\n    <div class=\"market-header\">\n        <div class=\"market-header-title\">智能体</div>\n        <div class=\"market-header-note\">探索智能体的无限可能</div>\n    </div>\n</template>\n\n<style scoped lang=\"less\">\n.market-header {\n    height: 22px;\n    display: flex;\n    align-items: center;\n}\n.market-header-title {\n    color: rgb(29, 33, 41);\n    font-size: 16px;\n    font-weight: 600;\n}\n\n.market-header-note {\n    color: rgb(134, 144, 156);\n    font-size: 12px;\n    margin-left: 12px;\n}\n</style>\n","import { render } from \"./index.vue?vue&type=template&id=5c05dcd1&scoped=true\"\nconst script = {}\n\nimport \"./index.vue?vue&type=style&index=0&id=5c05dcd1&scoped=true&lang=less\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5c05dcd1\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createVNode as _createVNode, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createTextVNode as _createTextVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\nimport _imports_0 from '@/assets/icons/icon-gpt.svg'\n\n\nconst _hoisted_1 = { class: \"form-wrap\" }\nconst _hoisted_2 = { class: \"btn-wrap\" }\n\nimport { ref, reactive } from 'vue';\nimport { useRouter } from 'vue-router';\nimport { message } from '@hwork/ant-design-vue';\nimport type { FormInstance } from '@hwork/ant-design-vue';\nimport { getContainer } from '@/utils/util';\nimport Avatar from './Avatar.vue';\nimport {\n    createAssistant,\n    AssistantType,\n    assistantDetail,\n    editAssistant,\n} from '@/api/market';\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'Drawer',\n  emits: [\"refresh\"],\n  setup(__props, { expose: __expose, emit: __emit }) {\n\nconst router = useRouter();\nconst visible = ref(false);\nconst title = ref('创建AI助手');\nconst confirmText = ref('创建');\nconst avatarRef = ref<InstanceType<typeof Avatar>>();\nconst formRef = ref<FormInstance>();\nconst formState = reactive<Record<string, string>>({\n    name: '',\n    description: '',\n    prompts: '',\n});\nconst agentCode = ref<string | undefined>(undefined);\nconst avatar = ref('');\nconst avatarBg = ref('');\nconst emit = __emit;\nconst rules = {\n    name: [{ required: true, message: '请输入助手名称' }],\n    description: [{ required: true, message: '请输入助手简介' }],\n    prompts: [{ required: true, message: '请输入助手设定' }],\n};\nconst onClose = () => {\n    visible.value = false;\n    formRef.value?.resetFields();\n    Object.keys(formState).map((key: string) => {\n        formState[key] = '';\n    });\n    title.value = '创建AI助手';\n    confirmText.value = '创建';\n    avatar.value = '';\n    avatarBg.value = '';\n};\nconst onConfirm = async () => {\n    try {\n        const values = await formRef.value?.validateFields();\n        const avatarData = avatarRef.value?.getAvatarData();\n        const handler =\n            confirmText.value === '创建' ? createAssistant : editAssistant;\n        const code = confirmText.value === '创建' ? undefined : agentCode.value;\n        handler({\n            ...values,\n            ...avatarData,\n            code\n        } as AssistantType).then((res) => {\n            if (res.code === 10000) {\n                message.success(`${confirmText.value}成功`);\n                if (confirmText.value === '创建') {\n                    router.push({\n                        path: '/chat/new',\n                        query: {\n                            agent: res.data?.code,\n                        },\n                    });\n                } else {\n                    emit('refresh');\n                }\n                onClose();\n            }\n        });\n    } catch (error) {\n        console.log(error, '<=== error ===>');\n    }\n};\nconst show = async (code?: string) => {\n    visible.value = true;\n    if (code) {\n        title.value = '编辑AI助手';\n        confirmText.value = '保存';\n        const res = await assistantDetail(code);\n        formState.name = res.data.name;\n        formState.description = res.data.description;\n        formState.prompts = res.data.prompts;\n        avatar.value = res.data.icon;\n        avatarBg.value = res.data.iconBackground;\n        agentCode.value = code;\n    }\n};\n__expose({ show });\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_a_input = _resolveComponent(\"a-input\")!\n  const _component_a_form_item = _resolveComponent(\"a-form-item\")!\n  const _component_a_textarea = _resolveComponent(\"a-textarea\")!\n  const _component_a_form = _resolveComponent(\"a-form\")!\n  const _component_a_button = _resolveComponent(\"a-button\")!\n  const _component_a_drawer = _resolveComponent(\"a-drawer\")!\n\n  return (_openBlock(), _createBlock(_component_a_drawer, {\n    title: title.value,\n    visible: visible.value,\n    width: 480,\n    getContainer: _unref(getContainer),\n    onClose: onClose\n  }, {\n    footer: _withCtx(() => [\n      _createElementVNode(\"div\", _hoisted_2, [\n        _createVNode(_component_a_button, { onClick: onClose }, {\n          default: _withCtx(() => _cache[4] || (_cache[4] = [\n            _createTextVNode(\"取消\")\n          ])),\n          _: 1\n        }),\n        _createVNode(_component_a_button, {\n          class: \"btn\",\n          type: \"primary\",\n          onClick: onConfirm\n        }, {\n          default: _withCtx(() => [\n            _createTextVNode(_toDisplayString(confirmText.value), 1)\n          ]),\n          _: 1\n        })\n      ])\n    ]),\n    default: _withCtx(() => [\n      _createElementVNode(\"div\", _hoisted_1, [\n        _createVNode(Avatar, {\n          ref_key: \"avatarRef\",\n          ref: avatarRef,\n          avatar: avatar.value,\n          avatarBg: avatarBg.value\n        }, null, 8, [\"avatar\", \"avatarBg\"]),\n        _cache[3] || (_cache[3] = _createElementVNode(\"div\", { class: \"tips\" }, [\n          _createElementVNode(\"img\", { src: _imports_0 }),\n          _createElementVNode(\"div\", null, \"共同探索安全合规的大模型服务\")\n        ], -1))\n      ]),\n      _createVNode(_component_a_form, {\n        ref_key: \"formRef\",\n        ref: formRef,\n        layout: \"vertical\",\n        model: formState,\n        rules: rules\n      }, {\n        default: _withCtx(() => [\n          _createVNode(_component_a_form_item, {\n            label: \"助手名称\",\n            name: \"name\"\n          }, {\n            default: _withCtx(() => [\n              _createVNode(_component_a_input, {\n                value: formState.name,\n                \"onUpdate:value\": _cache[0] || (_cache[0] = ($event: any) => ((formState.name) = $event)),\n                placeholder: \"请输入名称\",\n                \"show-count\": \"\",\n                maxlength: 30\n              }, null, 8, [\"value\"])\n            ]),\n            _: 1\n          }),\n          _createVNode(_component_a_form_item, {\n            label: \"助手简介\",\n            name: \"description\"\n          }, {\n            default: _withCtx(() => [\n              _createVNode(_component_a_textarea, {\n                value: formState.description,\n                \"onUpdate:value\": _cache[1] || (_cache[1] = ($event: any) => ((formState.description) = $event)),\n                placeholder: \"AI助手的简单介绍，仅用于展示\",\n                \"show-count\": \"\",\n                maxlength: 100,\n                rows: 4\n              }, null, 8, [\"value\"])\n            ]),\n            _: 1\n          }),\n          _createVNode(_component_a_form_item, {\n            label: \"助手设定\",\n            name: \"prompts\"\n          }, {\n            default: _withCtx(() => [\n              _createVNode(_component_a_textarea, {\n                value: formState.prompts,\n                \"onUpdate:value\": _cache[2] || (_cache[2] = ($event: any) => ((formState.prompts) = $event)),\n                placeholder: \"描述助手的设定信息（提示词），示例：你是专业的市场营销顾问，拥有丰富的行业经验和敏锐的市场洞察力。能够精准分析市场趋势，为我提供创新且有效的营销策略\",\n                \"show-count\": \"\",\n                maxlength: 1000,\n                rows: 7\n              }, null, 8, [\"value\"])\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      }, 8, [\"model\"])\n    ]),\n    _: 1\n  }, 8, [\"title\", \"visible\", \"getContainer\"]))\n}\n}\n\n})","<template>\n    <a-drawer\n        :title=\"title\"\n        :visible=\"visible\"\n        :width=\"480\"\n        :getContainer=\"getContainer\"\n        @close=\"onClose\"\n    >\n        <div class=\"form-wrap\">\n            <Avatar ref=\"avatarRef\" :avatar=\"avatar\" :avatarBg=\"avatarBg\" />\n            <div class=\"tips\">\n                <img src=\"@/assets/icons/icon-gpt.svg\" />\n                <div>共同探索安全合规的大模型服务</div>\n            </div>\n        </div>\n        <a-form\n            ref=\"formRef\"\n            layout=\"vertical\"\n            :model=\"formState\"\n            :rules=\"rules\"\n        >\n            <a-form-item label=\"助手名称\" name=\"name\">\n                <a-input\n                    v-model:value=\"formState.name\"\n                    placeholder=\"请输入名称\"\n                    show-count\n                    :maxlength=\"30\"\n                />\n            </a-form-item>\n            <a-form-item label=\"助手简介\" name=\"description\">\n                <a-textarea\n                    v-model:value=\"formState.description\"\n                    placeholder=\"AI助手的简单介绍，仅用于展示\"\n                    show-count\n                    :maxlength=\"100\"\n                    :rows=\"4\"\n                />\n            </a-form-item>\n            <a-form-item label=\"助手设定\" name=\"prompts\">\n                <a-textarea\n                    v-model:value=\"formState.prompts\"\n                    placeholder=\"描述助手的设定信息（提示词），示例：你是专业的市场营销顾问，拥有丰富的行业经验和敏锐的市场洞察力。能够精准分析市场趋势，为我提供创新且有效的营销策略\"\n                    show-count\n                    :maxlength=\"1000\"\n                    :rows=\"7\"\n                />\n            </a-form-item>\n        </a-form>\n        <template #footer>\n            <div class=\"btn-wrap\">\n                <a-button @click=\"onClose\">取消</a-button>\n                <a-button class=\"btn\" type=\"primary\" @click=\"onConfirm\">\n                    {{ confirmText }}\n                </a-button>\n            </div>\n        </template>\n    </a-drawer>\n</template>\n<script setup lang=\"ts\">\nimport { ref, reactive } from 'vue';\nimport { useRouter } from 'vue-router';\nimport { message } from '@hwork/ant-design-vue';\nimport type { FormInstance } from '@hwork/ant-design-vue';\nimport { getContainer } from '@/utils/util';\nimport Avatar from './Avatar.vue';\nimport {\n    createAssistant,\n    AssistantType,\n    assistantDetail,\n    editAssistant,\n} from '@/api/market';\nconst router = useRouter();\nconst visible = ref(false);\nconst title = ref('创建AI助手');\nconst confirmText = ref('创建');\nconst avatarRef = ref<InstanceType<typeof Avatar>>();\nconst formRef = ref<FormInstance>();\nconst formState = reactive<Record<string, string>>({\n    name: '',\n    description: '',\n    prompts: '',\n});\nconst agentCode = ref<string | undefined>(undefined);\nconst avatar = ref('');\nconst avatarBg = ref('');\nconst emit = defineEmits<{\n    (e: 'refresh'): void;\n}>();\nconst rules = {\n    name: [{ required: true, message: '请输入助手名称' }],\n    description: [{ required: true, message: '请输入助手简介' }],\n    prompts: [{ required: true, message: '请输入助手设定' }],\n};\nconst onClose = () => {\n    visible.value = false;\n    formRef.value?.resetFields();\n    Object.keys(formState).map((key: string) => {\n        formState[key] = '';\n    });\n    title.value = '创建AI助手';\n    confirmText.value = '创建';\n    avatar.value = '';\n    avatarBg.value = '';\n};\nconst onConfirm = async () => {\n    try {\n        const values = await formRef.value?.validateFields();\n        const avatarData = avatarRef.value?.getAvatarData();\n        const handler =\n            confirmText.value === '创建' ? createAssistant : editAssistant;\n        const code = confirmText.value === '创建' ? undefined : agentCode.value;\n        handler({\n            ...values,\n            ...avatarData,\n            code\n        } as AssistantType).then((res) => {\n            if (res.code === 10000) {\n                message.success(`${confirmText.value}成功`);\n                if (confirmText.value === '创建') {\n                    router.push({\n                        path: '/chat/new',\n                        query: {\n                            agent: res.data?.code,\n                        },\n                    });\n                } else {\n                    emit('refresh');\n                }\n                onClose();\n            }\n        });\n    } catch (error) {\n        console.log(error, '<=== error ===>');\n    }\n};\nconst show = async (code?: string) => {\n    visible.value = true;\n    if (code) {\n        title.value = '编辑AI助手';\n        confirmText.value = '保存';\n        const res = await assistantDetail(code);\n        formState.name = res.data.name;\n        formState.description = res.data.description;\n        formState.prompts = res.data.prompts;\n        avatar.value = res.data.icon;\n        avatarBg.value = res.data.iconBackground;\n        agentCode.value = code;\n    }\n};\ndefineExpose({ show });\n</script>\n\n<style lang=\"less\" scoped>\n.form-wrap {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    .tips {\n        display: flex;\n        justify-content: center;\n        color: #86909c;\n        font-size: 12px;\n        margin-top: 8px;\n        img {\n            margin-right: 4px;\n        }\n    }\n}\n.btn-wrap {\n    display: flex;\n    justify-content: flex-end;\n    .btn {\n        margin-left: 12px;\n    }\n}\n</style>\n","import script from \"./Drawer.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./Drawer.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./Drawer.vue?vue&type=style&index=0&id=792ff67f&lang=less&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-792ff67f\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createVNode as _createVNode, Fragment as _Fragment, createElementBlock as _createElementBlock } from \"vue\"\n\nimport '@hwork/icon/search';\nimport { onMounted, ref } from 'vue';\nimport Drawer from './Drawer.vue';\nimport { checkPermission } from '@/api/permission';\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'index',\n  setup(__props, { expose: __expose }) {\n\nconst drawerRef = ref<InstanceType<typeof Drawer>>();\nconst show = (code?: string) => {\n    drawerRef.value?.show(code);\n};\nconst createBtnVisible = ref<boolean>(false);\n\nonMounted(async () => {\n    checkPermission().then((res) => {\n        createBtnVisible.value = res?.data?.withinPurview;\n    });\n});\n\n__expose({ show });\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_a_button = _resolveComponent(\"a-button\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    (createBtnVisible.value)\n      ? (_openBlock(), _createBlock(_component_a_button, {\n          key: 0,\n          type: \"primary\",\n          onClick: _cache[0] || (_cache[0] = ($event: any) => (show()))\n        }, {\n          icon: _withCtx(() => _cache[2] || (_cache[2] = [\n            _createElementVNode(\"h-icon-plus\", null, null, -1)\n          ])),\n          default: _withCtx(() => [\n            _cache[3] || (_cache[3] = _createTextVNode(\" 创建智能体 \"))\n          ]),\n          _: 1\n        }))\n      : _createCommentVNode(\"\", true),\n    _createVNode(Drawer, {\n      ref_key: \"drawerRef\",\n      ref: drawerRef,\n      onRefresh: _cache[1] || (_cache[1] = ($event: any) => (_ctx.$emit('refresh')))\n    }, null, 512)\n  ], 64))\n}\n}\n\n})","<template>\n    <a-button type=\"primary\" @click=\"show()\" v-if=\"createBtnVisible\">\n        <template #icon>\n            <h-icon-plus />\n        </template>\n        创建智能体\n    </a-button>\n    <Drawer ref=\"drawerRef\" @refresh=\"$emit('refresh')\" />\n</template>\n<script setup lang=\"ts\">\nimport '@hwork/icon/search';\nimport { onMounted, ref } from 'vue';\nimport Drawer from './Drawer.vue';\nimport { checkPermission } from '@/api/permission';\nconst drawerRef = ref<InstanceType<typeof Drawer>>();\nconst show = (code?: string) => {\n    drawerRef.value?.show(code);\n};\nconst createBtnVisible = ref<boolean>(false);\n\nonMounted(async () => {\n    checkPermission().then((res) => {\n        createBtnVisible.value = res?.data?.withinPurview;\n    });\n});\n\ndefineExpose({ show });\n</script>\n","import script from \"./index.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./index.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent } from 'vue';\nimport './index.less';\n\nexport default defineComponent({\n    name: 'SegmentedItem',\n    props: {\n        value: {\n            type: [String, Number],\n        },\n        label: {\n            type: [String, Number],\n        },\n        tooltip: {\n            type: String,\n            default: '',\n        },\n        disabled: {\n            type: Boolean,\n            default: false,\n        },\n        actived: {\n            type: Boolean,\n            default: false,\n        },\n    },\n    emits: ['choose', 'active'],\n    setup(props, { emit }) {\n        const chooseItem = () => {\n            if (!props.disabled) {\n                emit('choose', props.value);\n            }\n        };\n        return () => {\n            const { label, value, tooltip } = props;\n            return (\n                <div\n                    class={[\n                        'segmented-item',\n                        props.disabled && 'segmented-item-disabled',\n                        props.actived && 'segmented-item-active',\n                    ]}\n                    onClick={chooseItem}>\n                    <>\n                        {tooltip ? (\n                            <a-tooltip title={tooltip}>\n                                {label || value}\n                            </a-tooltip>\n                        ) : (\n                            label || value\n                        )}\n                    </>\n                </div>\n            );\n        };\n    },\n});\n","import type { PropType } from 'vue';\nimport { defineComponent } from 'vue';\nimport SegmentedItem from './SegmentedItem';\nimport './index.less';\n\ninterface IOptionType {\n    label?: string;\n    value: string | number;\n    disabled?: boolean;\n}\n\nexport default defineComponent({\n    name: 'Segmented',\n    props: {\n        value: {\n            type: [String, Number],\n        },\n        disabled: {\n            type: Boolean,\n            default: false,\n        },\n        options: {\n            type: Array as PropType<IOptionType[]>,\n            default: () => [],\n        },\n    },\n    emits: ['change', 'update:value'],\n    setup(props, { emit }) {\n        const chooseItem = (option: IOptionType) => {\n            if (!props.disabled && !option?.disabled) {\n                emit('update:value', option.value);\n                emit('change', option.value, option);\n            }\n        };\n        return () => {\n            const { value, disabled, options } = props || {};\n            return (\n                <div class={['segmented', disabled && 'segmented-disabled']}>\n                    {options.map((option) => (\n                        <SegmentedItem\n                            {...option}\n                            actived={option?.value === value}\n                            disabled={disabled || option?.disabled}\n                            onChoose={() => chooseItem(option)}\n                        />\n                    ))}\n                </div>\n            );\n        };\n    },\n});\n","<template>\n    <svg\n        width=\"12.000000\"\n        height=\"12.000000\"\n        viewBox=\"0 0 12 12\"\n        fill=\"none\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n    >\n        <desc>Created with Pixso.</desc>\n        <defs>\n            <clipPath id=\"clip907_12053\">\n                <rect\n                    id=\"svg\"\n                    width=\"12.000000\"\n                    height=\"12.000000\"\n                    fill=\"white\"\n                    fill-opacity=\"0\"\n                />\n            </clipPath>\n        </defs>\n        <g clip-path=\"url(#clip907_12053)\">\n            <path\n                id=\"path\"\n                d=\"M5.71 10.59C7.62 10.59 9.18 9.08 9.18 7.15C9.18 6.67 9.16 6.16 8.89 5.37C8.63 4.58 8.58 4.48 8.3 3.99C8.18 4.99 7.54 5.4 7.38 5.53C7.38 5.4 6.99 3.97 6.41 3.11C5.84 2.27 5.06 1.72 4.6 1.35C4.6 2.05 4.4 3.11 4.11 3.65C3.83 4.19 3.77 4.2 3.42 4.6C3.06 5.01 2.9 5.13 2.6 5.61C2.3 6.1 2.25 6.75 2.25 7.22C2.25 9.16 3.81 10.59 5.71 10.59Z\"\n                fill=\"#F53F3F\"\n                fill-opacity=\"1.000000\"\n                fill-rule=\"nonzero\"\n            />\n            <path\n                id=\"path\"\n                d=\"M9.18 7.15C9.18 6.67 9.16 6.16 8.89 5.37C8.63 4.58 8.58 4.48 8.3 3.99C8.18 4.99 7.54 5.4 7.38 5.53C7.38 5.4 6.99 3.97 6.41 3.11C5.84 2.27 5.06 1.72 4.6 1.35C4.6 2.05 4.4 3.11 4.11 3.65C3.83 4.19 3.77 4.2 3.42 4.6C3.06 5.01 2.9 5.13 2.6 5.61C2.3 6.1 2.25 6.75 2.25 7.22C2.25 9.16 3.81 10.59 5.71 10.59C7.62 10.59 9.18 9.08 9.18 7.15Z\"\n                stroke=\"#F53F3F\"\n                stroke-opacity=\"1.000000\"\n                stroke-width=\"1.000000\"\n                stroke-linejoin=\"round\"\n            />\n        </g>\n    </svg>\n</template>\n","import { render } from \"./hot.vue?vue&type=template&id=a084984e\"\nconst script = {}\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, withModifiers as _withModifiers, normalizeClass as _normalizeClass } from \"vue\"\n\nconst _hoisted_1 = { class: \"assistant-prompts\" }\nconst _hoisted_2 = [\"onClick\"]\nconst _hoisted_3 = { class: \"assistant-prompt-item-text\" }\n\nimport { PropType, computed } from 'vue';\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'index',\n  props: {\n    prompts: Array as PropType<string[]>,\n    useHandle: Function as PropType<(text?: string) => void>,\n},\n  setup(__props) {\n\nconst props = __props;\n\nconst prompts = computed<string[]>(() => {\n    return (props.prompts || []).slice(0, 3);\n});\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_a_tooltip = _resolveComponent(\"a-tooltip\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(prompts.value, (prompt, index) => {\n      return (_openBlock(), _createElementBlock(\"div\", {\n        class: _normalizeClass([\"assistant-prompt-item\", `assistant-prompt-item-${prompts.value.length}`]),\n        key: index,\n        onClick: _withModifiers(() => __props.useHandle!(prompt), [\"stop\"])\n      }, [\n        _createVNode(_component_a_tooltip, { title: prompt }, {\n          default: _withCtx(() => [\n            _createElementVNode(\"div\", _hoisted_3, _toDisplayString(prompt), 1)\n          ]),\n          _: 2\n        }, 1032, [\"title\"])\n      ], 10, _hoisted_2))\n    }), 128))\n  ]))\n}\n}\n\n})","<template>\n    <div class=\"assistant-prompts\">\n        <div\n            class=\"assistant-prompt-item\"\n            :class=\"`assistant-prompt-item-${prompts.length}`\"\n            v-for=\"(prompt, index) in prompts\"\n            :key=\"index\"\n            @click.stop=\"() => useHandle!(prompt)\"\n        >\n            <a-tooltip :title=\"prompt\">\n                <div class=\"assistant-prompt-item-text\">\n                    {{ prompt }}\n                </div>\n            </a-tooltip>\n        </div>\n    </div>\n</template>\n<script setup lang=\"ts\">\nimport { PropType, computed } from 'vue';\n\nconst props = defineProps({\n    prompts: Array as PropType<string[]>,\n    useHandle: Function as PropType<(text?: string) => void>,\n});\n\nconst prompts = computed<string[]>(() => {\n    return (props.prompts || []).slice(0, 3);\n});\n</script>\n\n<style lang=\"less\" scoped>\n.assistant-prompts {\n    display: flex;\n    gap: 8px;\n    width: 100%;\n}\n.assistant-prompt-item-1 {\n    max-width: 87%;\n}\n.assistant-prompt-item-2 {\n    max-width: 43%;\n}\n.assistant-prompt-item-3 {\n    max-width: 29%;\n}\n.assistant-prompt-item {\n    flex-shrink: 0;\n    border-radius: 4px;\n    padding: 5px 8px;\n    line-height: 14px;\n    height: 24px;\n    width: fit-content;\n    font-size: 10px;\n    color: rgb(29, 33, 41);\n    cursor: pointer;\n\n    background: linear-gradient(\n        90deg,\n        rgb(240, 230, 250),\n        rgb(255, 255, 255),\n        rgb(241, 248, 255),\n        rgb(225, 244, 255)\n    );\n    .assistant-prompt-item-text {\n        width: 100%;\n        overflow: hidden;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n        word-break: break-all;\n    }\n}\n</style>\n","import script from \"./index.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./index.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=01836aff&lang=less&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-01836aff\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createVNode as _createVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, normalizeClass as _normalizeClass, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\"\n\nconst _hoisted_1 = { class: \"ai-assistans-card-header\" }\nconst _hoisted_2 = { class: \"ai-assistans-card-avatar\" }\nconst _hoisted_3 = { class: \"ai-assistans-card-header-content\" }\nconst _hoisted_4 = { class: \"ai-assistans-card-header-title\" }\nconst _hoisted_5 = { class: \"ai-assistans-card-header-note\" }\nconst _hoisted_6 = { class: \"ai-assistans-card-tips\" }\nconst _hoisted_7 = { class: \"ai-assistans-card-actions\" }\nconst _hoisted_8 = {\n  key: 0,\n  class: \"ai-assistans-card-number\"\n}\nconst _hoisted_9 = { class: \"ai-assistans-card-action-item-number\" }\nconst _hoisted_10 = { class: \"ai-assistans-card-action-item-number\" }\nconst _hoisted_11 = { class: \"ai-assistans-card-action-hot-item\" }\nconst _hoisted_12 = { class: \"ai-assistans-card-action-item-number\" }\nconst _hoisted_13 = { key: 1 }\nconst _hoisted_14 = { class: \"ai-assistans-card-source\" }\n\nimport { PropType, computed, ref } from 'vue';\nimport { message } from '@hwork/ant-design-vue';\nimport hot from './icons/hot.vue';\nimport Prompts from '@/components/Prompts/index.vue';\nimport { useRouter } from 'vue-router';\nimport { doFavorite, doThumbsUp, doUse } from '@/api/market';\nimport { addChatGroup, setPrompt } from '@/hooks/useChatGroupList';\nimport AssistantAvarat from '@/components/AssistantAvarat/index.vue';\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'index',\n  props: {\n    assistant: Object as PropType<Record<string, any>>,\n},\n  setup(__props) {\n\nconst router = useRouter();\nconst props = __props;\n\nconst thumbsUp = ref<number>(props.assistant?.thumbsUp || 0);\nconst favorites = ref<number>(props.assistant?.favorites || 0);\nconst heat = ref<number>(props.assistant?.heat || 0);\nconst userFavorites = ref<boolean>(props.assistant?.userFavorites || false);\nconst userThumbsUp = ref<boolean>(props.assistant?.userThumbsUp || false);\n\nconst thumbsUpHandle = (e: Event) => {\n    e.stopPropagation();\n    if (!data.value.userUsable) {\n        return;\n    }\n\n    userThumbsUp.value = !userThumbsUp.value;\n    thumbsUp.value += userThumbsUp.value ? 1 : -1;\n    doThumbsUp(props.assistant?.id, userThumbsUp.value);\n};\n\nconst favoriteHandle = (e: Event) => {\n    e.stopPropagation();\n    if (!data.value.userUsable) {\n        return;\n    }\n\n    userFavorites.value = !userFavorites.value;\n    favorites.value += userFavorites.value ? 1 : -1;\n    doFavorite(props.assistant?.id, userFavorites.value);\n};\n\nconst useHandle = async (prompt?: string) => {\n    if (!data.value.userUsable) {\n        message.error(\n            '当前助手无权限，无法正常使用。可联系所属领域管理员添加权限后再使用。',\n        );\n        return;\n    }\n    doUse(props.assistant?.id);\n\n    if (prompt) {\n        setPrompt(prompt);\n        addChatGroup(\n            props.assistant?.agentName,\n            props.assistant?.agentCode,\n            props.assistant?.agentIcon,\n            props.assistant?.iconBackground,\n            prompt,\n        );\n    } else {\n        router.push({\n            path: '/chat/new',\n            query: {\n                agent: props.assistant?.agentCode,\n            },\n        });\n    }\n\n    // 跳转到聊天\n    // router.push({\n    //     path: `/chat/${chatGroup.groupCode}`,\n    //     query: {\n    //         agent: props.assistant?.groupType,\n    //     },\n    // });\n};\n\nconst getNumber = (num: number) => {\n    return num > 999 ? '999+' : num;\n};\n\nconst data = computed<Record<string, any>>(() => {\n    return props.assistant!;\n});\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_a_tooltip = _resolveComponent(\"a-tooltip\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"ai-assistans-card\", !data.value.userUsable && 'ai-assistans-card-disabled']),\n    onClick: _cache[2] || (_cache[2] = () => useHandle())\n  }, [\n    _createElementVNode(\"div\", _hoisted_1, [\n      _createElementVNode(\"div\", _hoisted_2, [\n        _createVNode(AssistantAvarat, {\n          icon: data.value.agentIcon,\n          iconBackground: data.value.iconBackground\n        }, null, 8, [\"icon\", \"iconBackground\"])\n      ]),\n      _createElementVNode(\"div\", _hoisted_3, [\n        _createElementVNode(\"div\", _hoisted_4, [\n          _createVNode(_component_a_tooltip, {\n            title: data.value.agentName\n          }, {\n            default: _withCtx(() => [\n              _createTextVNode(_toDisplayString(data.value.agentName), 1)\n            ]),\n            _: 1\n          }, 8, [\"title\"])\n        ]),\n        _createVNode(_component_a_tooltip, {\n          title: data.value.agentDesc\n        }, {\n          default: _withCtx(() => [\n            _createElementVNode(\"div\", _hoisted_5, _toDisplayString(data.value.agentDesc), 1)\n          ]),\n          _: 1\n        }, 8, [\"title\"])\n      ])\n    ]),\n    _createElementVNode(\"div\", _hoisted_6, [\n      _createVNode(Prompts, {\n        prompts: data.value.prompts,\n        useHandle: useHandle\n      }, null, 8, [\"prompts\"])\n    ]),\n    _createElementVNode(\"div\", _hoisted_7, [\n      (data.value.agentType !== 'personal')\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_8, [\n            _createElementVNode(\"div\", {\n              class: _normalizeClass([\"ai-assistans-card-action-item\", \n                        userThumbsUp.value && 'ai-assistans-card-action-item-blue'\n                    ]),\n              onClick: _cache[0] || (_cache[0] = (e) => thumbsUpHandle(e))\n            }, [\n              _cache[3] || (_cache[3] = _createElementVNode(\"div\", { class: \"ai-assistans-card-action-item-icon\" }, null, -1)),\n              _createElementVNode(\"span\", _hoisted_9, _toDisplayString(getNumber(thumbsUp.value)), 1)\n            ], 2),\n            (data.value.agentCode !== 'super')\n              ? (_openBlock(), _createElementBlock(\"div\", {\n                  key: 0,\n                  class: _normalizeClass([\"ai-assistans-card-action-item\", \n                        userFavorites.value && 'ai-assistans-card-action-item-blue'\n                    ]),\n                  onClick: _cache[1] || (_cache[1] = (e) => favoriteHandle(e))\n                }, [\n                  _cache[4] || (_cache[4] = _createElementVNode(\"div\", { class: \"ai-assistans-card-action-item-icon favorite\" }, null, -1)),\n                  _createElementVNode(\"span\", _hoisted_10, _toDisplayString(getNumber(favorites.value)), 1)\n                ], 2))\n              : _createCommentVNode(\"\", true),\n            _createElementVNode(\"div\", _hoisted_11, [\n              _createVNode(hot),\n              _createElementVNode(\"span\", _hoisted_12, _toDisplayString(getNumber(heat.value)), 1)\n            ])\n          ]))\n        : (_openBlock(), _createElementBlock(\"div\", _hoisted_13)),\n      _createElementVNode(\"div\", _hoisted_14, \" 来源：\" + _toDisplayString(data.value.agentType !== 'personal' ? data.value.domainName : '个人助手'), 1)\n    ])\n  ], 2))\n}\n}\n\n})","<template>\n    <div\n        class=\"ai-assistans-card\"\n        :class=\"!data.userUsable && 'ai-assistans-card-disabled'\"\n        @click=\"() => useHandle()\"\n    >\n        <div class=\"ai-assistans-card-header\">\n            <div class=\"ai-assistans-card-avatar\">\n                <AssistantAvarat\n                    :icon=\"data.agentIcon\"\n                    :iconBackground=\"data.iconBackground\"\n                />\n            </div>\n\n            <div class=\"ai-assistans-card-header-content\">\n                <div class=\"ai-assistans-card-header-title\">\n                    <a-tooltip :title=\"data.agentName\">\n                        {{ data.agentName }}\n                    </a-tooltip>\n                </div>\n                <a-tooltip :title=\"data.agentDesc\">\n                    <div class=\"ai-assistans-card-header-note\">\n                        {{ data.agentDesc }}\n                    </div>\n                </a-tooltip>\n            </div>\n        </div>\n        <div class=\"ai-assistans-card-tips\">\n            <Prompts :prompts=\"data.prompts\" :useHandle=\"useHandle\" />\n        </div>\n        <div class=\"ai-assistans-card-actions\">\n            <div\n                class=\"ai-assistans-card-number\"\n                v-if=\"data.agentType !== 'personal'\"\n            >\n                <div\n                    class=\"ai-assistans-card-action-item\"\n                    :class=\"\n                        userThumbsUp && 'ai-assistans-card-action-item-blue'\n                    \"\n                    @click=\"(e) => thumbsUpHandle(e)\"\n                >\n                    <div class=\"ai-assistans-card-action-item-icon\" />\n                    <span class=\"ai-assistans-card-action-item-number\">\n                        {{ getNumber(thumbsUp) }}\n                    </span>\n                </div>\n                <div\n                    v-if=\"data.agentCode !== 'super'\"\n                    class=\"ai-assistans-card-action-item\"\n                    :class=\"\n                        userFavorites && 'ai-assistans-card-action-item-blue'\n                    \"\n                    @click=\"(e) => favoriteHandle(e)\"\n                >\n                    <div class=\"ai-assistans-card-action-item-icon favorite\" />\n                    <span class=\"ai-assistans-card-action-item-number\">\n                        {{ getNumber(favorites) }}\n                    </span>\n                </div>\n                <div class=\"ai-assistans-card-action-hot-item\">\n                    <hot />\n                    <span class=\"ai-assistans-card-action-item-number\">\n                        {{ getNumber(heat) }}\n                    </span>\n                </div>\n            </div>\n            <div v-else />\n            <div class=\"ai-assistans-card-source\">\n                来源：{{\n                    data.agentType !== 'personal' ? data.domainName : '个人助手'\n                }}\n            </div>\n        </div>\n    </div>\n</template>\n<script setup lang=\"ts\">\nimport { PropType, computed, ref } from 'vue';\nimport { message } from '@hwork/ant-design-vue';\nimport hot from './icons/hot.vue';\nimport Prompts from '@/components/Prompts/index.vue';\nimport { useRouter } from 'vue-router';\nimport { doFavorite, doThumbsUp, doUse } from '@/api/market';\nimport { addChatGroup, setPrompt } from '@/hooks/useChatGroupList';\nimport AssistantAvarat from '@/components/AssistantAvarat/index.vue';\n\nconst router = useRouter();\nconst props = defineProps({\n    assistant: Object as PropType<Record<string, any>>,\n});\n\nconst thumbsUp = ref<number>(props.assistant?.thumbsUp || 0);\nconst favorites = ref<number>(props.assistant?.favorites || 0);\nconst heat = ref<number>(props.assistant?.heat || 0);\nconst userFavorites = ref<boolean>(props.assistant?.userFavorites || false);\nconst userThumbsUp = ref<boolean>(props.assistant?.userThumbsUp || false);\n\nconst thumbsUpHandle = (e: Event) => {\n    e.stopPropagation();\n    if (!data.value.userUsable) {\n        return;\n    }\n\n    userThumbsUp.value = !userThumbsUp.value;\n    thumbsUp.value += userThumbsUp.value ? 1 : -1;\n    doThumbsUp(props.assistant?.id, userThumbsUp.value);\n};\n\nconst favoriteHandle = (e: Event) => {\n    e.stopPropagation();\n    if (!data.value.userUsable) {\n        return;\n    }\n\n    userFavorites.value = !userFavorites.value;\n    favorites.value += userFavorites.value ? 1 : -1;\n    doFavorite(props.assistant?.id, userFavorites.value);\n};\n\nconst useHandle = async (prompt?: string) => {\n    if (!data.value.userUsable) {\n        message.error(\n            '当前助手无权限，无法正常使用。可联系所属领域管理员添加权限后再使用。',\n        );\n        return;\n    }\n    doUse(props.assistant?.id);\n\n    if (prompt) {\n        setPrompt(prompt);\n        addChatGroup(\n            props.assistant?.agentName,\n            props.assistant?.agentCode,\n            props.assistant?.agentIcon,\n            props.assistant?.iconBackground,\n            prompt,\n        );\n    } else {\n        router.push({\n            path: '/chat/new',\n            query: {\n                agent: props.assistant?.agentCode,\n            },\n        });\n    }\n\n    // 跳转到聊天\n    // router.push({\n    //     path: `/chat/${chatGroup.groupCode}`,\n    //     query: {\n    //         agent: props.assistant?.groupType,\n    //     },\n    // });\n};\n\nconst getNumber = (num: number) => {\n    return num > 999 ? '999+' : num;\n};\n\nconst data = computed<Record<string, any>>(() => {\n    return props.assistant!;\n});\n</script>\n<style lang=\"less\" scoped>\n@import url('./index.less');\n</style>\n","import script from \"./index.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./index.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=7a43de22&lang=less&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-7a43de22\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createTextVNode as _createTextVNode, createStaticVNode as _createStaticVNode } from \"vue\"\n\nconst _hoisted_1 = {\n  width: \"16.000000\",\n  height: \"16.000000\",\n  viewBox: \"0 0 16 16\",\n  fill: \"none\",\n  xmlns: \"http://www.w3.org/2000/svg\",\n  \"xmlns:xlink\": \"http://www.w3.org/1999/xlink\"\n}\nconst _hoisted_2 = [\"fill\"]\nconst _hoisted_3 = [\"fill\"]\n\nimport { ref, watch, PropType } from 'vue';\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'sort',\n  props: {\n    changeHandle: Function,\n    sort: {\n        type: String as PropType<string>,\n        default: 'HEAT_DESC',\n    },\n},\n  setup(__props) {\n\nconst props = __props;\nconst status = ref<string>(props.sort || 'HEAT_ASC');\n\nconst handleSort = () => {\n    status.value = status.value === 'HEAT_DESC' ? 'HEAT_ASC' : 'HEAT_DESC';\n};\n\nwatch(\n    () => status.value,\n    () => {\n        if (props.changeHandle) props.changeHandle(status.value);\n    },\n);\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"assistant-market-sort\",\n    onClick: handleSort\n  }, [\n    (_openBlock(), _createElementBlock(\"svg\", _hoisted_1, [\n      _cache[0] || (_cache[0] = _createStaticVNode(\"<defs data-v-26963738></defs><g opacity=\\\"0.000000\\\" data-v-26963738><rect id=\\\"矩形\\\" width=\\\"16.000000\\\" height=\\\"16.000000\\\" fill=\\\"#EBEEF5\\\" fill-opacity=\\\"1.000000\\\" data-v-26963738></rect><rect id=\\\"矩形\\\" x=\\\"0.500000\\\" y=\\\"0.500000\\\" width=\\\"15.000000\\\" height=\\\"15.000000\\\" stroke=\\\"#979797\\\" stroke-opacity=\\\"0\\\" stroke-width=\\\"1.000000\\\" data-v-26963738></rect></g><mask id=\\\"mask_350_13606\\\" fill=\\\"white\\\" data-v-26963738><path id=\\\"形状结合\\\" d=\\\"M6.5 5.75L6.5 2.5022C6.5 2.35754 6.43701 2.21985 6.32715 2.12488C6.11768 1.94373 5.80029 1.9657 5.61816 2.17407L2.12354 6.17163C2.04395 6.2627 2 6.37915 2 6.49976C2 6.77588 2.2251 6.99976 2.50244 6.99976L5 6.99976L5 13.25C5 13.6642 5.33594 14 5.75 14C6.16406 14 6.5 13.6642 6.5 13.25L6.5 5.75Z\\\" clip-rule=\\\"evenodd\\\" fill=\\\"\\\" fill-opacity=\\\"1.000000\\\" fill-rule=\\\"evenodd\\\" data-v-26963738></path></mask>\", 3)),\n      _createElementVNode(\"path\", {\n        id: \"形状结合\",\n        d: \"M6.5 5.75L6.5 2.5022C6.5 2.35754 6.43701 2.21985 6.32715 2.12488C6.11768 1.94373 5.80029 1.9657 5.61816 2.17407L2.12354 6.17163C2.04395 6.2627 2 6.37915 2 6.49976C2 6.77588 2.2251 6.99976 2.50244 6.99976L5 6.99976L5 13.25C5 13.6642 5.33594 14 5.75 14C6.16406 14 6.5 13.6642 6.5 13.25L6.5 5.75Z\",\n        \"clip-rule\": \"evenodd\",\n        fill: status.value === 'HEAT_DESC' ? '#979797' : '#165DFF',\n        \"fill-opacity\": \"1.000000\",\n        \"fill-rule\": \"evenodd\",\n        mask: \"url(#mask_350_13606)\"\n      }, null, 8, _hoisted_2),\n      _cache[1] || (_cache[1] = _createElementVNode(\"path\", {\n        id: \"形状结合\",\n        d: \"\",\n        \"clip-rule\": \"evenodd\",\n        fill: \"#979797\",\n        \"fill-opacity\": \"0.000000\",\n        \"fill-rule\": \"evenodd\"\n      }, null, -1)),\n      _cache[2] || (_cache[2] = _createElementVNode(\"mask\", {\n        id: \"mask_350_13609\",\n        fill: \"white\"\n      }, [\n        _createElementVNode(\"path\", {\n          id: \"形状结合\",\n          d: \"M9.5 10.252L9.5 13.4998C9.5 13.6444 9.56299 13.7821 9.67285 13.8771C9.88232 14.0582 10.1997 14.0363 10.3818 13.8279L13.8765 9.83032C13.9561 9.73926 14 9.6228 14 9.5022C14 9.22607 13.7749 9.0022 13.4976 9.0022L11 9.0022L11 2.75195C11 2.33777 10.6641 2.00195 10.25 2.00195C9.83594 2.00195 9.5 2.33777 9.5 2.75195L9.5 10.252Z\",\n          \"clip-rule\": \"evenodd\",\n          fill: \"\",\n          \"fill-opacity\": \"1.000000\",\n          \"fill-rule\": \"evenodd\"\n        })\n      ], -1)),\n      _createElementVNode(\"path\", {\n        id: \"形状结合\",\n        d: \"M9.5 10.252L9.5 13.4998C9.5 13.6444 9.56299 13.7821 9.67285 13.8771C9.88232 14.0582 10.1997 14.0363 10.3818 13.8279L13.8765 9.83032C13.9561 9.73926 14 9.6228 14 9.5022C14 9.22607 13.7749 9.0022 13.4976 9.0022L11 9.0022L11 2.75195C11 2.33777 10.6641 2.00195 10.25 2.00195C9.83594 2.00195 9.5 2.33777 9.5 2.75195L9.5 10.252Z\",\n        \"clip-rule\": \"evenodd\",\n        fill: status.value === 'HEAT_DESC' ? '#165DFF' : '#86909C',\n        \"fill-opacity\": \"1.000000\",\n        \"fill-rule\": \"evenodd\",\n        mask: \"url(#mask_350_13609)\"\n      }, null, 8, _hoisted_3),\n      _cache[3] || (_cache[3] = _createElementVNode(\"path\", {\n        id: \"形状结合\",\n        d: \"\",\n        \"clip-rule\": \"evenodd\",\n        fill: \"#979797\",\n        \"fill-opacity\": \"0.000000\",\n        \"fill-rule\": \"evenodd\"\n      }, null, -1))\n    ])),\n    _cache[4] || (_cache[4] = _createTextVNode(\" 最热 \"))\n  ]))\n}\n}\n\n})","<template>\n    <div class=\"assistant-market-sort\" @click=\"handleSort\">\n        <svg\n            width=\"16.000000\"\n            height=\"16.000000\"\n            viewBox=\"0 0 16 16\"\n            fill=\"none\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n        >\n            <defs />\n            <g opacity=\"0.000000\">\n                <rect\n                    id=\"矩形\"\n                    width=\"16.000000\"\n                    height=\"16.000000\"\n                    fill=\"#EBEEF5\"\n                    fill-opacity=\"1.000000\"\n                />\n                <rect\n                    id=\"矩形\"\n                    x=\"0.500000\"\n                    y=\"0.500000\"\n                    width=\"15.000000\"\n                    height=\"15.000000\"\n                    stroke=\"#979797\"\n                    stroke-opacity=\"0\"\n                    stroke-width=\"1.000000\"\n                />\n            </g>\n            <mask id=\"mask_350_13606\" fill=\"white\">\n                <path\n                    id=\"形状结合\"\n                    d=\"M6.5 5.75L6.5 2.5022C6.5 2.35754 6.43701 2.21985 6.32715 2.12488C6.11768 1.94373 5.80029 1.9657 5.61816 2.17407L2.12354 6.17163C2.04395 6.2627 2 6.37915 2 6.49976C2 6.77588 2.2251 6.99976 2.50244 6.99976L5 6.99976L5 13.25C5 13.6642 5.33594 14 5.75 14C6.16406 14 6.5 13.6642 6.5 13.25L6.5 5.75Z\"\n                    clip-rule=\"evenodd\"\n                    fill=\"\"\n                    fill-opacity=\"1.000000\"\n                    fill-rule=\"evenodd\"\n                />\n            </mask>\n            <path\n                id=\"形状结合\"\n                d=\"M6.5 5.75L6.5 2.5022C6.5 2.35754 6.43701 2.21985 6.32715 2.12488C6.11768 1.94373 5.80029 1.9657 5.61816 2.17407L2.12354 6.17163C2.04395 6.2627 2 6.37915 2 6.49976C2 6.77588 2.2251 6.99976 2.50244 6.99976L5 6.99976L5 13.25C5 13.6642 5.33594 14 5.75 14C6.16406 14 6.5 13.6642 6.5 13.25L6.5 5.75Z\"\n                clip-rule=\"evenodd\"\n                :fill=\"status === 'HEAT_DESC' ? '#979797' : '#165DFF'\"\n                fill-opacity=\"1.000000\"\n                fill-rule=\"evenodd\"\n                mask=\"url(#mask_350_13606)\"\n            />\n            <path\n                id=\"形状结合\"\n                d=\"\"\n                clip-rule=\"evenodd\"\n                fill=\"#979797\"\n                fill-opacity=\"0.000000\"\n                fill-rule=\"evenodd\"\n            />\n            <mask id=\"mask_350_13609\" fill=\"white\">\n                <path\n                    id=\"形状结合\"\n                    d=\"M9.5 10.252L9.5 13.4998C9.5 13.6444 9.56299 13.7821 9.67285 13.8771C9.88232 14.0582 10.1997 14.0363 10.3818 13.8279L13.8765 9.83032C13.9561 9.73926 14 9.6228 14 9.5022C14 9.22607 13.7749 9.0022 13.4976 9.0022L11 9.0022L11 2.75195C11 2.33777 10.6641 2.00195 10.25 2.00195C9.83594 2.00195 9.5 2.33777 9.5 2.75195L9.5 10.252Z\"\n                    clip-rule=\"evenodd\"\n                    fill=\"\"\n                    fill-opacity=\"1.000000\"\n                    fill-rule=\"evenodd\"\n                />\n            </mask>\n            <path\n                id=\"形状结合\"\n                d=\"M9.5 10.252L9.5 13.4998C9.5 13.6444 9.56299 13.7821 9.67285 13.8771C9.88232 14.0582 10.1997 14.0363 10.3818 13.8279L13.8765 9.83032C13.9561 9.73926 14 9.6228 14 9.5022C14 9.22607 13.7749 9.0022 13.4976 9.0022L11 9.0022L11 2.75195C11 2.33777 10.6641 2.00195 10.25 2.00195C9.83594 2.00195 9.5 2.33777 9.5 2.75195L9.5 10.252Z\"\n                clip-rule=\"evenodd\"\n                :fill=\"status === 'HEAT_DESC' ? '#165DFF' : '#86909C'\"\n                fill-opacity=\"1.000000\"\n                fill-rule=\"evenodd\"\n                mask=\"url(#mask_350_13609)\"\n            />\n            <path\n                id=\"形状结合\"\n                d=\"\"\n                clip-rule=\"evenodd\"\n                fill=\"#979797\"\n                fill-opacity=\"0.000000\"\n                fill-rule=\"evenodd\"\n            />\n        </svg>\n        最热\n    </div>\n</template>\n<script setup lang=\"ts\">\nimport { ref, watch, defineProps, PropType } from 'vue';\nconst props = defineProps({\n    changeHandle: Function,\n    sort: {\n        type: String as PropType<string>,\n        default: 'HEAT_DESC',\n    },\n});\nconst status = ref<string>(props.sort || 'HEAT_ASC');\n\nconst handleSort = () => {\n    status.value = status.value === 'HEAT_DESC' ? 'HEAT_ASC' : 'HEAT_DESC';\n};\n\nwatch(\n    () => status.value,\n    () => {\n        if (props.changeHandle) props.changeHandle(status.value);\n    },\n);\n</script>\n<style scoped lang=\"less\">\n.assistant-market-sort {\n    height: 24px;\n    display: flex;\n    align-items: center;\n    cursor: pointer;\n    font-size: 12px;\n}\n</style>\n","import script from \"./sort.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./sort.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./sort.vue?vue&type=style&index=0&id=26963738&scoped=true&lang=less\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-26963738\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nimport { PropType } from 'vue';\nimport hot from './icons/sort.vue';\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'index',\n  props: {\n    sort: {\n        type: String as PropType<string>,\n        default: 'HEAT_DESC',\n    },\n    changeHandle: Function,\n},\n  setup(__props) {\n\nconst props = __props;\n\nconst changeHandle = (v: string) => {\n    if (props.changeHandle) props.changeHandle(v);\n};\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createBlock(hot, {\n    changeHandle: changeHandle,\n    sort: __props.sort\n  }, null, 8, [\"sort\"]))\n}\n}\n\n})","<template>\n    <hot :changeHandle=\"changeHandle\" :sort=\"sort\" />\n</template>\n<script setup lang=\"ts\">\nimport { PropType } from 'vue';\nimport hot from './icons/sort.vue';\nconst props = defineProps({\n    sort: {\n        type: String as PropType<string>,\n        default: 'HEAT_DESC',\n    },\n    changeHandle: Function,\n});\n\nconst changeHandle = (v: string) => {\n    if (props.changeHandle) props.changeHandle(v);\n};\n</script>\n","import script from \"./index.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./index.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","export const TYPES = [\n    {\n        label: '我的使用',\n        value: '我的使用',\n    },\n    {\n        label: '我的收藏',\n        value: '我的收藏',\n    },\n    {\n        label: '个人助手',\n        value: '个人助手',\n    },\n];\n\nconst regex =\n    /(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i;\n\nexport const isMobile = () => regex.test(window.navigator.userAgent);\n","import { defineComponent as _defineComponent } from 'vue'\nimport { createVNode as _createVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, withCtx as _withCtx, createBlock as _createBlock, createCommentVNode as _createCommentVNode, unref as _unref } from \"vue\"\n\nconst _hoisted_1 = { class: \"market-wrapper\" }\nconst _hoisted_2 = { class: \"market-search-wrapper\" }\nconst _hoisted_3 = { class: \"assistant-market-assistants\" }\nconst _hoisted_4 = {\n  key: 0,\n  class: \"assistant-market-recent-use\"\n}\nconst _hoisted_5 = { class: \"assistant-market-recent-use-items\" }\nconst _hoisted_6 = [\"onClick\"]\nconst _hoisted_7 = { class: \"assistant-name-text\" }\nconst _hoisted_8 = { class: \"assistant-market-filter\" }\nconst _hoisted_9 = {\n  key: 0,\n  class: \"assistant-market-subtitle\"\n}\nconst _hoisted_10 = { key: 2 }\nconst _hoisted_11 = {\n  key: 1,\n  class: \"assistant-market-empty-data\"\n}\nconst _hoisted_12 = [\"src\"]\n\nimport { ref, watch, computed } from 'vue';\nimport Header from './Header/index.vue';\nimport Search from './Search/index.vue';\nimport Create from './CreateAssistant/index.vue';\nimport Categories from '../Categories/index.vue';\nimport Segmented from '@/components/Segmented';\nimport AssistantCard from '@/components/AssistantCard/index.vue';\nimport AssistantSelfCard from '@/components/AssistantSelfCard/index.vue';\nimport AssistantAvarat from '@/components/AssistantAvarat/index.vue';\nimport Sort from '../Sort/index.vue';\nimport { TYPES } from '../constants';\nimport {\n    getMarketList,\n    getMarketRecentUseList,\n    doUse,\n    AgentType,\n} from '@/api/market';\nimport emptyDataImage from '@/assets/images/empty-data.png';\nimport { onMounted } from 'vue';\nimport { message } from '@hwork/ant-design-vue';\nimport { useRouter } from 'vue-router';\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'index',\n  setup(__props) {\n\nconst searchText = ref<string>('');\nconst type = ref<string>('我的使用');\nconst domains = ref<string[]>([]);\nconst assistants = ref<Record<string, any>[]>([]);\nconst sort = ref<string>('HEAT_DESC');\nconst loading = ref<boolean>(true);\nconst spanNumber = ref<number>(12);\nconst assistantsRef = ref<HTMLDivElement>();\nconst createRef = ref<InstanceType<typeof Create>>();\nconst recentUseAssistants = ref<AgentType[]>([]);\nconst router = useRouter();\n\nonMounted(() => {\n    // 获取最近使用的助手列表\n    getMarketRecentUseList().then((response) => {\n        recentUseAssistants.value = response.data as any;\n    });\n    if (assistantsRef.value) {\n        if (assistantsRef.value.getBoundingClientRect().width < 730) {\n            spanNumber.value = 12;\n        } else {\n            spanNumber.value = 8;\n        }\n    }\n});\n\nconst changeDomainList = (domain: string) => {\n    if (domain === 'all') {\n        domains.value = [];\n    } else {\n        domains.value = [domain];\n    }\n};\n\nconst useHandle = async (target: AgentType) => {\n    if (!target.userUsable) {\n        message.error(\n            '当前助手无权限，无法正常使用。可联系所属领域管理员添加权限后再使用。',\n        );\n        return;\n    }\n    doUse(target.id);\n    router.push({\n        path: '/chat/new',\n        query: {\n            agent: target.agentCode,\n        },\n    });\n};\n\nconst changeSortHandle = (target: string) => {\n    sort.value = target;\n};\nconst editAssistant = (code: string) => {\n    createRef.value?.show(code);\n};\nconst refreshList = () => {\n    type.value = '个人助手';\n    domains.value = ['my'];\n};\n\nconst showMyFilter = computed(() => {\n    if (Array.isArray(domains.value) && domains.value.length) {\n        return domains.value[0] === 'my';\n    } else {\n        return false;\n    }\n});\nconst showSelf = computed(() => {\n    return type.value === '个人助手' && domains.value[0] === 'my';\n});\n\nwatch(\n    () => [domains.value, searchText.value, type.value, sort.value],\n    () => {\n        loading.value = true;\n        getMarketList({\n            pageNumber: 1,\n            pageSize: 50,\n            domainList: domains.value,\n            agentName: searchText.value,\n            type: type.value,\n            orderBy: sort.value,\n        })\n            .then((response) => {\n                assistants.value = response.data.items;\n            })\n            .finally(() => {\n                loading.value = false;\n            });\n    },\n    {\n        immediate: true,\n        deep: true,\n    },\n);\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_a_tooltip = _resolveComponent(\"a-tooltip\")!\n  const _component_a_col = _resolveComponent(\"a-col\")!\n  const _component_a_row = _resolveComponent(\"a-row\")!\n  const _component_a_spin = _resolveComponent(\"a-spin\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(Header),\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createVNode(Search, {\n        modelValue: searchText.value,\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((searchText).value = $event))\n      }, null, 8, [\"modelValue\"]),\n      _createVNode(Create, {\n        ref_key: \"createRef\",\n        ref: createRef,\n        onRefresh: refreshList\n      }, null, 512)\n    ]),\n    _createVNode(Categories, { \"change-handle\": changeDomainList }),\n    _createElementVNode(\"div\", _hoisted_3, [\n      (!domains.value.length && recentUseAssistants.value.length)\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [\n            _cache[2] || (_cache[2] = _createElementVNode(\"div\", { class: \"assistant-market-subtitle\" }, \"最近使用\", -1)),\n            _createElementVNode(\"div\", _hoisted_5, [\n              (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(recentUseAssistants.value, (assistant) => {\n                return (_openBlock(), _createBlock(_component_a_tooltip, {\n                  key: assistant.agentCode,\n                  title: assistant.agentDesc\n                }, {\n                  default: _withCtx(() => [\n                    _createElementVNode(\"div\", {\n                      class: \"assistant-market-recent-use-items-item\",\n                      onClick: () => useHandle(assistant)\n                    }, [\n                      _createVNode(AssistantAvarat, {\n                        icon: assistant.agentIcon,\n                        iconBackground: assistant.iconBackground,\n                        size: \"large\"\n                      }, null, 8, [\"icon\", \"iconBackground\"]),\n                      _createElementVNode(\"div\", _hoisted_7, _toDisplayString(assistant.agentName), 1)\n                    ], 8, _hoisted_6)\n                  ]),\n                  _: 2\n                }, 1032, [\"title\"]))\n              }), 128))\n            ])\n          ]))\n        : _createCommentVNode(\"\", true),\n      _createElementVNode(\"div\", _hoisted_8, [\n        (!domains.value.length)\n          ? (_openBlock(), _createElementBlock(\"div\", _hoisted_9, \" 全部助手 \"))\n          : _createCommentVNode(\"\", true),\n        (showMyFilter.value)\n          ? (_openBlock(), _createBlock(_unref(Segmented), {\n              key: 1,\n              options: _unref(TYPES),\n              value: type.value,\n              \"onUpdate:value\": _cache[1] || (_cache[1] = ($event: any) => ((type).value = $event))\n            }, null, 8, [\"options\", \"value\"]))\n          : (_openBlock(), _createElementBlock(\"div\", _hoisted_10)),\n        (!showSelf.value)\n          ? (_openBlock(), _createBlock(Sort, {\n              key: 3,\n              sort: sort.value,\n              changeHandle: changeSortHandle\n            }, null, 8, [\"sort\"]))\n          : _createCommentVNode(\"\", true)\n      ]),\n      _createElementVNode(\"div\", {\n        class: \"assistant-market-default-assistants\",\n        ref_key: \"assistantsRef\",\n        ref: assistantsRef\n      }, [\n        _createVNode(_component_a_spin, { spinning: loading.value }, {\n          default: _withCtx(() => [\n            (assistants.value.length)\n              ? (_openBlock(), _createBlock(_component_a_row, {\n                  key: 0,\n                  gutter: [12, 12]\n                }, {\n                  default: _withCtx(() => [\n                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(assistants.value, (assistant) => {\n                      return (_openBlock(), _createBlock(_component_a_col, {\n                        span: spanNumber.value,\n                        key: assistant.id\n                      }, {\n                        default: _withCtx(() => [\n                          (showSelf.value)\n                            ? (_openBlock(), _createBlock(AssistantSelfCard, {\n                                key: 0,\n                                assistant: assistant,\n                                onDelete: refreshList,\n                                onEdit: editAssistant\n                              }, null, 8, [\"assistant\"]))\n                            : (_openBlock(), _createBlock(AssistantCard, {\n                                key: 1,\n                                assistant: assistant\n                              }, null, 8, [\"assistant\"]))\n                        ]),\n                        _: 2\n                      }, 1032, [\"span\"]))\n                    }), 128))\n                  ]),\n                  _: 1\n                }))\n              : (_openBlock(), _createElementBlock(\"div\", _hoisted_11, [\n                  _createElementVNode(\"img\", { src: _unref(emptyDataImage) }, null, 8, _hoisted_12),\n                  _cache[3] || (_cache[3] = _createElementVNode(\"span\", null, \"暂无数据\", -1))\n                ]))\n          ]),\n          _: 1\n        }, 8, [\"spinning\"])\n      ], 512)\n    ])\n  ]))\n}\n}\n\n})","<template>\n    <div class=\"market-wrapper\">\n        <Header />\n        <div class=\"market-search-wrapper\">\n            <Search v-model=\"searchText\" />\n            <Create ref=\"createRef\" @refresh=\"refreshList\" />\n        </div>\n        <Categories :change-handle=\"changeDomainList\" />\n        <div class=\"assistant-market-assistants\">\n            <div\n                class=\"assistant-market-recent-use\"\n                v-if=\"!domains.length && recentUseAssistants.length\"\n            >\n                <div class=\"assistant-market-subtitle\">最近使用</div>\n                <div class=\"assistant-market-recent-use-items\">\n                    <a-tooltip\n                        v-for=\"assistant in recentUseAssistants\"\n                        :key=\"assistant.agentCode\"\n                        :title=\"assistant.agentDesc\"\n                    >\n                        <div\n                            class=\"assistant-market-recent-use-items-item\"\n                            @click=\"() => useHandle(assistant)\"\n                        >\n                            <AssistantAvarat\n                                :icon=\"assistant.agentIcon\"\n                                :iconBackground=\"assistant.iconBackground\"\n                                size=\"large\"\n                            />\n                            <div class=\"assistant-name-text\">\n                                {{ assistant.agentName }}\n                            </div>\n                        </div>\n                    </a-tooltip>\n                </div>\n            </div>\n            <div class=\"assistant-market-filter\">\n                <div v-if=\"!domains.length\" class=\"assistant-market-subtitle\">\n                    全部助手\n                </div>\n                <Segmented\n                    v-if=\"showMyFilter\"\n                    :options=\"TYPES\"\n                    v-model:value=\"type\"\n                />\n                <div v-else />\n                <Sort\n                    v-if=\"!showSelf\"\n                    :sort=\"sort\"\n                    :changeHandle=\"changeSortHandle\"\n                />\n            </div>\n\n            <div\n                class=\"assistant-market-default-assistants\"\n                ref=\"assistantsRef\"\n            >\n                <a-spin :spinning=\"loading\">\n                    <a-row :gutter=\"[12, 12]\" v-if=\"assistants.length\">\n                        <a-col\n                            :span=\"spanNumber\"\n                            v-for=\"assistant in assistants\"\n                            :key=\"assistant.id\"\n                        >\n                            <AssistantSelfCard\n                                v-if=\"showSelf\"\n                                :assistant=\"assistant\"\n                                @delete=\"refreshList\"\n                                @edit=\"editAssistant\"\n                            />\n                            <AssistantCard v-else :assistant=\"assistant\" />\n                        </a-col>\n                    </a-row>\n                    <div class=\"assistant-market-empty-data\" v-else>\n                        <img :src=\"emptyDataImage\" />\n                        <span>暂无数据</span>\n                    </div>\n                </a-spin>\n            </div>\n        </div>\n    </div>\n</template>\n<script setup lang=\"ts\">\nimport { ref, watch, computed } from 'vue';\nimport Header from './Header/index.vue';\nimport Search from './Search/index.vue';\nimport Create from './CreateAssistant/index.vue';\nimport Categories from '../Categories/index.vue';\nimport Segmented from '@/components/Segmented';\nimport AssistantCard from '@/components/AssistantCard/index.vue';\nimport AssistantSelfCard from '@/components/AssistantSelfCard/index.vue';\nimport AssistantAvarat from '@/components/AssistantAvarat/index.vue';\nimport Sort from '../Sort/index.vue';\nimport { TYPES } from '../constants';\nimport {\n    getMarketList,\n    getMarketRecentUseList,\n    doUse,\n    AgentType,\n} from '@/api/market';\nimport emptyDataImage from '@/assets/images/empty-data.png';\nimport { onMounted } from 'vue';\nimport { message } from '@hwork/ant-design-vue';\nimport { useRouter } from 'vue-router';\n\nconst searchText = ref<string>('');\nconst type = ref<string>('我的使用');\nconst domains = ref<string[]>([]);\nconst assistants = ref<Record<string, any>[]>([]);\nconst sort = ref<string>('HEAT_DESC');\nconst loading = ref<boolean>(true);\nconst spanNumber = ref<number>(12);\nconst assistantsRef = ref<HTMLDivElement>();\nconst createRef = ref<InstanceType<typeof Create>>();\nconst recentUseAssistants = ref<AgentType[]>([]);\nconst router = useRouter();\n\nonMounted(() => {\n    // 获取最近使用的助手列表\n    getMarketRecentUseList().then((response) => {\n        recentUseAssistants.value = response.data as any;\n    });\n    if (assistantsRef.value) {\n        if (assistantsRef.value.getBoundingClientRect().width < 730) {\n            spanNumber.value = 12;\n        } else {\n            spanNumber.value = 8;\n        }\n    }\n});\n\nconst changeDomainList = (domain: string) => {\n    if (domain === 'all') {\n        domains.value = [];\n    } else {\n        domains.value = [domain];\n    }\n};\n\nconst useHandle = async (target: AgentType) => {\n    if (!target.userUsable) {\n        message.error(\n            '当前助手无权限，无法正常使用。可联系所属领域管理员添加权限后再使用。',\n        );\n        return;\n    }\n    doUse(target.id);\n    router.push({\n        path: '/chat/new',\n        query: {\n            agent: target.agentCode,\n        },\n    });\n};\n\nconst changeSortHandle = (target: string) => {\n    sort.value = target;\n};\nconst editAssistant = (code: string) => {\n    createRef.value?.show(code);\n};\nconst refreshList = () => {\n    type.value = '个人助手';\n    domains.value = ['my'];\n};\n\nconst showMyFilter = computed(() => {\n    if (Array.isArray(domains.value) && domains.value.length) {\n        return domains.value[0] === 'my';\n    } else {\n        return false;\n    }\n});\nconst showSelf = computed(() => {\n    return type.value === '个人助手' && domains.value[0] === 'my';\n});\n\nwatch(\n    () => [domains.value, searchText.value, type.value, sort.value],\n    () => {\n        loading.value = true;\n        getMarketList({\n            pageNumber: 1,\n            pageSize: 50,\n            domainList: domains.value,\n            agentName: searchText.value,\n            type: type.value,\n            orderBy: sort.value,\n        })\n            .then((response) => {\n                assistants.value = response.data.items;\n            })\n            .finally(() => {\n                loading.value = false;\n            });\n    },\n    {\n        immediate: true,\n        deep: true,\n    },\n);\n</script>\n\n<style scoped lang=\"less\">\n@import url('./index.less');\n</style>\n","import script from \"./index.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./index.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=4a2a4b8f&scoped=true&lang=less\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-4a2a4b8f\"]])\n\nexport default __exports__","import { defineComponent } from 'vue';\nimport { showMobile } from '@/utils/util';\nimport MobileMarket from './mobile/index.vue';\nimport PcMarket from './pc/index.vue';\n\nexport default defineComponent({\n    name: 'AssistantMarket',\n    setup() {\n        return () => (showMobile() ? <MobileMarket /> : <PcMarket />);\n    },\n});\n","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"assistant-matket-page\" }\n\nimport Market from '@/components/Market';\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'Market',\n  setup(__props) {\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(_unref(Market))\n  ]))\n}\n}\n\n})","import script from \"./Market.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./Market.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./Market.vue?vue&type=style&index=0&id=ed9455fa&lang=less&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-ed9455fa\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_cache","_createElementVNode","script","__exports__","render","_hoisted_2","_defineComponent","__name","emits","setup","__props","_ref","__expose","expose","__emit","emit","router","useRouter","visible","ref","title","confirmText","avatarRef","formRef","formState","reactive","name","description","prompts","agentCode","undefined","avatar","avatarBg","rules","required","message","onClose","_formRef$value","value","resetFields","Object","keys","map","key","onConfirm","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_formRef$value2","_avatarRef$value","values","avatarData","handler","code","wrap","_context","prev","next","validateFields","sent","getAvatarData","createAssistant","editAssistant","_objectSpread","then","res","_res$data","success","concat","push","path","query","agent","data","t0","console","log","stop","apply","arguments","show","_ref3","_callee2","_context2","assistantDetail","icon","iconBackground","_x","_ctx","_component_a_input","_resolveComponent","_component_a_form_item","_component_a_textarea","_component_a_form","_component_a_button","_component_a_drawer","_openBlock","_createBlock","width","getContainer","_unref","footer","_withCtx","_createVNode","onClick","default","_createTextVNode","_","type","_toDisplayString","Avatar","ref_key","src","_imports_0","layout","model","label","$event","placeholder","maxlength","rows","drawerRef","_drawerRef$value","createBtnVisible","onMounted","checkPermission","withinPurview","_Fragment","_createCommentVNode","Drawer","onRefresh","$emit","defineComponent","props","String","Number","tooltip","disabled","Boolean","actived","chooseItem","options","Array","option","SegmentedItem","_mergeProps","height","viewBox","fill","xmlns","_createStaticVNode","_hoisted_3","useHandle","Function","computed","slice","_component_a_tooltip","_renderList","prompt","index","_normalizeClass","length","_withModifiers","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","assistant","_props$assistant","_props$assistant2","_props$assistant3","_props$assistant4","_props$assistant5","thumbsUp","favorites","heat","userFavorites","userThumbsUp","thumbsUpHandle","e","_props$assistant6","stopPropagation","userUsable","doThumbsUp","id","favoriteHandle","_props$assistant7","doFavorite","_props$assistant8","_props$assistant9","_props$assistant10","_props$assistant11","_props$assistant12","_props$assistant13","error","abrupt","doUse","setPrompt","addChatGroup","agentName","agentIcon","getNumber","num","AssistantAvarat","agentDesc","Prompts","agentType","hot","domainName","changeHandle","sort","status","handleSort","watch","d","mask","v","TYPES","searchText","domains","assistants","loading","spanNumber","assistantsRef","createRef","recentUseAssistants","getMarketRecentUseList","response","getBoundingClientRect","changeDomainList","domain","target","changeSortHandle","_createRef$value","refreshList","showMyFilter","isArray","showSelf","getMarketList","pageNumber","pageSize","domainList","orderBy","items","finally","immediate","deep","_component_a_col","_component_a_row","_component_a_spin","Header","Search","modelValue","Create","Categories","size","Segmented","Sort","spinning","gutter","span","AssistantSelfCard","onDelete","onEdit","AssistantCard","emptyDataImage","showMobile","MobileMarket","PcMarket","Market"],"sourceRoot":""}